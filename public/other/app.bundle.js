!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=67)}([function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"e",(function(){return i.each})),n.d(e,"i",(function(){return i.map})),n.d(e,"g",(function(){return i.find})),n.d(e,"f",(function(){return i.filter})),n.d(e,"b",(function(){return i.contains})),n.d(e,"j",(function(){return i.pluck})),n.d(e,"k",(function(){return i.sample})),n.d(e,"h",(function(){return i.last})),n.d(e,"d",(function(){return i.defaults})),n.d(e,"a",(function(){return i.clone}));var i=n(9),r=Object(i.mixin)(i);r._=r;var o=r},function(t,e,n){"use strict";t.exports=function(t,e){return e||(e={}),"string"!=typeof(t=t&&t.__esModule?t.default:t)?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i={site_url:"quickdraw.withgoogle.com",handwriting_url:"https://inputtools.google.com/request?ime=handwriting&app=quickdraw&dbg=1&cs=1&oe=UTF-8",handwriting_threshold:4,handwriting_recognition_threshold:2,round_length:20,num_rounds:6,max_api_rate:1,gameSplashscreenTimeout:20,userNotDrawingTimeout:7,noNewGuessesSentences:["no_clue","not_sure","stumped"],timesUpSentences:["sorry"],userNotDrawingSentences:["cant_guess","start_drawing"],edition:"",handwriting_collector_url:""}},function(t,e,n){var i,r;
/*!
 * Paper.js v0.12.11 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2020, Jürg Lehni & Jonathan Puckey
 * http://juerglehni.com/ & https://puckey.studio/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Fri Jun 19 19:14:33 2020 +0200
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2020 Jürg Lehni
 * http://juerglehni.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * https://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */(function(o,s){var a=(o=o||n(68)).window,u=o.document,l=new function(){var t=/^(statics|enumerable|beans|preserve)$/,e=[],n=e.slice,i=Object.create,r=Object.getOwnPropertyDescriptor,o=Object.defineProperty,a=e.forEach||function(t,e){for(var n=0,i=this.length;n<i;n++)t.call(e,this[n],n,this)},u=function(t,e){for(var n in this)this.hasOwnProperty(n)&&t.call(e,this[n],n,this)},l=Object.assign||function(t){for(var e=1,n=arguments.length;e<n;e++){var i=arguments[e];for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t},c=function(t,e,n){if(t){var i=r(t,"length");(i&&"number"==typeof i.value?a:u).call(t,e,n=n||t)}return n};function h(e,n,i,s,a){var u={};function l(t,l){"string"==typeof(l=l||(l=r(n,t))&&(l.get?l:l.value))&&"#"===l[0]&&(l=e[l.substring(1)]||l);var c,h="function"==typeof l,f=l,p=a||h&&!l.base?l&&l.get?t in e:e[t]:null;a&&p||(h&&p&&(l.base=p),h&&!1!==s&&(c=t.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(u[c[3].toLowerCase()+c[4]]=c[2]),f&&!h&&f.get&&"function"==typeof f.get&&d.isPlainObject(f)||(f={value:f,writable:!0}),(r(e,t)||{configurable:!0}).configurable&&(f.configurable=!0,f.enumerable=null!=i?i:!c),o(e,t,f))}if(n){for(var c in n)n.hasOwnProperty(c)&&!t.test(c)&&l(c);for(var c in u){var h=u[c],f=e["set"+h],p=e["get"+h]||f&&e["is"+h];!p||!0!==s&&0!==p.length||l(c,{get:p,set:f})}}return e}function d(){for(var t=0,e=arguments.length;t<e;t++){var n=arguments[t];n&&l(this,n)}return this}return h(d,{inject:function(t){if(t){var e=!0===t.statics?t:t.statics,n=t.beans,i=t.preserve;e!==t&&h(this.prototype,t,t.enumerable,n,i),h(this,e,null,n,i)}for(var r=1,o=arguments.length;r<o;r++)this.inject(arguments[r]);return this},extend:function(){for(var t,e,n,r=this,s=0,a=arguments.length;s<a&&(!t||!e);s++)n=arguments[s],t=t||n.initialize,e=e||n.prototype;return t=t||function(){r.apply(this,arguments)},e=t.prototype=e||i(this.prototype),o(e,"constructor",{value:t,writable:!0,configurable:!0}),h(t,this),arguments.length&&this.inject.apply(t,arguments),t.base=r,t}}).inject({enumerable:!1,initialize:d,set:d,inject:function(){for(var t=0,e=arguments.length;t<e;t++){var n=arguments[t];n&&h(this,n,n.enumerable,n.beans,n.preserve)}return this},extend:function(){var t=i(this);return t.inject.apply(t,arguments)},each:function(t,e){return c(this,t,e)},clone:function(){return new this.constructor(this)},statics:{set:l,each:c,create:i,define:o,describe:r,clone:function(t){return l(new t.constructor,t)},isPlainObject:function(t){var e=null!=t&&t.constructor;return e&&(e===Object||e===d||"Object"===e.name)},pick:function(t,e){return t!==s?t:e},slice:function(t,e,i){return n.call(t,e,i)}}})};t.exports=l,l.inject({enumerable:!1,toString:function(){return null!=this._id?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+l.each(this,(function(t,e){if(!/^_/.test(e)){var n=typeof t;this.push(e+": "+("number"===n?p.instance.number(t):"string"===n?"'"+t+"'":t))}}),[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(t){return l.importJSON(t,this)},exportJSON:function(t){return l.exportJSON(this,t)},toJSON:function(){return l.serialize(this)},set:function(t,e){return t&&l.filter(this,t,e,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function t(){var e=t.base.apply(this,arguments),n=e.prototype._class;return n&&!l.exports[n]&&(l.exports[n]=e),e},equals:function(t,e){if(t===e)return!0;if(t&&t.equals)return t.equals(e);if(e&&e.equals)return e.equals(t);if(t&&e&&"object"==typeof t&&"object"==typeof e){if(Array.isArray(t)&&Array.isArray(e)){if((n=t.length)!==e.length)return!1;for(;n--;)if(!l.equals(t[n],e[n]))return!1}else{var n,i=Object.keys(t);if((n=i.length)!==Object.keys(e).length)return!1;for(;n--;){var r=i[n];if(!e.hasOwnProperty(r)||!l.equals(t[r],e[r]))return!1}}return!0}return!1},read:function(t,e,n,i){if(this===l){var r=this.peek(t,e);return t.__index++,r}var o=this.prototype,a=o._readIndex,u=e||a&&t.__index||0,c=t.length,h=t[u];if(i=i||c-u,h instanceof this||n&&n.readNull&&null==h&&i<=1)return a&&(t.__index=u+1),h&&n&&n.clone?h.clone():h;if(h=l.create(o),a&&(h.__read=!0),h=h.initialize.apply(h,u>0||u+i<c?l.slice(t,u,u+i):t)||h,a){t.__index=u+h.__read;var d=h.__filtered;d&&(t.__filtered=d,h.__filtered=s),h.__read=s}return h},peek:function(t,e){return t[t.__index=e||t.__index||0]},remain:function(t){return t.length-(t.__index||0)},readList:function(t,e,n,i){for(var r,o=[],s=e||0,a=i?s+i:t.length,u=s;u<a;u++)o.push(Array.isArray(r=t[u])?this.read(r,0,n):this.read(t,u,n,1));return o},readNamed:function(t,e,n,i,r){var o=this.getNamed(t,e),a=o!==s;if(a){var u=t.__filtered;if(!u){var c=this.getSource(t);(u=t.__filtered=l.create(c)).__unfiltered=c}u[e]=s}return this.read(a?[o]:t,n,i,r)},readSupported:function(t,e){var n=this.getSource(t),i=this,r=!1;return n&&Object.keys(n).forEach((function(n){if(n in e){var o=i.readNamed(t,n);o!==s&&(e[n]=o),r=!0}})),r},getSource:function(t){var e=t.__source;if(e===s){var n=1===t.length&&t[0];e=t.__source=n&&l.isPlainObject(n)?n:null}return e},getNamed:function(t,e){var n=this.getSource(t);if(n)return e?n[e]:t.__filtered||n},hasNamed:function(t,e){return!!this.getNamed(t,e)},filter:function(t,e,n,i){var r;function o(i){if(!(n&&i in n||r&&i in r)){var o=e[i];o!==s&&(t[i]=o)}}if(i){for(var a,u={},l=0,c=i.length;l<c;l++)(a=i[l])in e&&(o(a),u[a]=!0);r=u}return Object.keys(e.__unfiltered||e).forEach(o),t},isPlainValue:function(t,e){return l.isPlainObject(t)||Array.isArray(t)||e&&"string"==typeof t},serialize:function(t,e,n,i){e=e||{};var r,o=!i;if(o&&(e.formatter=new p(e.precision),i={length:0,definitions:{},references:{},add:function(t,e){var n="#"+t._id,i=this.references[n];if(!i){this.length++;var r=e.call(t),o=t._class;o&&r[0]!==o&&r.unshift(o),this.definitions[n]=r,i=this.references[n]=[n]}return i}}),t&&t._serialize){r=t._serialize(e,i);var s=t._class;!s||t._compactSerialize||!o&&n||r[0]===s||r.unshift(s)}else if(Array.isArray(t)){r=[];for(var a=0,u=t.length;a<u;a++)r[a]=l.serialize(t[a],e,n,i)}else if(l.isPlainObject(t)){r={};var c=Object.keys(t);for(a=0,u=c.length;a<u;a++){var h=c[a];r[h]=l.serialize(t[h],e,n,i)}}else r="number"==typeof t?e.formatter.number(t,e.precision):t;return o&&i.length>0?[["dictionary",i.definitions],r]:r},deserialize:function(t,e,n,i,r){var o=t,s=!n,a=s&&t&&t.length&&"dictionary"===t[0][0];if(n=n||{},Array.isArray(t)){var u=t[0],c="dictionary"===u;if(1==t.length&&/^#/.test(u))return n.dictionary[u];o=[];for(var h=(u=l.exports[u])?1:0,d=t.length;h<d;h++)o.push(l.deserialize(t[h],e,n,c,a));if(u){var f=o;o=e?e(u,f,s||r):new u(f)}}else if(l.isPlainObject(t))for(var p in o={},i&&(n.dictionary=o),t)o[p]=l.deserialize(t[p],e,n);return a?o[1]:o},exportJSON:function(t,e){var n=l.serialize(t,e);return e&&0==e.asString?n:JSON.stringify(n)},importJSON:function(t,e){return l.deserialize("string"==typeof t?JSON.parse(t):t,(function(t,n,i){var r=i&&e&&e.constructor===t,o=r?e:l.create(t.prototype);if(1===n.length&&o instanceof T&&(r||!(o instanceof A))){var s=n[0];l.isPlainObject(s)&&(s.insert=!1,r&&(n=n.concat([{insert:!0}])))}return(r?o.set:t).apply(o,n),r&&(e=null),o}))},push:function(t,e){var n=e.length;if(n<4096)t.push.apply(t,e);else{var i=t.length;t.length+=n;for(var r=0;r<n;r++)t[i+r]=e[r]}return t},splice:function(t,e,n,i){var r=e&&e.length,o=n===s;(n=o?t.length:n)>t.length&&(n=t.length);for(var a=0;a<r;a++)e[a]._index=n+a;if(o)return l.push(t,e),[];var u=[n,i];e&&l.push(u,e);for(var c=t.splice.apply(t,u),h=(a=0,c.length);a<h;a++)c[a]._index=s;for(a=n+r,h=t.length;a<h;a++)t[a]._index=a;return c},capitalize:function(t){return t.replace(/\b[a-z]/g,(function(t){return t.toUpperCase()}))},camelize:function(t){return t.replace(/-(.)/g,(function(t,e){return e.toUpperCase()}))},hyphenate:function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var c={on:function(t,e){if("string"!=typeof t)l.each(t,(function(t,e){this.on(e,t)}),this);else{var n=this._eventTypes,i=n&&n[t],r=this._callbacks=this._callbacks||{};-1===(r=r[t]=r[t]||[]).indexOf(e)&&(r.push(e),i&&i.install&&1===r.length&&i.install.call(this,t))}return this},off:function(t,e){if("string"==typeof t){var n,i=this._eventTypes,r=i&&i[t],o=this._callbacks&&this._callbacks[t];return o&&(!e||-1!==(n=o.indexOf(e))&&1===o.length?(r&&r.uninstall&&r.uninstall.call(this,t),delete this._callbacks[t]):-1!==n&&o.splice(n,1)),this}l.each(t,(function(t,e){this.off(e,t)}),this)},once:function(t,e){return this.on(t,(function n(){e.apply(this,arguments),this.off(t,n)}))},emit:function(t,e){var n=this._callbacks&&this._callbacks[t];if(!n)return!1;var i=l.slice(arguments,1),r=e&&e.target&&!e.currentTarget;n=n.slice(),r&&(e.currentTarget=this);for(var o=0,s=n.length;o<s;o++)if(0==n[o].apply(this,i)){e&&e.stop&&e.stop();break}return r&&delete e.currentTarget,!0},responds:function(t){return!(!this._callbacks||!this._callbacks[t])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(t){var e=this._eventTypes,n=this._callbacks,i=t?"install":"uninstall";if(e)for(var r in n)if(n[r].length>0){var o=e[r],s=o&&o[i];s&&s.call(this,r)}},statics:{inject:function t(e){var n=e._events;if(n){var i={};l.each(n,(function(t,n){var r="string"==typeof t,o=r?t:n,s=l.capitalize(o),a=o.substring(2).toLowerCase();i[a]=r?{}:t,o="_"+o,e["get"+s]=function(){return this[o]},e["set"+s]=function(t){var e=this[o];e&&this.off(a,e),t&&this.on(a,t),this[o]=t}})),e._eventTypes=i}return t.base.apply(this,arguments)}}},h=l.extend({_class:"PaperScope",initialize:function t(){ct=this,this.settings=new l({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=t._id++,t._scopes[this._id]=this;var e=t.prototype;if(!this.support){var n=st.getContext(1,1)||{};e.support={nativeDash:"setLineDash"in n||"mozDash"in n,nativeBlendModes:at.nativeModes},st.release(n)}if(!this.agent){var i=o.navigator.userAgent.toLowerCase(),r=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(i)||[])[0],s="darwin"===r?"mac":r,a=e.agent=e.browser={platform:s};s&&(a[s]=!0),i.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,(function(t,e,n,i,r){if(!a.chrome){var o="opera"===e?i:/^(node|trident)$/.test(e)?r:n;a.version=o,a.versionNumber=parseFloat(o),e={trident:"msie",jsdom:"node"}[e]||e,a.name=e,a[e]=!0}})),a.chrome&&delete a.webkit,a.atom&&delete a.chrome}},version:"0.12.11",getView:function(){var t=this.project;return t&&t._view},getPaper:function(){return this},execute:function(t,e){},install:function(t){var e=this;for(var n in l.each(["project","view","tool"],(function(n){l.define(t,n,{configurable:!0,get:function(){return e[n]}})})),this)!/^_/.test(n)&&this[n]&&(t[n]=this[n])},setup:function(t){return ct=this,this.project=new k(t),this},createCanvas:function(t,e){return st.getCanvas(t,e)},activate:function(){ct=this},clear:function(){for(var t=this.projects,e=this.tools,n=t.length-1;n>=0;n--)t[n].remove();for(n=e.length-1;n>=0;n--)e[n].remove()},remove:function(){this.clear(),delete h._scopes[this._id]},statics:new function(){function t(t){return t+="Attribute",function(e,n){return e[t](n)||e[t]("data-paper-"+n)}}return{_scopes:{},_id:0,get:function(t){return this._scopes[t]||null},getAttribute:t("get"),hasAttribute:t("has")}}}),d=l.extend(c,{initialize:function(t){this._scope=ct,this._index=this._scope[this._list].push(this)-1,!t&&this._scope[this._reference]||this.activate()},activate:function(){if(!this._scope)return!1;var t=this._scope[this._reference];return t&&t!==this&&t.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",t),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return null!=this._index&&(l.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),f={findItemBoundsCollisions:function(t,e,n){function i(t){for(var e=new Array(t.length),n=0;n<t.length;n++){var i=t[n].getBounds();e[n]=[i.left,i.top,i.right,i.bottom]}return e}var r=i(t),o=e&&e!==t?i(e):r;return this.findBoundsCollisions(r,o,n||0)},findCurveBoundsCollisions:function(t,e,n,i){function r(t){for(var e=Math.min,n=Math.max,i=new Array(t.length),r=0;r<t.length;r++){var o=t[r];i[r]=[e(o[0],o[2],o[4],o[6]),e(o[1],o[3],o[5],o[7]),n(o[0],o[2],o[4],o[6]),n(o[1],o[3],o[5],o[7])]}return i}var o=r(t),s=e&&e!==t?r(e):o;if(i){for(var a=this.findBoundsCollisions(o,s,n||0,!1,!0),u=this.findBoundsCollisions(o,s,n||0,!0,!0),l=[],c=0,h=a.length;c<h;c++)l[c]={hor:a[c],ver:u[c]};return l}return this.findBoundsCollisions(o,s,n||0)},findBoundsCollisions:function(t,e,n,i,r){var o=!e||t===e,s=o?t:t.concat(e),a=t.length,u=s.length;function l(t,e,n){for(var i=0,r=t.length;i<r;){var o=r+i>>>1;s[t[o]][e]<n?i=o+1:r=o}return i-1}for(var c=i?1:0,h=c+2,d=i?0:1,f=d+2,p=new Array(u),g=0;g<u;g++)p[g]=g;p.sort((function(t,e){return s[t][c]-s[e][c]}));var v=[],m=new Array(a);for(g=0;g<u;g++){var _=p[g],w=s[_],y=o?_:_-a,b=_<a,x=o||!b,C=b?[]:null;if(v.length){var S=l(v,h,w[c]-n)+1;if(v.splice(0,S),o&&r){C=C.concat(v);for(var k=0;k<v.length;k++){m[A=v[k]].push(y)}}else{var T=w[f],P=w[d];for(k=0;k<v.length;k++){var A=v[k],I=s[A],N=A<a,M=o||A>=a;(r||(b&&M||x&&N)&&T>=I[d]-n&&P<=I[f]+n)&&(b&&M&&C.push(o?A:A-a),x&&N&&m[A].push(y))}}}if(b&&(t===e&&C.push(_),m[_]=C),v.length){var z=l(v,h,w[h]);v.splice(z+1,0,_)}else v.push(_)}for(g=0;g<m.length;g++){var E=m[g];E&&E.sort((function(t,e){return t-e}))}return m}},p=l.extend({initialize:function(t){this.precision=l.pick(t,5),this.multiplier=Math.pow(10,this.precision)},number:function(t){return this.precision<16?Math.round(t*this.multiplier)/this.multiplier:t},pair:function(t,e,n){return this.number(t)+(n||",")+this.number(e)},point:function(t,e){return this.number(t.x)+(e||",")+this.number(t.y)},size:function(t,e){return this.number(t.width)+(e||",")+this.number(t.height)},rectangle:function(t,e){return this.point(t,e)+(e||",")+this.size(t,e)}});p.instance=new p;var g=new function(){var t=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],e=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],n=Math.abs,i=Math.sqrt,r=Math.pow,o=Math.log2||function(t){return Math.log(t)*Math.LOG2E},s=1e-12,a=112e-18;function u(t,e,n){return t<e?e:t>n?n:t}function l(t,e,i){function r(t){var e=134217729*t,n=t-e+e;return[n,t-n]}var o=e*e-t*i,s=e*e+t*i;if(3*n(o)<s){var a=r(t),u=r(e),l=r(i),c=e*e,h=t*i;o=c-h+(u[0]*u[0]-c+2*u[0]*u[1]+u[1]*u[1]-(a[0]*l[0]-h+a[0]*l[1]+a[1]*l[0]+a[1]*l[1]))}return o}function c(){var t=Math.max.apply(Math,arguments);return t&&(t<1e-8||t>1e8)?r(2,-Math.round(o(t))):0}return{EPSILON:s,MACHINE_EPSILON:a,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,KAPPA:4*(i(2)-1)/3,isZero:function(t){return t>=-1e-12&&t<=s},isMachineZero:function(t){return t>=-112e-18&&t<=a},clamp:u,integrate:function(n,i,r,o){for(var s=t[o-2],a=e[o-2],u=.5*(r-i),l=u+i,c=0,h=o+1>>1,d=1&o?a[c++]*n(l):0;c<h;){var f=u*s[c];d+=a[c++]*(n(l+f)+n(l-f))}return u*d},findRoot:function(t,e,i,r,o,s,a){for(var l=0;l<s;l++){var c=t(i),h=c/e(i),d=i-h;if(n(h)<a){i=d;break}c>0?(o=i,i=d<=r?.5*(r+o):d):(r=i,i=d>=o?.5*(r+o):d)}return u(i,r,o)},solveQuadratic:function(t,e,r,o,h,d){var f,p=1/0;if(n(t)<s){if(n(e)<s)return n(r)<s?-1:0;f=-r/e}else{var g=l(t,e*=-.5,r);if(g&&n(g)<a){var v=c(n(t),n(e),n(r));v&&(g=l(t*=v,e*=v,r*=v))}if(g>=-112e-18){var m=g<0?0:i(g),_=e+(e<0?-m:m);0===_?p=-(f=r/t):(f=_/t,p=r/_)}}var w=0,y=null==h,b=h-s,x=d+s;return isFinite(f)&&(y||f>b&&f<x)&&(o[w++]=y?f:u(f,h,d)),p!==f&&isFinite(p)&&(y||p>b&&p<x)&&(o[w++]=y?p:u(p,h,d)),w},solveCubic:function(t,e,o,l,h,d,f){var p,v,m,_,w,y=c(n(t),n(e),n(o),n(l));function b(n){var i=t*(p=n);_=(i+(v=i+e))*p+(m=v*p+o),w=m*p+l}if(y&&(t*=y,e*=y,o*=y,l*=y),n(t)<s)t=e,v=o,m=l,p=1/0;else if(n(l)<s)v=e,m=o,p=0;else{b(-e/t/3);var x=w/t,C=r(n(x),1/3),S=x<0?-1:1,k=-_/t,T=k>0?1.324717957244746*Math.max(C,i(k)):C,P=p-S*T;if(P!==p){do{b(P),P=0===_?p:p-w/_/(1+a)}while(S*P>S*p);n(t)*p*p>n(l/p)&&(v=((m=-l/p)-o)/p)}}var A=g.solveQuadratic(t,v,m,h,d,f),I=null==d;return isFinite(p)&&(0===A||A>0&&p!==h[0]&&p!==h[1])&&(I||p>d-s&&p<f+s)&&(h[A++]=I?p:u(p,d,f)),A}}},v={_id:1,_pools:{},get:function(t){if(t){var e=this._pools[t];return e||(e=this._pools[t]={_id:1}),e._id++}return this._id++}},m=l.extend({_class:"Point",_readIndex:!0,initialize:function(t,e){var n=typeof t,i=this.__read,r=0;if("number"===n){var o="number"==typeof e;this._set(t,o?e:t),i&&(r=o?2:1)}else if("undefined"===n||null===t)this._set(0,0),i&&(r=null===t?1:0);else{var s="string"===n?t.split(/[\s,]+/)||[]:t;r=1,Array.isArray(s)?this._set(+s[0],+(s.length>1?s[1]:s[0])):"x"in s?this._set(s.x||0,s.y||0):"width"in s?this._set(s.width||0,s.height||0):"angle"in s?(this._set(s.length||0,0),this.setAngle(s.angle||0)):(this._set(0,0),r=0)}return i&&(this.__read=r),this},set:"#initialize",_set:function(t,e){return this.x=t,this.y=e,this},equals:function(t){return this===t||t&&(this.x===t.x&&this.y===t.y||Array.isArray(t)&&this.x===t[0]&&this.y===t[1])||!1},clone:function(){return new m(this.x,this.y)},toString:function(){var t=p.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(t){if(this.isZero()){var e=this._angle||0;this._set(Math.cos(e)*t,Math.sin(e)*t)}else{var n=t/this.getLength();g.isZero(n)&&this.getAngle(),this._set(this.x*n,this.y*n)}},getAngle:function(){return 180*this.getAngleInRadians.apply(this,arguments)/Math.PI},setAngle:function(t){this.setAngleInRadians.call(this,t*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var t=m.read(arguments),e=this.getLength()*t.getLength();if(g.isZero(e))return NaN;var n=this.dot(t)/e;return Math.acos(n<-1?-1:n>1?1:n)}return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(t){if(this._angle=t,!this.isZero()){var e=this.getLength();this._set(Math.cos(t)*e,Math.sin(t)*e)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var t=m.read(arguments);return 180*Math.atan2(this.cross(t),this.dot(t))/Math.PI},getDistance:function(){var t=arguments,e=m.read(t),n=e.x-this.x,i=e.y-this.y,r=n*n+i*i,o=l.read(t);return o?r:Math.sqrt(r)},normalize:function(t){t===s&&(t=1);var e=this.getLength(),n=0!==e?t/e:0,i=new m(this.x*n,this.y*n);return n>=0&&(i._angle=this._angle),i},rotate:function(t,e){if(0===t)return this.clone();t=t*Math.PI/180;var n=e?this.subtract(e):this,i=Math.sin(t),r=Math.cos(t);return n=new m(n.x*r-n.y*i,n.x*i+n.y*r),e?n.add(e):n},transform:function(t){return t?t._transformPoint(this):this},add:function(){var t=m.read(arguments);return new m(this.x+t.x,this.y+t.y)},subtract:function(){var t=m.read(arguments);return new m(this.x-t.x,this.y-t.y)},multiply:function(){var t=m.read(arguments);return new m(this.x*t.x,this.y*t.y)},divide:function(){var t=m.read(arguments);return new m(this.x/t.x,this.y/t.y)},modulo:function(){var t=m.read(arguments);return new m(this.x%t.x,this.y%t.y)},negate:function(){return new m(-this.x,-this.y)},isInside:function(){return b.read(arguments).contains(this)},isClose:function(){var t=arguments,e=m.read(t),n=l.read(t);return this.getDistance(e)<=n},isCollinear:function(){var t=m.read(arguments);return m.isCollinear(this.x,this.y,t.x,t.y)},isColinear:"#isCollinear",isOrthogonal:function(){var t=m.read(arguments);return m.isOrthogonal(this.x,this.y,t.x,t.y)},isZero:function(){var t=g.isZero;return t(this.x)&&t(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(t){return this.x*(t>1&&t<4?-1:1)>=0&&this.y*(t>2?-1:1)>=0},dot:function(){var t=m.read(arguments);return this.x*t.x+this.y*t.y},cross:function(){var t=m.read(arguments);return this.x*t.y-this.y*t.x},project:function(){var t=m.read(arguments),e=t.isZero()?0:this.dot(t)/t.dot(t);return new m(t.x*e,t.y*e)},statics:{min:function(){var t=arguments,e=m.read(t),n=m.read(t);return new m(Math.min(e.x,n.x),Math.min(e.y,n.y))},max:function(){var t=arguments,e=m.read(t),n=m.read(t);return new m(Math.max(e.x,n.x),Math.max(e.y,n.y))},random:function(){return new m(Math.random(),Math.random())},isCollinear:function(t,e,n,i){return Math.abs(t*i-e*n)<=1e-8*Math.sqrt((t*t+e*e)*(n*n+i*i))},isOrthogonal:function(t,e,n,i){return Math.abs(t*n+e*i)<=1e-8*Math.sqrt((t*t+e*e)*(n*n+i*i))}}},l.each(["round","ceil","floor","abs"],(function(t){var e=Math[t];this[t]=function(){return new m(e(this.x),e(this.y))}}),{})),_=m.extend({initialize:function(t,e,n,i){this._x=t,this._y=e,this._owner=n,this._setter=i},_set:function(t,e,n){return this._x=t,this._y=e,n||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){return"setPosition"===this._setter?4:0}}),w=l.extend({_class:"Size",_readIndex:!0,initialize:function(t,e){var n=typeof t,i=this.__read,r=0;if("number"===n){var o="number"==typeof e;this._set(t,o?e:t),i&&(r=o?2:1)}else if("undefined"===n||null===t)this._set(0,0),i&&(r=null===t?1:0);else{var s="string"===n?t.split(/[\s,]+/)||[]:t;r=1,Array.isArray(s)?this._set(+s[0],+(s.length>1?s[1]:s[0])):"width"in s?this._set(s.width||0,s.height||0):"x"in s?this._set(s.x||0,s.y||0):(this._set(0,0),r=0)}return i&&(this.__read=r),this},set:"#initialize",_set:function(t,e){return this.width=t,this.height=e,this},equals:function(t){return t===this||t&&(this.width===t.width&&this.height===t.height||Array.isArray(t)&&this.width===t[0]&&this.height===t[1])||!1},clone:function(){return new w(this.width,this.height)},toString:function(){var t=p.instance;return"{ width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.width),e.number(this.height)]},add:function(){var t=w.read(arguments);return new w(this.width+t.width,this.height+t.height)},subtract:function(){var t=w.read(arguments);return new w(this.width-t.width,this.height-t.height)},multiply:function(){var t=w.read(arguments);return new w(this.width*t.width,this.height*t.height)},divide:function(){var t=w.read(arguments);return new w(this.width/t.width,this.height/t.height)},modulo:function(){var t=w.read(arguments);return new w(this.width%t.width,this.height%t.height)},negate:function(){return new w(-this.width,-this.height)},isZero:function(){var t=g.isZero;return t(this.width)&&t(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(t,e){return new w(Math.min(t.width,e.width),Math.min(t.height,e.height))},max:function(t,e){return new w(Math.max(t.width,e.width),Math.max(t.height,e.height))},random:function(){return new w(Math.random(),Math.random())}}},l.each(["round","ceil","floor","abs"],(function(t){var e=Math[t];this[t]=function(){return new w(e(this.width),e(this.height))}}),{})),y=w.extend({initialize:function(t,e,n,i){this._width=t,this._height=e,this._owner=n,this._setter=i},_set:function(t,e,n){return this._width=t,this._height=e,n||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(t){this._width=t,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(t){this._height=t,this._owner[this._setter](this)}}),b=l.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(t,e,n,i){var r,o=arguments,a=typeof t;if("number"===a?(this._set(t,e,n,i),r=4):"undefined"===a||null===t?(this._set(0,0,0,0),r=null===t?1:0):1===o.length&&(Array.isArray(t)?(this._set.apply(this,t),r=1):t.x!==s||t.width!==s?(this._set(t.x||0,t.y||0,t.width||0,t.height||0),r=1):t.from===s&&t.to===s&&(this._set(0,0,0,0),l.readSupported(o,this)&&(r=1))),r===s){var u,c,h=m.readNamed(o,"from"),d=l.peek(o),f=h.x,p=h.y;if(d&&d.x!==s||l.hasNamed(o,"to")){var g=m.readNamed(o,"to");u=g.x-f,c=g.y-p,u<0&&(f=g.x,u=-u),c<0&&(p=g.y,c=-c)}else{var v=w.read(o);u=v.width,c=v.height}this._set(f,p,u,c),r=o.__index}var _=o.__filtered;return _&&(this.__filtered=_),this.__read&&(this.__read=r),this},set:"#initialize",_set:function(t,e,n,i){return this.x=t,this.y=e,this.width=n,this.height=i,this},clone:function(){return new b(this.x,this.y,this.width,this.height)},equals:function(t){var e=l.isPlainValue(t)?b.read(arguments):t;return e===this||e&&this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height||!1},toString:function(){var t=p.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+", width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y),e.number(this.width),e.number(this.height)]},getPoint:function(t){return new(t?m:_)(this.x,this.y,this,"setPoint")},setPoint:function(){var t=m.read(arguments);this.x=t.x,this.y=t.y},getSize:function(t){return new(t?w:y)(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var t=w.read(arguments),e=this._sx,n=this._sy,i=t.width,r=t.height;e&&(this.x+=(this.width-i)*e),n&&(this.y+=(this.height-r)*n),this.width=i,this.height=r,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(t){if(!this._fw){var e=t-this.x;this.width-=.5===this._sx?2*e:e}this.x=t,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(t){if(!this._fh){var e=t-this.y;this.height-=.5===this._sy?2*e:e}this.y=t,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(t){if(!this._fw){var e=t-this.x;this.width=.5===this._sx?2*e:e}this.x=t-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(t){if(!this._fh){var e=t-this.y;this.height=.5===this._sy?2*e:e}this.y=t-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(t){this._fw||.5===this._sx?this.x=t-this.width/2:(this._sx&&(this.x+=2*(t-this.x)*this._sx),this.width=2*(t-this.x)),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(t){this._fh||.5===this._sy?this.y=t-this.height/2:(this._sy&&(this.y+=2*(t-this.y)*this._sy),this.height=2*(t-this.y)),this._sy=.5,this._fh=0},getCenter:function(t){return new(t?m:_)(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var t=m.read(arguments);return this.setCenterX(t.x),this.setCenterY(t.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return 0===this.width||0===this.height},contains:function(t){return t&&t.width!==s||4===(Array.isArray(t)?t:arguments).length?this._containsRectangle(b.read(arguments)):this._containsPoint(m.read(arguments))},_containsPoint:function(t){var e=t.x,n=t.y;return e>=this.x&&n>=this.y&&e<=this.x+this.width&&n<=this.y+this.height},_containsRectangle:function(t){var e=t.x,n=t.y;return e>=this.x&&n>=this.y&&e+t.width<=this.x+this.width&&n+t.height<=this.y+this.height},intersects:function(){var t=b.read(arguments),e=l.read(arguments)||0;return t.x+t.width>this.x-e&&t.y+t.height>this.y-e&&t.x<this.x+this.width+e&&t.y<this.y+this.height+e},intersect:function(){var t=b.read(arguments),e=Math.max(this.x,t.x),n=Math.max(this.y,t.y),i=Math.min(this.x+this.width,t.x+t.width),r=Math.min(this.y+this.height,t.y+t.height);return new b(e,n,i-e,r-n)},unite:function(){var t=b.read(arguments),e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),i=Math.max(this.x+this.width,t.x+t.width),r=Math.max(this.y+this.height,t.y+t.height);return new b(e,n,i-e,r-n)},include:function(){var t=m.read(arguments),e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),i=Math.max(this.x+this.width,t.x),r=Math.max(this.y+this.height,t.y);return new b(e,n,i-e,r-n)},expand:function(){var t=w.read(arguments),e=t.width,n=t.height;return new b(this.x-e/2,this.y-n/2,this.width+e,this.height+n)},scale:function(t,e){return this.expand(this.width*t-this.width,this.height*(e===s?t:e)-this.height)}},l.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],(function(t,e){var n=t.join(""),i=/^[RL]/.test(n);e>=4&&(t[1]+=i?"Y":"X");var r=t[i?0:1],o=t[i?1:0],s="get"+r,a="get"+o,u="set"+r,l="set"+o,c="set"+n;this["get"+n]=function(t){return new(t?m:_)(this[s](),this[a](),this,c)},this[c]=function(){var t=m.read(arguments);this[u](t.x),this[l](t.y)}}),{beans:!0})),x=b.extend({initialize:function(t,e,n,i,r,o){this._set(t,e,n,i,!0),this._owner=r,this._setter=o},_set:function(t,e,n,i,r){return this._x=t,this._y=e,this._width=n,this._height=i,r||this._owner[this._setter](this),this}},new function(){var t=b.prototype;return l.each(["x","y","width","height"],(function(t){var e=l.capitalize(t),n="_"+t;this["get"+e]=function(){return this[n]},this["set"+e]=function(t){this[n]=t,this._dontNotify||this._owner[this._setter](this)}}),l.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],(function(e){var n="set"+e;this[n]=function(){this._dontNotify=!0,t[n].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}}),{isSelected:function(){return!!(2&this._owner._selection)},setSelected:function(t){var e=this._owner;e._changeSelection&&e._changeSelection(2,t)}}))}),C=l.extend({_class:"Matrix",initialize:function t(e,n){var i=arguments,r=i.length,o=!0;if(r>=6?this._set.apply(this,i):1===r||2===r?e instanceof t?this._set(e._a,e._b,e._c,e._d,e._tx,e._ty,n):Array.isArray(e)?this._set.apply(this,n?e.concat([n]):e):o=!1:r?o=!1:this.reset(),!o)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(t,e,n,i,r,o,s){return this._a=t,this._b=e,this._c=n,this._d=i,this._tx=r,this._ty=o,s||this._changed(),this},_serialize:function(t,e){return l.serialize(this.getValues(),t,!0,e)},_changed:function(){var t=this._owner;t&&(t._applyMatrix?t.transform(null,!0):t._changed(25))},clone:function(){return new C(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(t){return t===this||t&&this._a===t._a&&this._b===t._b&&this._c===t._c&&this._d===t._d&&this._tx===t._tx&&this._ty===t._ty},toString:function(){var t=p.instance;return"[["+[t.number(this._a),t.number(this._c),t.number(this._tx)].join(", ")+"], ["+[t.number(this._b),t.number(this._d),t.number(this._ty)].join(", ")+"]]"},reset:function(t){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,t||this._changed(),this},apply:function(t,e){var n=this._owner;return!!n&&(n.transform(null,l.pick(t,!0),e),this.isIdentity())},translate:function(){var t=m.read(arguments),e=t.x,n=t.y;return this._tx+=e*this._a+n*this._c,this._ty+=e*this._b+n*this._d,this._changed(),this},scale:function(){var t=arguments,e=m.read(t),n=m.read(t,0,{readNull:!0});return n&&this.translate(n),this._a*=e.x,this._b*=e.x,this._c*=e.y,this._d*=e.y,n&&this.translate(n.negate()),this._changed(),this},rotate:function(t){t*=Math.PI/180;var e=m.read(arguments,1),n=e.x,i=e.y,r=Math.cos(t),o=Math.sin(t),s=n-n*r+i*o,a=i-n*o-i*r,u=this._a,l=this._b,c=this._c,h=this._d;return this._a=r*u+o*c,this._b=r*l+o*h,this._c=-o*u+r*c,this._d=-o*l+r*h,this._tx+=s*u+a*c,this._ty+=s*l+a*h,this._changed(),this},shear:function(){var t=arguments,e=m.read(t),n=m.read(t,0,{readNull:!0});n&&this.translate(n);var i=this._a,r=this._b;return this._a+=e.y*this._c,this._b+=e.y*this._d,this._c+=e.x*i,this._d+=e.x*r,n&&this.translate(n.negate()),this._changed(),this},skew:function(){var t=arguments,e=m.read(t),n=m.read(t,0,{readNull:!0}),i=Math.PI/180,r=new m(Math.tan(e.x*i),Math.tan(e.y*i));return this.shear(r,n)},append:function(t,e){if(t){var n=this._a,i=this._b,r=this._c,o=this._d,s=t._a,a=t._c,u=t._b,l=t._d,c=t._tx,h=t._ty;this._a=s*n+u*r,this._c=a*n+l*r,this._b=s*i+u*o,this._d=a*i+l*o,this._tx+=c*n+h*r,this._ty+=c*i+h*o,e||this._changed()}return this},prepend:function(t,e){if(t){var n=this._a,i=this._b,r=this._c,o=this._d,s=this._tx,a=this._ty,u=t._a,l=t._c,c=t._b,h=t._d,d=t._tx,f=t._ty;this._a=u*n+l*i,this._c=u*r+l*o,this._b=c*n+h*i,this._d=c*r+h*o,this._tx=u*s+l*a+d,this._ty=c*s+h*a+f,e||this._changed()}return this},appended:function(t){return this.clone().append(t)},prepended:function(t){return this.clone().prepend(t)},invert:function(){var t=this._a,e=this._b,n=this._c,i=this._d,r=this._tx,o=this._ty,s=t*i-e*n,a=null;return s&&!isNaN(s)&&isFinite(r)&&isFinite(o)&&(this._a=i/s,this._b=-e/s,this._c=-n/s,this._d=t/s,this._tx=(n*o-i*r)/s,this._ty=(e*r-t*o)/s,a=this),a},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new C(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return 1===this._a&&0===this._b&&0===this._c&&1===this._d&&0===this._tx&&0===this._ty},isInvertible:function(){var t=this._a*this._d-this._c*this._b;return t&&!isNaN(t)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(t,e,n){return arguments.length<3?this._transformPoint(m.read(arguments)):this._transformCoordinates(t,e,n)},_transformPoint:function(t,e,n){var i=t.x,r=t.y;return e||(e=new m),e._set(i*this._a+r*this._c+this._tx,i*this._b+r*this._d+this._ty,n)},_transformCoordinates:function(t,e,n){for(var i=0,r=2*n;i<r;i+=2){var o=t[i],s=t[i+1];e[i]=o*this._a+s*this._c+this._tx,e[i+1]=o*this._b+s*this._d+this._ty}return e},_transformCorners:function(t){var e=t.x,n=t.y,i=e+t.width,r=n+t.height,o=[e,n,i,n,i,r,e,r];return this._transformCoordinates(o,o,4)},_transformBounds:function(t,e,n){for(var i=this._transformCorners(t),r=i.slice(0,2),o=r.slice(),s=2;s<8;s++){var a=i[s],u=1&s;a<r[u]?r[u]=a:a>o[u]&&(o[u]=a)}return e||(e=new b),e._set(r[0],r[1],o[0]-r[0],o[1]-r[1],n)},inverseTransform:function(){return this._inverseTransform(m.read(arguments))},_inverseTransform:function(t,e,n){var i=this._a,r=this._b,o=this._c,s=this._d,a=this._tx,u=this._ty,l=i*s-r*o,c=null;if(l&&!isNaN(l)&&isFinite(a)&&isFinite(u)){var h=t.x-this._tx,d=t.y-this._ty;e||(e=new m),c=e._set((h*s-d*o)/l,(d*i-h*r)/l,n)}return c},decompose:function(){var t,e,n,i=this._a,r=this._b,o=this._c,s=this._d,a=i*s-r*o,u=Math.sqrt,l=Math.atan2,c=180/Math.PI;if(0!==i||0!==r){var h=u(i*i+r*r);t=Math.acos(i/h)*(r>0?1:-1),e=[h,a/h],n=[l(i*o+r*s,h*h),0]}else if(0!==o||0!==s){var d=u(o*o+s*s);t=Math.asin(o/d)*(s>0?1:-1),e=[a/d,d],n=[0,l(i*o+r*s,d*d)]}else t=0,n=e=[0,0];return{translation:this.getTranslation(),rotation:t*c,scaling:new m(e),skewing:new m(n[0]*c,n[1]*c)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new m(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(t){this.isIdentity()||t.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},l.each(["a","b","c","d","tx","ty"],(function(t){var e=l.capitalize(t),n="_"+t;this["get"+e]=function(){return this[n]},this["set"+e]=function(t){this[n]=t,this._changed()}}),{})),S=l.extend({_class:"Line",initialize:function(t,e,n,i,r){var o=!1;arguments.length>=4?(this._px=t,this._py=e,this._vx=n,this._vy=i,o=r):(this._px=t.x,this._py=t.y,this._vx=e.x,this._vy=e.y,o=n),o||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new m(this._px,this._py)},getVector:function(){return new m(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(t,e){return S.intersect(this._px,this._py,this._vx,this._vy,t._px,t._py,t._vx,t._vy,!0,e)},getSide:function(t,e){return S.getSide(this._px,this._py,this._vx,this._vy,t.x,t.y,!0,e)},getDistance:function(t){return Math.abs(this.getSignedDistance(t))},getSignedDistance:function(t){return S.getSignedDistance(this._px,this._py,this._vx,this._vy,t.x,t.y,!0)},isCollinear:function(t){return m.isCollinear(this._vx,this._vy,t._vx,t._vy)},isOrthogonal:function(t){return m.isOrthogonal(this._vx,this._vy,t._vx,t._vy)},statics:{intersect:function(t,e,n,i,r,o,s,a,u,l){u||(n-=t,i-=e,s-=r,a-=o);var c=n*a-i*s;if(!g.isMachineZero(c)){var h=t-r,d=e-o,f=(s*d-a*h)/c,p=(n*d-i*h)/c,v=-1e-12,_=1+1e-12;if(l||v<f&&f<_&&v<p&&p<_)return l||(f=f<=0?0:f>=1?1:f),new m(t+f*n,e+f*i)}},getSide:function(t,e,n,i,r,o,s,a){s||(n-=t,i-=e);var u=r-t,l=u*i-(o-e)*n;return!a&&g.isMachineZero(l)&&(l=(u*n+u*n)/(n*n+i*i))>=0&&l<=1&&(l=0),l<0?-1:l>0?1:0},getSignedDistance:function(t,e,n,i,r,o,s){return s||(n-=t,i-=e),0===n?i>0?r-t:t-r:0===i?n<0?o-e:e-o:((r-t)*i-(o-e)*n)/(i>n?i*Math.sqrt(1+n*n/(i*i)):n*Math.sqrt(1+i*i/(n*n)))},getDistance:function(t,e,n,i,r,o,s){return Math.abs(S.getSignedDistance(t,e,n,i,r,o,s))}}}),k=d.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(t){d.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new $(null,null,this),this._view=K.create(this,t||st.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(t,e){return l.serialize(this._children,t,!0,e)},_changed:function(t,e){if(1&t){var n=this._view;n&&(n._needsUpdate=!0,!n._requested&&n._autoUpdate&&n.requestUpdate())}var i=this._changes;if(i&&e){var r=this._changesById,o=e._id,s=r[o];s?s.flags|=t:i.push(r[o]={item:e,flags:t})}},clear:function(){for(var t=this._children,e=t.length-1;e>=0;e--)t[e].remove()},isEmpty:function(){return!this._children.length},remove:function t(){return!!t.base.call(this)&&(this._view&&this._view.remove(),!0)},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(t){this._currentStyle.set(t)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new A({project:this,insert:!0})},getSymbolDefinitions:function(){var t=[],e={};return this.getItems({class:M,match:function(n){var i=n._definition,r=i._id;return e[r]||(e[r]=!0,t.push(i)),!1}}),t},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var t=this._selectionItems,e=[];for(var n in t){var i=t[n],r=i._selection;1&r&&i.isInserted()?e.push(i):r||this._updateSelection(i)}return e},_updateSelection:function(t){var e=t._id,n=this._selectionItems;t._selection?n[e]!==t&&(this._selectionCount++,n[e]=t):n[e]===t&&(this._selectionCount--,delete n[e])},selectAll:function(){for(var t=this._children,e=0,n=t.length;e<n;e++)t[e].setFullySelected(!0)},deselectAll:function(){var t=this._selectionItems;for(var e in t)t[e].setFullySelected(!1)},addLayer:function(t){return this.insertLayer(s,t)},insertLayer:function(t,e){if(e instanceof A){e._remove(!1,!0),l.splice(this._children,[e],t,0),e._setProject(this,!0);var n=e._name;n&&e.setName(n),this._changes&&e._changed(5),this._activeLayer||(this._activeLayer=e)}else e=null;return e},_insertItem:function(t,e,n){return e=this.insertLayer(t,e)||(this._activeLayer||this._insertItem(s,new A(T.NO_INSERT),!0)).insertChild(t,e),n&&e.activate&&e.activate(),e},getItems:function(t){return T._getItems(this,t)},getItem:function(t){return T._getItems(this,t,null,null,!0)[0]||null},importJSON:function(t){this.activate();var e=this._activeLayer;return l.importJSON(t,e&&e.isEmpty()&&e)},removeOn:function(t){var e=this._removeSets;if(e){"mouseup"===t&&(e.mousedrag=null);var n=e[t];if(n){for(var i in n){var r=n[i];for(var o in e){var s=e[o];s&&s!=n&&delete s[r._id]}r.remove()}e[t]=null}}},draw:function(t,e,n){this._updateVersion++,t.save(),e.applyToContext(t);for(var i=this._children,r=new l({offset:new m(0,0),pixelRatio:n,viewMatrix:e.isIdentity()?null:e,matrices:[new C],updateMatrix:!0}),o=0,s=i.length;o<s;o++)i[o].draw(t,r);if(t.restore(),this._selectionCount>0){t.save(),t.strokeWidth=1;var a=this._selectionItems,u=this._scope.settings.handleSize,c=this._updateVersion;for(var h in a)a[h]._drawSelection(t,e,u,a,c);t.restore()}}}),T=l.extend(c,{statics:{extend:function t(e){return e._serializeFields&&(e._serializeFields=l.set({},this.prototype._serializeFields,e._serializeFields)),t.base.apply(this,arguments)},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new C,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var t=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return l.each(t,(function(t){this._events[t]={install:function(t){this.getView()._countItemEvent(t,1)},uninstall:function(t){this.getView()._countItemEvent(t,-1)}}}),{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:t}})},{initialize:function(){},_initialize:function(t,e){var n=t&&l.isPlainObject(t),i=n&&!0===t.internal,r=this._matrix=new C,o=n&&t.project||ct.project,a=ct.settings;return this._id=i?null:v.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&a.applyMatrix,e&&r.translate(e),r._owner=this,this._style=new $(o._currentStyle,this,o),i||n&&0==t.insert||!a.insertItems&&(!n||!0!==t.insert)?this._setProject(o):(n&&t.parent||o)._insertItem(s,this,!0),n&&t!==T.NO_INSERT&&this.set(t,{internal:!0,insert:!0,project:!0,parent:!0}),n},_serialize:function(t,e){var n={},i=this;function r(r){for(var o in r){var s=i[o];l.equals(s,"leading"===o?1.2*r.fontSize:r[o])||(n[o]=l.serialize(s,t,"data"!==o,e))}}return r(this._serializeFields),this instanceof P||r(this._style._defaults),[this._class,n]},_changed:function(t){var e=this._symbol,n=this._parent||e,i=this._project;8&t&&(this._bounds=this._position=this._decomposed=s),16&t&&(this._globalMatrix=s),n&&72&t&&T._clearBoundsCache(n),2&t&&T._clearBoundsCache(this),i&&i._changed(t,this),e&&e._changed(t)},getId:function(){return this._id},getName:function(){return this._name},setName:function(t){if(this._name&&this._removeNamed(),t===+t+"")throw new Error("Names consisting only of numbers are not supported.");var e=this._getOwner();if(t&&e){var n=e._children,i=e._namedChildren;(i[t]=i[t]||[]).push(this),t in n||(n[t]=this)}this._name=t||s,this._changed(256)},getStyle:function(){return this._style},setStyle:function(t){this.getStyle().set(t)}},l.each(["locked","visible","blendMode","opacity","guide"],(function(t){var e=l.capitalize(t),n="_"+t,i={locked:256,visible:265};this["get"+e]=function(){return this[n]},this["set"+e]=function(e){e!=this[n]&&(this[n]=e,this._changed(i[t]||257))}}),{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(t){if(t!==this._selection){this._selection=t;var e=this._project;e&&(e._updateSelection(this),this._changed(257))}},_changeSelection:function(t,e){var n=this._selection;this.setSelection(e?n|t:n&~t)},isSelected:function(){if(this._selectChildren)for(var t=this._children,e=0,n=t.length;e<n;e++)if(t[e].isSelected())return!0;return!!(1&this._selection)},setSelected:function(t){if(this._selectChildren)for(var e=this._children,n=0,i=e.length;n<i;n++)e[n].setSelected(t);this._changeSelection(1,t)},isFullySelected:function(){var t=this._children,e=!!(1&this._selection);if(t&&e){for(var n=0,i=t.length;n<i;n++)if(!t[n].isFullySelected())return!1;return!0}return e},setFullySelected:function(t){var e=this._children;if(e)for(var n=0,i=e.length;n<i;n++)e[n].setFullySelected(t);this._changeSelection(1,t)},isClipMask:function(){return this._clipMask},setClipMask:function(t){this._clipMask!=(t=!!t)&&(this._clipMask=t,t&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(t){this._data=t},getPosition:function(t){var e=t?m:_,n=this._position||(this._position=this._getPositionFromBounds());return new e(n.x,n.y,this,"setPosition")},setPosition:function(){this.translate(m.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(t){return this._pivot?this._matrix._transformPoint(this._pivot):(t||this.getBounds()).getCenter(!0)},getPivot:function(){var t=this._pivot;return t?new _(t.x,t.y,this,"setPivot"):null},setPivot:function(){this._pivot=m.read(arguments,0,{clone:!0,readNull:!0}),this._position=s}},l.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},(function(t,e){this[e]=function(e){return this.getBounds(e,t)}}),{beans:!0,getBounds:function(t,e){var n=e||t instanceof C,i=l.set({},n?e:t,this._boundsOptions);i.stroke&&!this.getStrokeScaling()||(i.cacheItem=this);var r=this._getCachedBounds(n&&t,i).rect;return arguments.length?r:new x(r.x,r.y,r.width,r.height,this,"setBounds")},setBounds:function(){var t=b.read(arguments),e=this.getBounds(),n=this._matrix,i=new C,r=t.getCenter();i.translate(r),t.width==e.width&&t.height==e.height||(n.isInvertible()||(n.set(n._backup||(new C).translate(n.getTranslation())),e=this.getBounds()),i.scale(0!==e.width?t.width/e.width:0,0!==e.height?t.height/e.height:0)),r=e.getCenter(),i.translate(-r.x,-r.y),this.transform(i)},_getBounds:function(t,e){var n=this._children;return n&&n.length?(T._updateBoundsCache(this,e.cacheItem),T._getBounds(n,t,e)):new b},_getBoundsCacheKey:function(t,e){return[t.stroke?1:0,t.handle?1:0,e?1:0].join("")},_getCachedBounds:function(t,e,n){t=t&&t._orNullIfIdentity();var i=e.internal&&!n,r=e.cacheItem,o=i?null:this._matrix._orNullIfIdentity(),s=r&&(!t||t.equals(o))&&this._getBoundsCacheKey(e,i),a=this._bounds;if(T._updateBoundsCache(this._parent||this._symbol,r),s&&a&&s in a)return{rect:(d=a[s]).rect.clone(),nonscaling:d.nonscaling};var u=this._getBounds(t||o,e),l=u.rect||u,c=this._style,h=u.nonscaling||c.hasStroke()&&!c.getStrokeScaling();if(s){a||(this._bounds=a={});var d=a[s]={rect:l.clone(),nonscaling:h,internal:i}}return{rect:l,nonscaling:h}},_getStrokeMatrix:function(t,e){var n=this.getStrokeScaling()?null:e&&e.internal?this:this._parent||this._symbol&&this._symbol._item,i=n?n.getViewMatrix().invert():t;return i&&i._shiftless()},statics:{_updateBoundsCache:function(t,e){if(t&&e){var n=e._id,i=t._boundsCache=t._boundsCache||{ids:{},list:[]};i.ids[n]||(i.list.push(e),i.ids[n]=e)}},_clearBoundsCache:function(t){var e=t._boundsCache;if(e){t._bounds=t._position=t._boundsCache=s;for(var n=0,i=e.list,r=i.length;n<r;n++){var o=i[n];o!==t&&(o._bounds=o._position=s,o._boundsCache&&T._clearBoundsCache(o))}}},_getBounds:function(t,e,n){var i=1/0,r=-i,o=i,s=r,a=!1;n=n||{};for(var u=0,l=t.length;u<l;u++){var c=t[u];if(c._visible&&!c.isEmpty(!0)){var h=c._getCachedBounds(e&&e.appended(c._matrix),n,!0),d=h.rect;i=Math.min(d.x,i),o=Math.min(d.y,o),r=Math.max(d.x+d.width,r),s=Math.max(d.y+d.height,s),h.nonscaling&&(a=!0)}}return{rect:isFinite(i)?new b(i,o,r-i,s-o):new b,nonscaling:a}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var t=this._decompose();return t?t.rotation:0},setRotation:function(t){var e=this.getRotation();if(null!=e&&null!=t){var n=this._decomposed;this.rotate(t-e),n&&(n.rotation=t,this._decomposed=n)}},getScaling:function(){var t=this._decompose(),e=t&&t.scaling;return new _(e?e.x:1,e?e.y:1,this,"setScaling")},setScaling:function(){var t=this.getScaling(),e=m.read(arguments,0,{clone:!0,readNull:!0});if(t&&e&&!t.equals(e)){var n=this.getRotation(),i=this._decomposed,r=new C,o=g.isZero;if(o(t.x)||o(t.y))r.translate(i.translation),n&&r.rotate(n),r.scale(e.x,e.y),this._matrix.set(r);else{var s=this.getPosition(!0);r.translate(s),n&&r.rotate(n),r.scale(e.x/t.x,e.y/t.y),n&&r.rotate(-n),r.translate(s.negate()),this.transform(r)}i&&(i.scaling=e,this._decomposed=i)}},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.set.apply(t,arguments)},getGlobalMatrix:function(t){var e=this._globalMatrix;if(e)for(var n=this._parent,i=[];n;){if(!n._globalMatrix){e=null;for(var r=0,o=i.length;r<o;r++)i[r]._globalMatrix=null;break}i.push(n),n=n._parent}e||(e=this._globalMatrix=this._matrix.clone(),(n=this._parent)&&e.prepend(n.getGlobalMatrix(!0)));return t?e:e.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(t){(this._applyMatrix=this._canApplyMatrix&&!!t)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(t,e){if(this._project!==t){this._project&&this._installEvents(!1),this._project=t;for(var n=this._children,i=0,r=n&&n.length;i<r;i++)n[i]._setProject(t);e=!0}e&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function t(e){t.base.call(this,e);for(var n=this._children,i=0,r=n&&n.length;i<r;i++)n[i]._installEvents(e)},getLayer:function(){for(var t=this;t=t._parent;)if(t instanceof A)return t;return null},getParent:function(){return this._parent},setParent:function(t){return t.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(t){this.removeChildren(),this.addChildren(t)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var t=this._getOwner();return t&&t._children[this._index+1]||null},getPreviousSibling:function(){var t=this._getOwner();return t&&t._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(t){return t===this||t&&this._class===t._class&&this._style.equals(t._style)&&this._matrix.equals(t._matrix)&&this._locked===t._locked&&this._visible===t._visible&&this._blendMode===t._blendMode&&this._opacity===t._opacity&&this._clipMask===t._clipMask&&this._guide===t._guide&&this._equals(t)||!1},_equals:function(t){return l.equals(this._children,t._children)},clone:function(t){var e=new this.constructor(T.NO_INSERT),n=this._children,i=l.pick(t?t.insert:s,t===s||!0===t),r=l.pick(t?t.deep:s,!0);n&&e.copyAttributes(this),n&&!r||e.copyContent(this),n||e.copyAttributes(this),i&&e.insertAbove(this);var o=this._name,a=this._parent;if(o&&a){n=a._children;for(var u=o,c=1;n[o];)o=u+" "+c++;o!==u&&e.setName(o)}return e},copyContent:function(t){for(var e=t._children,n=0,i=e&&e.length;n<i;n++)this.addChild(e[n].clone(!1),!0)},copyAttributes:function(t,e){this.setStyle(t._style);for(var n=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],i=0,r=n.length;i<r;i++){var o=n[i];t.hasOwnProperty(o)&&(this[o]=t[o])}e||this._matrix.set(t._matrix,!0),this.setApplyMatrix(t._applyMatrix),this.setPivot(t._pivot),this.setSelection(t._selection);var s=t._data,a=t._name;this._data=s?l.clone(s):null,a&&this.setName(a)},rasterize:function(t,e){var n=this.getStrokeBounds(),i=(t||this.getView().getResolution())/72,r=n.getTopLeft().floor(),o=n.getBottomRight().ceil(),a=new w(o.subtract(r)),u=new N(T.NO_INSERT);if(!a.isZero()){var c=st.getCanvas(a.multiply(i)),h=c.getContext("2d"),d=(new C).scale(i).translate(r.negate());h.save(),d.applyToContext(h),this.draw(h,new l({matrices:[d]})),h.restore(),u.setCanvas(c)}return u.transform((new C).translate(r.add(a.divide(2))).scale(1/i)),(e===s||e)&&u.insertAbove(this),u},contains:function(){var t=this._matrix;return t.isInvertible()&&!!this._contains(t._inverseTransform(m.read(arguments)))},_contains:function(t){var e=this._children;if(e){for(var n=e.length-1;n>=0;n--)if(e[n].contains(t))return!0;return!1}return t.isInside(this.getInternalBounds())},isInside:function(){return b.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new q.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(t,e){return t instanceof T&&this._asPathItem().getIntersections(t._asPathItem(),null,e,!0).length>0}},new function(){function t(){var t=arguments;return this._hitTest(m.read(t),E.getOptions(t))}function e(){var t=arguments,e=m.read(t),n=E.getOptions(t),i=[];return this._hitTest(e,new l({all:i},n)),i}function n(t,e,n,i){var r=this._children;if(r)for(var o=r.length-1;o>=0;o--){var s=r[o],a=s!==i&&s._hitTest(t,e,n);if(a&&!e.all)return a}return null}return k.inject({hitTest:t,hitTestAll:e,_hitTest:n}),{hitTest:t,hitTestAll:e,_hitTestChildren:n}},{_hitTest:function(t,e,n){if(this._locked||!this._visible||this._guide&&!e.guides||this.isEmpty())return null;var i=this._matrix,r=n?n.appended(i):this.getGlobalMatrix().prepend(this.getView()._matrix),o=Math.max(e.tolerance,1e-12),s=e._tolerancePadding=new w(q._getStrokePadding(o,i._shiftless().invert()));if(!(t=i._inverseTransform(t))||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(s.multiply(2))._containsPoint(t))return null;var a,u,c=!(e.guides&&!this._guide||e.selected&&!this.isSelected()||e.type&&e.type!==l.hyphenate(this._class)||e.class&&!(this instanceof e.class)),h=e.match,d=this;function f(t){return t&&h&&!h(t)&&(t=null),t&&e.all&&e.all.push(t),t}function p(e,n){var i=n?a["get"+n]():d.getPosition();if(t.subtract(i).divide(s).length<=1)return new E(e,d,{name:n?l.hyphenate(n):e,point:i})}var g=e.position,v=e.center,m=e.bounds;if(c&&this._parent&&(g||v||m)){if((v||m)&&(a=this.getInternalBounds()),!(u=g&&p("position")||v&&p("center","Center"))&&m)for(var _=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],y=0;y<8&&!u;y++)u=p("bounds",_[y]);u=f(u)}return u||(u=this._hitTestChildren(t,e,r)||c&&f(this._hitTestSelf(t,e,r,this.getStrokeScaling()?null:r._shiftless().invert()))||null),u&&u.point&&(u.point=i.transform(u.point)),u},_hitTestSelf:function(t,e){if(e.fill&&this.hasFill()&&this._contains(t))return new E("fill",this)},matches:function(t,e){var n=typeof t;if("object"===n){for(var i in t)if(t.hasOwnProperty(i)&&!this.matches(i,t[i]))return!1;return!0}if("function"===n)return t(this);if("match"===t)return e(this);var r=/^(empty|editable)$/.test(t)?this["is"+l.capitalize(t)]():"type"===t?l.hyphenate(this._class):this[t];if("class"===t){if("function"==typeof e)return this instanceof e;r=this._class}if("function"==typeof e)return!!e(r);if(e){if(e.test)return e.test(r);if(l.isPlainObject(e))return function t(e,n){for(var i in e)if(e.hasOwnProperty(i)){var r=e[i],o=n[i];if(l.isPlainObject(r)&&l.isPlainObject(o)){if(!t(r,o))return!1}else if(!l.equals(r,o))return!1}return!0}(e,r)}return l.equals(r,e)},getItems:function(t){return T._getItems(this,t,this._matrix)},getItem:function(t){return T._getItems(this,t,this._matrix,null,!0)[0]||null},statics:{_getItems:function t(e,n,i,r,o){if(!r){var s="object"==typeof n&&n,a=s&&s.overlapping,u=s&&s.inside,c=(_=a||u)&&b.read([_]);r={items:[],recursive:s&&!1!==s.recursive,inside:!!u,overlapping:!!a,rect:c,path:a&&new q.Rectangle({rectangle:c,insert:!1})},s&&(n=l.filter({},n,{recursive:!0,inside:!0,overlapping:!0}))}var h=e._children,d=r.items;i=(c=r.rect)&&(i||new C);for(var f=0,p=h&&h.length;f<p;f++){var g=h[f],v=i&&i.appended(g._matrix),m=!0;if(c){var _=g.getBounds(v);if(!c.intersects(_))continue;c.contains(_)||r.overlapping&&(_.contains(c)||r.path.intersects(g,v))||(m=!1)}if(m&&g.matches(n)&&(d.push(g),o))break;if(!1!==r.recursive&&t(g,n,v,r,o),o&&d.length>0)break}return d}}},{importJSON:function(t){var e=l.importJSON(t,this);return e!==this?this.addChild(e):e},addChild:function(t){return this.insertChild(s,t)},insertChild:function(t,e){var n=e?this.insertChildren(t,[e]):null;return n&&n[0]},addChildren:function(t){return this.insertChildren(this._children.length,t)},insertChildren:function(t,e){var n=this._children;if(n&&e&&e.length>0){for(var i={},r=(e=l.slice(e)).length-1;r>=0;r--){var o=(c=e[r])&&c._id;!c||i[o]?e.splice(r,1):(c._remove(!1,!0),i[o]=!0)}l.splice(n,e,t,0);for(var s=this._project,a=s._changes,u=(r=0,e.length);r<u;r++){var c,h=(c=e[r])._name;c._parent=this,c._setProject(s,!0),h&&c.setName(h),a&&c._changed(5)}this._changed(11)}else e=null;return e},_insertItem:"#insertChild",_insertAt:function(t,e){var n=t&&t._getOwner(),i=t!==this&&n?this:null;return i&&(i._remove(!1,!0),n._insertItem(t._index+e,i)),i},insertAbove:function(t){return this._insertAt(t,1)},insertBelow:function(t){return this._insertAt(t,0)},sendToBack:function(){var t=this._getOwner();return t?t._insertItem(0,this):null},bringToFront:function(){var t=this._getOwner();return t?t._insertItem(s,this):null},appendTop:"#addChild",appendBottom:function(t){return this.insertChild(0,t)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(t){return t._insertItem(s,this)},copyTo:function(t){return this.clone(!1).addTo(t)},reduce:function(t){var e=this._children;if(e&&1===e.length){var n=e[0].reduce(t);return this._parent?(n.insertAbove(this),this.remove()):n.remove(),n}return this},_removeNamed:function(){var t=this._getOwner();if(t){var e=t._children,n=t._namedChildren,i=this._name,r=n[i],o=r?r.indexOf(this):-1;-1!==o&&(e[i]==this&&delete e[i],r.splice(o,1),r.length?e[i]=r[0]:delete n[i])}},_remove:function(t,e){var n=this._getOwner(),i=this._project,r=this._index;return this._style&&this._style._dispose(),!!n&&(this._name&&this._removeNamed(),null!=r&&(i._activeLayer===this&&(i._activeLayer=this.getNextSibling()||this.getPreviousSibling()),l.splice(n._children,null,r,1)),this._installEvents(!1),t&&i._changes&&this._changed(5),e&&n._changed(11,this),this._parent=null,!0)},remove:function(){return this._remove(!0,!0)},replaceWith:function(t){var e=t&&t.insertBelow(this);return e&&this.remove(),e},removeChildren:function(t,e){if(!this._children)return null;t=t||0,e=l.pick(e,this._children.length);for(var n=l.splice(this._children,null,t,e-t),i=n.length-1;i>=0;i--)n[i]._remove(!0,!1);return n.length>0&&this._changed(11),n},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var t=0,e=this._children.length;t<e;t++)this._children[t]._index=t;this._changed(11)}},isEmpty:function(t){var e=this._children,n=e?e.length:0;if(t){for(var i=0;i<n;i++)if(!e[i].isEmpty(t))return!1;return!0}return!n},isEditable:function(){for(var t=this;t;){if(!t._visible||t._locked)return!1;t=t._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(t){function e(t){var e=[];do{e.unshift(t)}while(t=t._parent);return e}for(var n=e(this),i=e(t),r=0,o=Math.min(n.length,i.length);r<o;r++)if(n[r]!=i[r])return n[r]._index<i[r]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return!!this._parent&&this._parent.isInserted()},isAbove:function(t){return-1===this._getOrder(t)},isBelow:function(t){return 1===this._getOrder(t)},isParent:function(t){return this._parent===t},isChild:function(t){return t&&t._parent===this},isDescendant:function(t){for(var e=this;e=e._parent;)if(e===t)return!0;return!1},isAncestor:function(t){return!!t&&t.isDescendant(this)},isSibling:function(t){return this._parent===t._parent},isGroupedWith:function(t){for(var e=this._parent;e;){if(e._parent&&/^(Group|Layer|CompoundPath)$/.test(e._class)&&t.isDescendant(e))return!0;e=e._parent}return!1}},l.each(["rotate","scale","shear","skew"],(function(t){var e="rotate"===t;this[t]=function(){var n=arguments,i=(e?l:m).read(n),r=m.read(n,0,{readNull:!0});return this.transform((new C)[t](i,r||this.getPosition(!0)))}}),{translate:function(){var t=new C;return this.transform(t.translate.apply(t,arguments))},transform:function(t,e,n){var i=this._matrix,r=t&&!t.isIdentity(),o=n&&this._canApplyMatrix||this._applyMatrix&&(r||!i.isIdentity()||e&&this._children);if(!r&&!o)return this;if(r){!t.isInvertible()&&i.isInvertible()&&(i._backup=i.getValues()),i.prepend(t,!0);var s=this._style,a=s.getFillColor(!0),u=s.getStrokeColor(!0);a&&a.transform(t),u&&u.transform(t)}if(o&&(o=this._transformContent(i,e,n))){var l=this._pivot;l&&i._transformPoint(l,l,!0),i.reset(!0),n&&this._canApplyMatrix&&(this._applyMatrix=!0)}var c=this._bounds,h=this._position;(r||o)&&this._changed(25);var d=r&&c&&t.decompose();if(d&&d.skewing.isZero()&&d.rotation%90==0){for(var f in c){var p=c[f];if(p.nonscaling)delete c[f];else if(o||!p.internal){var g=p.rect;t._transformBounds(g,g)}}this._bounds=c;var v=c[this._getBoundsCacheKey(this._boundsOptions||{})];v&&(this._position=this._getPositionFromBounds(v.rect))}else r&&h&&this._pivot&&(this._position=t._transformPoint(h,h));return this},_transformContent:function(t,e,n){var i=this._children;if(i){for(var r=0,o=i.length;r<o;r++)i[r].transform(t,e,n);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(m.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(m.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(m.read(arguments))},localToParent:function(){return this._matrix._transformPoint(m.read(arguments))},fitBounds:function(t,e){t=b.read(arguments);var n=this.getBounds(),i=n.height/n.width,r=t.height/t.width,o=(e?i>r:i<r)?t.width/n.width:t.height/n.height,s=new b(new m,new w(n.width*o,n.height*o));s.setCenter(t.getCenter()),this.setBounds(s)}}),{_setStyles:function(t,e,n){var i=this._style,r=this._matrix;if(i.hasFill()&&(t.fillStyle=i.getFillColor().toCanvasStyle(t,r)),i.hasStroke()){t.strokeStyle=i.getStrokeColor().toCanvasStyle(t,r),t.lineWidth=i.getStrokeWidth();var o=i.getStrokeJoin(),s=i.getStrokeCap(),a=i.getMiterLimit();if(o&&(t.lineJoin=o),s&&(t.lineCap=s),a&&(t.miterLimit=a),ct.support.nativeDash){var u=i.getDashArray(),l=i.getDashOffset();u&&u.length&&("setLineDash"in t?(t.setLineDash(u),t.lineDashOffset=l):(t.mozDash=u,t.mozDashOffset=l))}}if(i.hasShadow()){var c=e.pixelRatio||1,h=n._shiftless().prepend((new C).scale(c,c)),d=h.transform(new m(i.getShadowBlur(),0)),f=h.transform(this.getShadowOffset());t.shadowColor=i.getShadowColor().toCanvasStyle(t),t.shadowBlur=d.getLength(),t.shadowOffsetX=f.x,t.shadowOffsetY=f.y}},draw:function(t,e,n){this._updateVersion=this._project._updateVersion;if(this._visible&&0!==this._opacity){var i=e.matrices,r=e.viewMatrix,o=this._matrix,s=i[i.length-1].appended(o);if(s.isInvertible()){r=r?r.appended(s):s,i.push(s),e.updateMatrix&&(this._globalMatrix=s);var a,u,l,c=this._blendMode,h=g.clamp(this._opacity,0,1),d="normal"===c,f=at.nativeModes[c],p=d&&1===h||e.dontStart||e.clip||(f||d&&h<1)&&this._canComposite(),v=e.pixelRatio||1;if(!p){var m=this.getStrokeBounds(r);if(!m.width||!m.height)return void i.pop();l=e.offset,u=e.offset=m.getTopLeft().floor(),a=t,t=st.getContext(m.getSize().ceil().add(1).multiply(v)),1!==v&&t.scale(v,v)}t.save();var _=n?n.appended(o):this._canScaleStroke&&!this.getStrokeScaling(!0)&&r,w=!p&&e.clipItem,y=!_||w;if(p?(t.globalAlpha=h,f&&(t.globalCompositeOperation=c)):y&&t.translate(-u.x,-u.y),y&&(p?o:r).applyToContext(t),w&&e.clipItem.draw(t,e.extend({clip:!0})),_){t.setTransform(v,0,0,v,0,0);var b=e.offset;b&&t.translate(-b.x,-b.y)}this._draw(t,e,r,_),t.restore(),i.pop(),e.clip&&!e.dontFinish&&t.clip(this.getFillRule()),p||(at.process(c,t,a,h,u.subtract(l).multiply(v)),st.release(t),e.offset=l)}}},_isUpdated:function(t){var e=this._parent;if(e instanceof B)return e._isUpdated(t);var n=this._updateVersion===t;return!n&&e&&e._visible&&e._isUpdated(t)&&(this._updateVersion=t,n=!0),n},_drawSelection:function(t,e,n,i,r){var o=this._selection,s=1&o,a=2&o||s&&this._selectBounds,u=4&o;if(this._drawSelected||(s=!1),(s||a||u)&&this._isUpdated(r)){var l,c=this.getSelectedColor(!0)||(l=this.getLayer())&&l.getSelectedColor(!0),h=e.appended(this.getGlobalMatrix(!0)),d=n/2;if(t.strokeStyle=t.fillStyle=c?c.toCanvasStyle(t):"#009dec",s&&this._drawSelected(t,h,i),u){var f=this.getPosition(!0),p=this._parent,g=p?p.localToGlobal(f):f,v=g.x,m=g.y;t.beginPath(),t.arc(v,m,d,0,2*Math.PI,!0),t.stroke();for(var _=[[0,-1],[1,0],[0,1],[-1,0]],w=d,y=n+1,b=0;b<4;b++){var x=_[b],C=x[0],S=x[1];t.moveTo(v+C*w,m+S*w),t.lineTo(v+C*y,m+S*y),t.stroke()}}if(a){var k=h._transformCorners(this.getInternalBounds());t.beginPath();for(b=0;b<8;b++)t[b?"lineTo":"moveTo"](k[b],k[++b]);t.closePath(),t.stroke();for(b=0;b<8;b++)t.fillRect(k[b]-d,k[++b]-d,n,n)}}},_canComposite:function(){return!1}},l.each(["down","drag","up","move"],(function(t){this["removeOn"+l.capitalize(t)]=function(){var e={};return e[t]=!0,this.removeOn(e)}}),{removeOn:function(t){for(var e in t)if(t[e]){var n="mouse"+e,i=this._project,r=i._removeSets=i._removeSets||{};r[n]=r[n]||{},r[n][this._id]=this}return this}}),{tween:function(t,e,n){n||(n=e,e=t,t=null,n||(n=e,e=null));var i=n&&n.easing,r=n&&n.start,o=null!=n&&("number"==typeof n?n:n.duration),s=new rt(this,t,e,o,i,r);return o&&this.on("frame",(function t(e){s._handleFrame(1e3*e.time),s.running||this.off("frame",t)})),s},tweenTo:function(t,e){return this.tween(null,t,e)},tweenFrom:function(t,e){return this.tween(t,null,e)}}),P=T.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||this.addChildren(Array.isArray(t)?t:arguments)},_changed:function t(e){t.base.call(this,e),2050&e&&(this._clipItem=s)},_getClipItem:function(){var t=this._clipItem;if(t===s){t=null;for(var e=this._children,n=0,i=e.length;n<i;n++)if(e[n]._clipMask){t=e[n];break}this._clipItem=t}return t},isClipped:function(){return!!this._getClipItem()},setClipped:function(t){var e=this.getFirstChild();e&&e.setClipMask(t)},_getBounds:function t(e,n){var i=this._getClipItem();return i?i._getCachedBounds(i._matrix.prepended(e),l.set({},n,{stroke:!1})):t.base.call(this,e,n)},_hitTestChildren:function t(e,n,i){var r=this._getClipItem();return(!r||r.contains(e))&&t.base.call(this,e,n,i,r)},_draw:function(t,e){var n=e.clip,i=!n&&this._getClipItem();e=e.extend({clipItem:i,clip:!1}),n?(t.beginPath(),e.dontStart=e.dontFinish=!0):i&&i.draw(t,e.extend({clip:!0}));for(var r=this._children,o=0,s=r.length;o<s;o++){var a=r[o];a!==i&&a.draw(t,e)}}}),A=P.extend({_class:"Layer",initialize:function(){P.apply(this,arguments)},_getOwner:function(){return this._parent||null!=this._index&&this._project},isInserted:function t(){return this._parent?t.base.call(this):null!=this._index},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),I=T.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(t,e){this._initialize(t,e)},_equals:function(t){return this._type===t._type&&this._size.equals(t._size)&&l.equals(this._radius,t._radius)},copyContent:function(t){this.setType(t._type),this.setSize(t._size),this.setRadius(t._radius)},getType:function(){return this._type},setType:function(t){this._type=t},getShape:"#getType",setShape:"#setType",getSize:function(){var t=this._size;return new y(t.width,t.height,this,"setSize")},setSize:function(){var t=w.read(arguments);if(this._size){if(!this._size.equals(t)){var e=this._type,n=t.width,i=t.height;"rectangle"===e?this._radius.set(w.min(this._radius,t.divide(2).abs())):"circle"===e?(n=i=(n+i)/2,this._radius=n/2):"ellipse"===e&&this._radius._set(n/2,i/2),this._size._set(n,i),this._changed(9)}}else this._size=t.clone()},getRadius:function(){var t=this._radius;return"circle"===this._type?t:new y(t.width,t.height,this,"setRadius")},setRadius:function(t){var e=this._type;if("circle"===e){if(t===this._radius)return;var n=2*t;this._radius=t,this._size._set(n,n)}else if(t=w.read(arguments),this._radius){if(this._radius.equals(t))return;if(this._radius.set(t),"rectangle"===e){n=w.max(this._size,t.multiply(2));this._size.set(n)}else"ellipse"===e&&this._size._set(2*t.width,2*t.height)}else this._radius=t.clone();this._changed(9)},isEmpty:function(){return!1},toPath:function(t){var e=new(q[l.capitalize(this._type)])({center:new m,size:this._size,radius:this._radius,insert:!1});return e.copyAttributes(this),ct.settings.applyMatrix&&e.setApplyMatrix(!0),(t===s||t)&&e.insertAbove(this),e},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(t,e,n,i){var r=this._style,o=r.hasFill(),s=r.hasStroke(),a=e.dontFinish||e.clip,u=!i;if(o||s||a){var l=this._type,c=this._radius,h="circle"===l;if(e.dontStart||t.beginPath(),u&&h)t.arc(0,0,c,0,2*Math.PI,!0);else{var d=h?c:c.width,f=h?c:c.height,p=this._size,g=p.width,v=p.height;if(u&&"rectangle"===l&&0===d&&0===f)t.rect(-g/2,-v/2,g,v);else{var m=g/2,_=v/2,w=.44771525016920644,y=d*w,b=f*w,x=[-m,-_+f,-m,-_+b,-m+y,-_,-m+d,-_,m-d,-_,m-y,-_,m,-_+b,m,-_+f,m,_-f,m,_-b,m-y,_,m-d,_,-m+d,_,-m+y,_,-m,_-b,-m,_-f];i&&i.transform(x,x,32),t.moveTo(x[0],x[1]),t.bezierCurveTo(x[2],x[3],x[4],x[5],x[6],x[7]),m!==d&&t.lineTo(x[8],x[9]),t.bezierCurveTo(x[10],x[11],x[12],x[13],x[14],x[15]),_!==f&&t.lineTo(x[16],x[17]),t.bezierCurveTo(x[18],x[19],x[20],x[21],x[22],x[23]),m!==d&&t.lineTo(x[24],x[25]),t.bezierCurveTo(x[26],x[27],x[28],x[29],x[30],x[31])}}t.closePath()}a||!o&&!s||(this._setStyles(t,e,n),o&&(t.fill(r.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),s&&t.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(t,e){var n=new b(this._size).setCenter(0,0),i=this._style,r=e.stroke&&i.hasStroke()&&i.getStrokeWidth();return t&&(n=t._transformBounds(n)),r?n.expand(q._getStrokePadding(r,this._getStrokeMatrix(t,e))):n}},new function(){function t(t,e,n){var i=t._radius;if(!i.isZero())for(var r=t._size.divide(2),o=1;o<=4;o++){var s=new m(o>1&&o<4?-1:1,o>2?-1:1),a=s.multiply(r),u=a.subtract(s.multiply(i));if(new b(n?a.add(s.multiply(n)):a,u).contains(e))return{point:u,quadrant:o}}}function e(t,e,n,i){var r=t.divide(e);return(!i||r.isInQuadrant(i))&&r.subtract(r.normalize()).multiply(e).divide(n).length<=1}return{_contains:function e(n){if("rectangle"===this._type){var i=t(this,n);return i?n.subtract(i.point).divide(this._radius).getLength()<=1:e.base.call(this,n)}return n.divide(this.size).getLength()<=.5},_hitTestSelf:function n(i,r,o,s){var a=!1,u=this._style,l=r.stroke&&u.hasStroke(),c=r.fill&&u.hasFill();if(l||c){var h=this._type,d=this._radius,f=l?u.getStrokeWidth()/2:0,p=r._tolerancePadding.add(q._getStrokePadding(f,!u.getStrokeScaling()&&s));if("rectangle"===h){var g=p.multiply(2),v=t(this,i,g);if(v)a=e(i.subtract(v.point),d,p,v.quadrant);else{var m=new b(this._size).setCenter(0,0),_=m.expand(g),w=m.expand(g.negate());a=_._containsPoint(i)&&!w._containsPoint(i)}}else a=e(i,d,p)}return a?new E(l?"stroke":"fill",this):n.base.apply(this,arguments)}}},{statics:new function(){function t(t,e,n,i,r){var o=l.create(I.prototype);return o._type=t,o._size=n,o._radius=i,o._initialize(l.getNamed(r),e),o}return{Circle:function(){var e=arguments,n=m.readNamed(e,"center"),i=l.readNamed(e,"radius");return t("circle",n,new w(2*i),i,e)},Rectangle:function(){var e=arguments,n=b.readNamed(e,"rectangle"),i=w.min(w.readNamed(e,"radius"),n.getSize(!0).divide(2));return t("rectangle",n.getCenter(!0),n.getSize(!0),i,e)},Ellipse:function(){var e=arguments,n=I._readEllipse(e),i=n.radius;return t("ellipse",n.center,i.multiply(2),i,e)},_readEllipse:function(t){var e,n;if(l.hasNamed(t,"radius"))e=m.readNamed(t,"center"),n=w.readNamed(t,"radius");else{var i=b.readNamed(t,"rectangle");e=i.getCenter(!0),n=i.getSize(!0).divide(2)}return{center:e,radius:n}}}}}),N=T.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:!0,beans:!0,initialize:function(t,e){if(!this._initialize(t,e!==s&&m.read(arguments))){var n,i=typeof t,r="string"===i?u.getElementById(t):"object"===i?t:null;if(r&&r!==T.NO_INSERT)if(r.getContext||null!=r.naturalHeight)n=r;else if(r){var o=w.read(arguments);o.isZero()||(n=st.getCanvas(o))}n?this.setImage(n):this.setSource(t)}this._size||(this._size=new w,this._loaded=!1)},_equals:function(t){return this.getSource()===t.getSource()},copyContent:function(t){var e=t._image,n=t._canvas;if(e)this._setImage(e);else if(n){var i=st.getCanvas(t._size);i.getContext("2d").drawImage(n,0,0),this._setImage(i)}this._crossOrigin=t._crossOrigin},getSize:function(){var t=this._size;return new y(t?t.width:0,t?t.height:0,this,"setSize")},setSize:function(){var t=w.read(arguments);if(!t.equals(this._size))if(t.width>0&&t.height>0){var e=this.getElement();this._setImage(st.getCanvas(t)),e&&this.getContext(!0).drawImage(e,0,0,t.width,t.height)}else this._canvas&&st.release(this._canvas),this._size=t.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(t){this.setSize(t,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(t){this.setSize(this.getWidth(),t)},getLoaded:function(){return this._loaded},isEmpty:function(){var t=this._size;return!t||0===t.width&&0===t.height},getResolution:function(){var t=this._matrix,e=new m(0,0).transform(t),n=new m(1,0).transform(t).subtract(e),i=new m(0,1).transform(t).subtract(e);return new w(72/n.getLength(),72/i.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(t){var e=this;function n(t){var n=e.getView(),i=t&&t.type||"load";n&&e.responds(i)&&(ct=n._scope,e.emit(i,new Y(t)))}this._setImage(t),this._loaded?setTimeout(n,0):t&&Q.add(t,{load:function(i){e._setImage(t),n(i)},error:n})},_setImage:function(t){this._canvas&&st.release(this._canvas),t&&t.getContext?(this._image=null,this._canvas=t,this._loaded=!0):(this._image=t,this._canvas=null,this._loaded=!!(t&&t.src&&t.complete)),this._size=new w(t?t.naturalWidth||t.width:0,t?t.naturalHeight||t.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var t=st.getContext(this._size);try{this._image&&t.drawImage(this._image,0,0),this._canvas=t.canvas}catch(e){st.release(t)}}return this._canvas},setCanvas:"#setImage",getContext:function(t){return this._context||(this._context=this.getCanvas().getContext("2d")),t&&(this._image=null,this._changed(1025)),this._context},setContext:function(t){this._context=t},getSource:function(){var t=this._image;return t&&t.src||this.toDataURL()},setSource:function(t){var e=new o.Image,n=this._crossOrigin;n&&(e.crossOrigin=n),t&&(e.src=t),this.setImage(e)},getCrossOrigin:function(){var t=this._image;return t&&t.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(t){this._crossOrigin=t;var e=this._image;e&&(e.crossOrigin=t)},getSmoothing:function(){return this._smoothing},setSmoothing:function(t){this._smoothing=t,this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var t=b.read(arguments),e=st.getContext(t.getSize());return e.drawImage(this.getCanvas(),t.x,t.y,t.width,t.height,0,0,t.width,t.height),e.canvas},getSubRaster:function(){var t=b.read(arguments),e=new N(T.NO_INSERT);return e._setImage(this.getSubCanvas(t)),e.translate(t.getCenter().subtract(this.getSize().divide(2))),e._matrix.prepend(this._matrix),e.insertAbove(this),e},toDataURL:function(){var t=this._image,e=t&&t.src;if(/^data:/.test(e))return e;var n=this.getCanvas();return n?n.toDataURL.apply(n,arguments):null},drawImage:function(t){var e=m.read(arguments,1);this.getContext(!0).drawImage(t,e.x,e.y)},getAverageColor:function(t){var e,n;if(t?t instanceof R?(n=t,e=t.getBounds()):"object"==typeof t&&("width"in t?e=new b(t):"x"in t&&(e=new b(t.x-.5,t.y-.5,1,1))):e=this.getBounds(),!e)return null;var i=Math.min(e.width,32),r=Math.min(e.height,32),o=N._sampleContext;o?o.clearRect(0,0,33,33):o=N._sampleContext=st.getContext(new w(32)),o.save();var s=(new C).scale(i/e.width,r/e.height).translate(-e.x,-e.y);s.applyToContext(o),n&&n.draw(o,new l({clip:!0,matrices:[s]})),this._matrix.applyToContext(o);var a=this.getElement(),u=this._size;a&&o.drawImage(a,-u.width/2,-u.height/2),o.restore();for(var c=o.getImageData(.5,.5,Math.ceil(i),Math.ceil(r)).data,h=[0,0,0],d=0,f=0,p=c.length;f<p;f+=4){var g=c[f+3];d+=g,g/=255,h[0]+=c[f]*g,h[1]+=c[f+1]*g,h[2]+=c[f+2]*g}for(f=0;f<3;f++)h[f]/=d;return d?W.read(h):null},getPixel:function(){var t=m.read(arguments),e=this.getContext().getImageData(t.x,t.y,1,1).data;return new W("rgb",[e[0]/255,e[1]/255,e[2]/255],e[3]/255)},setPixel:function(){var t=arguments,e=m.read(t),n=W.read(t),i=n._convert("rgb"),r=n._alpha,o=this.getContext(!0),s=o.createImageData(1,1),a=s.data;a[0]=255*i[0],a[1]=255*i[1],a[2]=255*i[2],a[3]=null!=r?255*r:255,o.putImageData(s,e.x,e.y)},clear:function(){var t=this._size;this.getContext(!0).clearRect(0,0,t.width+1,t.height+1)},createImageData:function(){var t=w.read(arguments);return this.getContext().createImageData(t.width,t.height)},getImageData:function(){var t=b.read(arguments);return t.isEmpty()&&(t=new b(this._size)),this.getContext().getImageData(t.x,t.y,t.width,t.height)},setImageData:function(t){var e=m.read(arguments,1);this.getContext(!0).putImageData(t,e.x,e.y)},_getBounds:function(t,e){var n=new b(this._size).setCenter(0,0);return t?t._transformBounds(n):n},_hitTestSelf:function(t){if(this._contains(t)){var e=this;return new E("pixel",e,{offset:t.add(e._size.divide(2)).round(),color:{get:function(){return e.getPixel(this.offset)}}})}},_draw:function(t,e,n){var i=this.getElement();i&&i.width>0&&i.height>0&&(t.globalAlpha=g.clamp(this._opacity,0,1),this._setStyles(t,e,n),J.setPrefixed(t,"imageSmoothingEnabled",this._smoothing),t.drawImage(i,-this._size.width/2,-this._size.height/2))},_canComposite:function(){return!0}}),M=T.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(t,e){this._initialize(t,e!==s&&m.read(arguments,1))||this.setDefinition(t instanceof z?t:new z(t))},_equals:function(t){return this._definition===t._definition},copyContent:function(t){this.setDefinition(t._definition)},getDefinition:function(){return this._definition},setDefinition:function(t){this._definition=t,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(t,e){var n=this._definition._item;return n._getCachedBounds(n._matrix.prepended(t),e)},_hitTestSelf:function(t,e,n){var i=e.extend({all:!1}),r=this._definition._item._hitTest(t,i,n);return r&&(r.item=this),r},_draw:function(t,e){this._definition._item.draw(t,e)}}),z=l.extend({_class:"SymbolDefinition",initialize:function(t,e){this._id=v.get(),this.project=ct.project,t&&this.setItem(t,e)},_serialize:function(t,e){return e.add(this,(function(){return l.serialize([this._class,this._item],t,!1,e)}))},_changed:function(t){8&t&&T._clearBoundsCache(this),1&t&&this.project._changed(t)},getItem:function(){return this._item},setItem:function(t,e){t._symbol&&(t=t.clone()),this._item&&(this._item._symbol=null),this._item=t,t.remove(),t.setSelected(!1),e||t.setPosition(new m),t._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(t){return new M(this,t)},clone:function(){return new z(this._item.clone(!1))},equals:function(t){return t===this||t&&this._item.equals(t._item)||!1}}),E=l.extend({_class:"HitResult",initialize:function(t,e,n){this.type=t,this.item=e,n&&this.inject(n)},statics:{getOptions:function(t){var e=t&&l.read(t);return new l({type:null,tolerance:ct.settings.hitTolerance,fill:!e,stroke:!e,segments:!e,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},e)}}}),O=l.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(t,e,n,i,r,o){var a,u,l,c,h=arguments.length;h>0&&(null==t||"object"==typeof t?1===h&&t&&"point"in t?(a=t.point,u=t.handleIn,l=t.handleOut,c=t.selection):(a=t,u=e,l=n,c=i):(a=[t,e],u=n!==s?[n,i]:null,l=r!==s?[r,o]:null)),new j(a,this,"_point"),new j(u,this,"_handleIn"),new j(l,this,"_handleOut"),c&&this.setSelection(c)},_serialize:function(t,e){var n=this._point,i=this._selection,r=i||this.hasHandles()?[n,this._handleIn,this._handleOut]:n;return i&&r.push(i),l.serialize(r,t,!0,e)},_changed:function(t){var e=this._path;if(e){var n,i=e._curves,r=this._index;i&&(t&&t!==this._point&&t!==this._handleIn||!(n=r>0?i[r-1]:e._closed?i[i.length-1]:null)||n._changed(),t&&t!==this._point&&t!==this._handleOut||!(n=i[r])||n._changed()),e._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(m.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(m.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(m.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var t=this._handleIn,e=this._handleOut;return!t.isZero()&&!e.isZero()&&t.isCollinear(e)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(t){var e=this._selection,n=this._path;this._selection=t=t||0,n&&t!==e&&(n._updateSelection(this,e,t),n._changed(257))},_changeSelection:function(t,e){var n=this._selection;this.setSelection(e?n|t:n&~t)},isSelected:function(){return!!(7&this._selection)},setSelected:function(t){this._changeSelection(7,t)},getIndex:function(){return this._index!==s?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var t=this._path,e=this._index;return t?(e>0&&!t._closed&&e===t._segments.length-1&&e--,t.getCurves()[e]||null):null},getLocation:function(){var t=this.getCurve();return t?new L(t,this===t._segment1?0:1):null},getNext:function(){var t=this._path&&this._path._segments;return t&&(t[this._index+1]||this._path._closed&&t[0])||null},smooth:function(t,e,n){var i=t||{},r=i.type,o=i.factor,a=this.getPrevious(),u=this.getNext(),l=(a||this)._point,c=this._point,h=(u||this)._point,d=l.getDistance(c),f=c.getDistance(h);if(r&&"catmull-rom"!==r){if("geometric"!==r)throw new Error("Smoothing method '"+r+"' not supported.");if(a&&u){var p=l.subtract(h),g=o===s?.4:o,v=g*d/(d+f);e||this.setHandleIn(p.multiply(v)),n||this.setHandleOut(p.multiply(v-g))}}else{var _=o===s?.5:o,w=Math.pow(d,_),y=w*w,b=Math.pow(f,_),x=b*b;if(!e&&a){var C=2*x+3*b*w+y,S=3*b*(b+w);this.setHandleIn(0!==S?new m((x*l._x+C*c._x-y*h._x)/S-c._x,(x*l._y+C*c._y-y*h._y)/S-c._y):new m)}if(!n&&u){C=2*y+3*w*b+x,S=3*w*(w+b);this.setHandleOut(0!==S?new m((y*h._x+C*c._x-x*l._x)/S-c._x,(y*h._y+C*c._y-x*l._y)/S-c._y):new m)}}},getPrevious:function(){var t=this._path&&this._path._segments;return t&&(t[this._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var t=this._path;return t&&this._index===t._segments.length-1||!1},reverse:function(){var t=this._handleIn,e=this._handleOut,n=t.clone();t.set(e),e.set(n)},reversed:function(){return new O(this._point,this._handleOut,this._handleIn)},remove:function(){return!!this._path&&!!this._path.removeSegment(this._index)},clone:function(){return new O(this._point,this._handleIn,this._handleOut)},equals:function(t){return t===this||t&&this._class===t._class&&this._point.equals(t._point)&&this._handleIn.equals(t._handleIn)&&this._handleOut.equals(t._handleOut)||!1},toString:function(){var t=["point: "+this._point];return this._handleIn.isZero()||t.push("handleIn: "+this._handleIn),this._handleOut.isZero()||t.push("handleOut: "+this._handleOut),"{ "+t.join(", ")+" }"},transform:function(t){this._transformCoordinates(t,new Array(6),!0),this._changed()},interpolate:function(t,e,n){var i=1-n,r=n,o=t._point,s=e._point,a=t._handleIn,u=e._handleIn,l=e._handleOut,c=t._handleOut;this._point._set(i*o._x+r*s._x,i*o._y+r*s._y,!0),this._handleIn._set(i*a._x+r*u._x,i*a._y+r*u._y,!0),this._handleOut._set(i*c._x+r*l._x,i*c._y+r*l._y,!0),this._changed()},_transformCoordinates:function(t,e,n){var i=this._point,r=n&&this._handleIn.isZero()?null:this._handleIn,o=n&&this._handleOut.isZero()?null:this._handleOut,s=i._x,a=i._y,u=2;return e[0]=s,e[1]=a,r&&(e[u++]=r._x+s,e[u++]=r._y+a),o&&(e[u++]=o._x+s,e[u++]=o._y+a),t&&(t._transformCoordinates(e,e,u/2),s=e[0],a=e[1],n?(i._x=s,i._y=a,u=2,r&&(r._x=e[u++]-s,r._y=e[u++]-a),o&&(o._x=e[u++]-s,o._y=e[u++]-a)):(r||(e[u++]=s,e[u++]=a),o||(e[u++]=s,e[u++]=a))),e}}),j=m.extend({initialize:function(t,e,n){var i,r,o;if(t)if((i=t[0])!==s)r=t[1];else{var a=t;(i=a.x)===s&&(i=(a=m.read(arguments)).x),r=a.y,o=a.selected}else i=r=0;this._x=i,this._y=r,this._owner=e,e[n]=this,o&&this.setSelected(!0)},_set:function(t,e){return this._x=t,this._y=e,this._owner._changed(this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner._changed(this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner._changed(this)},isZero:function(){var t=g.isZero;return t(this._x)&&t(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){var t=this._owner;return this===t._point?1:this===t._handleIn?2:this===t._handleOut?4:0}}),D=l.extend({_class:"Curve",beans:!0,initialize:function(t,e,n,i,r,o,s,a){var u,l,c,h,d,f,p=arguments.length;3===p?(this._path=t,u=e,l=n):p?1===p?"segment1"in t?(u=new O(t.segment1),l=new O(t.segment2)):"point1"in t?(c=t.point1,d=t.handle1,f=t.handle2,h=t.point2):Array.isArray(t)&&(c=[t[0],t[1]],h=[t[6],t[7]],d=[t[2]-t[0],t[3]-t[1]],f=[t[4]-t[6],t[5]-t[7]]):2===p?(u=new O(t),l=new O(e)):4===p?(c=t,d=e,f=n,h=i):8===p&&(c=[t,e],h=[s,a],d=[n-t,i-e],f=[r-s,o-a]):(u=new O,l=new O),this._segment1=u||new O(c,null,d),this._segment2=l||new O(h,f,null)},_serialize:function(t,e){return l.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],t,!0,e)},_changed:function(){this._length=this._bounds=s},clone:function(){return new D(this._segment1,this._segment2)},toString:function(){var t=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||t.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||t.push("handle2: "+this._segment2._handleIn),t.push("point2: "+this._segment2._point),"{ "+t.join(", ")+" }"},classify:function(){return D.classify(this.getValues())},remove:function(){var t=!1;if(this._path){var e=this._segment2,n=e._handleOut;(t=e.remove())&&this._segment1._handleOut.set(n)}return t},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(m.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(m.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(m.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(m.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index+1]||this._path._closed&&t[0])||null},getPrevious:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var t=this._path;return t&&this._segment1._index===t._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(t){this.getPoint1().setSelected(t),this.getHandle1().setSelected(t),this.getHandle2().setSelected(t),this.getPoint2().setSelected(t)},getValues:function(t){return D.getValues(this._segment1,this._segment2,t)},getPoints:function(){for(var t=this.getValues(),e=[],n=0;n<8;n+=2)e.push(new m(t[n],t[n+1]));return e}},{getLength:function(){return null==this._length&&(this._length=D.getLength(this.getValues(),0,1)),this._length},getArea:function(){return D.getArea(this.getValues())},getLine:function(){return new S(this._segment1._point,this._segment2._point)},getPart:function(t,e){return new D(D.getPart(this.getValues(),t,e))},getPartLength:function(t,e){return D.getLength(this.getValues(),t,e)},divideAt:function(t){return this.divideAtTime(t&&t.curve===this?t.time:this.getTimeAt(t))},divideAtTime:function(t,e){var n=null;if(t>=1e-8&&t<=.99999999){var i=D.subdivide(this.getValues(),t),r=i[0],o=i[1],s=e||this.hasHandles(),a=this._segment1,u=this._segment2,l=this._path;s&&(a._handleOut._set(r[2]-r[0],r[3]-r[1]),u._handleIn._set(o[4]-o[6],o[5]-o[7]));var c=r[6],h=r[7],d=new O(new m(c,h),s&&new m(r[4]-c,r[5]-h),s&&new m(o[2]-c,o[3]-h));l?(l.insert(a._index+1,d),n=this.getNext()):(this._segment2=d,this._changed(),n=new D(d,u))}return n},splitAt:function(t){var e=this._path;return e?e.splitAt(t):null},splitAtTime:function(t){return this.splitAt(this.getLocationAtTime(t))},divide:function(t,e){return this.divideAtTime(t===s?.5:e?t:this.getTimeAt(t))},split:function(t,e){return this.splitAtTime(t===s?.5:e?t:this.getTimeAt(t))},reversed:function(){return new D(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(t,e,n,i){var r=t._point,o=t._handleOut,s=e._handleIn,a=e._point,u=r.x,l=r.y,c=a.x,h=a.y,d=i?[u,l,u,l,c,h,c,h]:[u,l,u+o._x,l+o._y,c+s._x,h+s._y,c,h];return n&&n._transformCoordinates(d,d,4),d},subdivide:function(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],a=t[4],u=t[5],l=t[6],c=t[7];e===s&&(e=.5);var h=1-e,d=h*n+e*r,f=h*i+e*o,p=h*r+e*a,g=h*o+e*u,v=h*a+e*l,m=h*u+e*c,_=h*d+e*p,w=h*f+e*g,y=h*p+e*v,b=h*g+e*m,x=h*_+e*y,C=h*w+e*b;return[[n,i,d,f,_,w,x,C],[x,C,y,b,v,m,l,c]]},getMonoCurves:function(t,e){var n=[],i=e?0:1,r=t[i+0],o=t[i+2],s=t[i+4],a=t[i+6];if(r>=o==o>=s&&o>=s==s>=a||D.isStraight(t))n.push(t);else{var u=3*(o-s)-r+a,l=2*(r+s)-4*o,c=o-r,h=[],d=g.solveQuadratic(u,l,c,h,1e-8,.99999999);if(d){h.sort();var f=h[0],p=D.subdivide(t,f);n.push(p[0]),d>1&&(f=(h[1]-f)/(1-f),p=D.subdivide(p[1],f),n.push(p[0])),n.push(p[1])}else n.push(t)}return n},solveCubic:function(t,e,n,i,r,o){var s=t[e],a=t[e+2],u=t[e+4],l=t[e+6],c=0;if(!(s<n&&l<n&&a<n&&u<n||s>n&&l>n&&a>n&&u>n)){var h=3*(a-s),d=3*(u-a)-h,f=l-s-h-d;c=g.solveCubic(f,d,h,s-n,i,r,o)}return c},getTimeOf:function(t,e){var n=new m(t[0],t[1]),i=new m(t[6],t[7]),r=1e-7;if(null===(e.isClose(n,1e-12)?0:e.isClose(i,1e-12)?1:null))for(var o=[e.x,e.y],s=[],a=0;a<2;a++)for(var u=D.solveCubic(t,a,o[a],s,0,1),l=0;l<u;l++){var c=s[l];if(e.isClose(D.getPoint(t,c),r))return c}return e.isClose(n,r)?0:e.isClose(i,r)?1:null},getNearestTime:function(t,e){if(D.isStraight(t)){var n=t[0],i=t[1],r=t[6]-n,o=t[7]-i,s=r*r+o*o;if(0===s)return 0;var a=((e.x-n)*r+(e.y-i)*o)/s;return a<1e-12?0:a>.999999999999?1:D.getTimeOf(t,new m(n+a*r,i+a*o))}var u=1/0,l=0;function c(n){if(n>=0&&n<=1){var i=e.getDistance(D.getPoint(t,n),!0);if(i<u)return u=i,l=n,!0}}for(var h=0;h<=100;h++)c(h/100);for(var d=.005;d>1e-8;)c(l-d)||c(l+d)||(d/=2);return l},getPart:function(t,e,n){var i=e>n;if(i){var r=e;e=n,n=r}return e>0&&(t=D.subdivide(t,e)[1]),n<1&&(t=D.subdivide(t,(n-e)/(1-e))[0]),i?[t[6],t[7],t[4],t[5],t[2],t[3],t[0],t[1]]:t},isFlatEnough:function(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],s=t[4],a=t[5],u=t[6],l=t[7],c=3*r-2*n-u,h=3*o-2*i-l,d=3*s-2*u-n,f=3*a-2*l-i;return Math.max(c*c,d*d)+Math.max(h*h,f*f)<=16*e*e},getArea:function(t){var e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],s=t[5],a=t[6],u=t[7];return 3*((u-n)*(i+o)-(a-e)*(r+s)+r*(e-o)-i*(n-s)+u*(o+e/3)-a*(s+n/3))/20},getBounds:function(t){for(var e=t.slice(0,2),n=e.slice(),i=[0,0],r=0;r<2;r++)D._addBounds(t[r],t[r+2],t[r+4],t[r+6],r,0,e,n,i);return new b(e[0],e[1],n[0]-e[0],n[1]-e[1])},_addBounds:function(t,e,n,i,r,o,s,a,u){function l(t,e){var n=t-e,i=t+e;n<s[r]&&(s[r]=n),i>a[r]&&(a[r]=i)}o/=2;var c=s[r]+o,h=a[r]-o;if(t<c||e<c||n<c||i<c||t>h||e>h||n>h||i>h)if(e<t!=e<i&&n<t!=n<i)l(t,0),l(i,0);else{var d=3*(e-n)-t+i,f=2*(t+n)-4*e,p=e-t,v=g.solveQuadratic(d,f,p,u);l(i,0);for(var m=0;m<v;m++){var _=u[m],w=1-_;1e-8<=_&&_<=.99999999&&l(w*w*w*t+3*w*w*_*e+3*w*_*_*n+_*_*_*i,o)}}}}},l.each(["getBounds","getStrokeBounds","getHandleBounds"],(function(t){this[t]=function(){this._bounds||(this._bounds={});var e=this._bounds[t];return e||(e=this._bounds[t]=q[t]([this._segment1,this._segment2],!1,this._path)),e.clone()}}),{}),l.each({isStraight:function(t,e,n,i){if(e.isZero()&&n.isZero())return!0;var r=i.subtract(t);if(r.isZero())return!1;if(r.isCollinear(e)&&r.isCollinear(n)){var o=new S(t,i);if(o.getDistance(t.add(e))<1e-7&&o.getDistance(i.add(n))<1e-7){var s=r.dot(r),a=r.dot(e)/s,u=r.dot(n)/s;return a>=0&&a<=1&&u<=0&&u>=-1}}return!1},isLinear:function(t,e,n,i){var r=i.subtract(t).divide(3);return e.equals(r)&&n.negate().equals(r)}},(function(t,e){this[e]=function(e){var n=this._segment1,i=this._segment2;return t(n._point,n._handleOut,i._handleIn,i._point,e)},this.statics[e]=function(e,n){var i=e[0],r=e[1],o=e[6],s=e[7];return t(new m(i,r),new m(e[2]-i,e[3]-r),new m(e[4]-o,e[5]-s),new m(o,s),n)}}),{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(t){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(t||0)},isCollinear:function(t){return t&&this.isStraight()&&t.isStraight()&&this.getLine().isCollinear(t.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(t,e){return this.getLocationAtTime(e?t:this.getTimeAt(t))},getLocationAtTime:function(t){return null!=t&&t>=0&&t<=1?new L(this,t):null},getTimeAt:function(t,e){return D.getTimeAt(this.getValues(),t,e)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var t=m.read(arguments);return t.isZero()?[]:D.getTimesWithTangent(this.getValues(),t)},getOffsetAtTime:function(t){return this.getPartLength(0,t)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(m.read(arguments)))},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getTimeOf:function(){return D.getTimeOf(this.getValues(),m.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var t=m.read(arguments),e=this.getValues(),n=D.getNearestTime(e,t),i=D.getPoint(e,n);return new L(this,n,i,null,t.getDistance(i))},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t?t.getPoint():t}},new function(){var t=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return l.each(t,(function(t){this[t+"At"]=function(e,n){var i=this.getValues();return D[t](i,n?e:D.getTimeAt(i,e))},this[t+"AtTime"]=function(e){return D[t](this.getValues(),e)}}),{statics:{_evaluateMethods:t}})},new function(){function t(t){var e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],s=t[5],a=t[6],u=t[7],l=9*(i-o)+3*(a-e),c=6*(e+o)-12*i,h=3*(i-e),d=9*(r-s)+3*(u-n),f=6*(n+s)-12*r,p=3*(r-n);return function(t){var e=(l*t+c)*t+h,n=(d*t+f)*t+p;return Math.sqrt(e*e+n*n)}}function e(t,e){return Math.max(2,Math.min(16,Math.ceil(32*Math.abs(e-t))))}function n(t,e,n,i){if(null==e||e<0||e>1)return null;var r=t[0],o=t[1],s=t[2],a=t[3],u=t[4],l=t[5],c=t[6],h=t[7],d=g.isZero;d(s-r)&&d(a-o)&&(s=r,a=o),d(u-c)&&d(l-h)&&(u=c,l=h);var f,p,v=3*(s-r),_=3*(u-s)-v,w=c-r-v-_,y=3*(a-o),b=3*(l-a)-y,x=h-o-y-b;if(0===n)f=0===e?r:1===e?c:((w*e+_)*e+v)*e+r,p=0===e?o:1===e?h:((x*e+b)*e+y)*e+o;else{var C=1e-8,S=1-C;if(e<C?(f=v,p=y):e>S?(f=3*(c-u),p=3*(h-l)):(f=(3*w*e+2*_)*e+v,p=(3*x*e+2*b)*e+y),i){0===f&&0===p&&(e<C||e>S)&&(f=u-s,p=l-a);var k=Math.sqrt(f*f+p*p);k&&(f/=k,p/=k)}if(3===n){u=6*w*e+2*_,l=6*x*e+2*b;var T=Math.pow(f*f+p*p,1.5);f=0!==T?(f*l-p*u)/T:0,p=0}}return 2===n?new m(p,-f):new m(f,p)}return{statics:{classify:function(t){var e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],a=t[5],u=t[6],l=t[7],c=i*(n-l)+r*(u-e)+e*l-n*u,h=3*(o*(r-n)+a*(e-i)+i*n-r*e),d=h-c,f=d-c+(e*(l-a)+n*(o-u)+u*a-l*o),p=Math.sqrt(f*f+d*d+h*h),v=0!==p?1/p:0,m=g.isZero,_="serpentine";function w(t,e,n){var i=e!==s,r=i&&e>0&&e<1,o=i&&n>0&&n<1;return!i||(r||o)&&("loop"!==t||r&&o)||(t="arch",r=o=!1),{type:t,roots:r||o?r&&o?e<n?[e,n]:[n,e]:[r?e:n]:null}}if(d*=v,h*=v,m(f*=v))return m(d)?w(m(h)?"line":"quadratic"):w(_,h/(3*d));var y=3*d*d-4*f*h;if(m(y))return w("cusp",d/(2*f));var b=y>0?Math.sqrt(y/3):Math.sqrt(-y),x=2*f;return w(y>0?_:"loop",(d+b)/x,(d-b)/x)},getLength:function(n,i,r,o){if(i===s&&(i=0),r===s&&(r=1),D.isStraight(n)){var a=n;r<1&&(a=D.subdivide(a,r)[0],i/=r),i>0&&(a=D.subdivide(a,i)[1]);var u=a[6]-a[0],l=a[7]-a[1];return Math.sqrt(u*u+l*l)}return g.integrate(o||t(n),i,r,e(i,r))},getTimeAt:function(n,i,r){if(r===s&&(r=i<0?1:0),0===i)return r;var o=Math.abs,a=i>0,u=a?r:0,l=a?1:r,c=t(n),h=D.getLength(n,u,l,c),d=o(i)-h;if(o(d)<1e-12)return a?l:u;if(d>1e-12)return null;var f=i/h,p=0;return g.findRoot((function(t){return p+=g.integrate(c,r,t,e(r,t)),r=t,p-i}),c,r+f,u,l,32,1e-12)},getPoint:function(t,e){return n(t,e,0,!1)},getTangent:function(t,e){return n(t,e,1,!0)},getWeightedTangent:function(t,e){return n(t,e,1,!1)},getNormal:function(t,e){return n(t,e,2,!0)},getWeightedNormal:function(t,e){return n(t,e,2,!1)},getCurvature:function(t,e){return n(t,e,3,!1).x},getPeaks:function(t){var e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],s=t[5],a=3*i-e-3*o+t[6],u=3*e-6*i+3*o,l=-3*e+3*i,c=3*r-n-3*s+t[7],h=3*n-6*r+3*s,d=-3*n+3*r,f=[];return g.solveCubic(9*(a*a+c*c),9*(a*u+h*c),2*(u*u+h*h)+3*(l*a+d*c),l*u+h*d,f,1e-8,.99999999),f.sort()}}}},new function(){function t(t,e,n,i,r,o,s){var a=!s&&n.getPrevious()===r,u=!s&&n!==r&&n.getNext()===r,l=1e-8,c=1-l;if(null!==i&&i>=(a?l:0)&&i<=(u?c:1)&&null!==o&&o>=(u?l:0)&&o<=(a?c:1)){var h=new L(n,i,null,s),d=new L(r,o,null,s);h._intersection=d,d._intersection=h,e&&!e(h)||L.insert(t,h,!0)}}function e(i,r,o,s,a,u,l,c,h,d,f,p,g){if(++h>=4096||++c>=40)return h;var v,m,_=r[0],w=r[1],y=r[6],b=r[7],x=S.getSignedDistance,C=x(_,w,y,b,r[2],r[3]),k=x(_,w,y,b,r[4],r[5]),T=C*k>0?3/4:4/9,P=T*Math.min(0,C,k),A=T*Math.max(0,C,k),I=x(_,w,y,b,i[0],i[1]),N=x(_,w,y,b,i[2],i[3]),M=x(_,w,y,b,i[4],i[5]),z=x(_,w,y,b,i[6],i[7]),E=function(t,e,n,i){var r,o=[0,t],s=[1/3,e],a=[2/3,n],u=[1,i],l=e-(2*t+i)/3,c=n-(t+2*i)/3;if(l*c<0)r=[[o,s,u],[o,a,u]];else{var h=l/c;r=[h>=2?[o,s,u]:h<=.5?[o,a,u]:[o,s,a,u],[o,u]]}return(l||c)<0?r.reverse():r}(I,N,M,z),O=E[0],j=E[1];if(0===C&&0===k&&0===I&&0===N&&0===M&&0===z||null==(v=n(O,j,P,A))||null==(m=n(O.reverse(),j.reverse(),P,A)))return h;var L=d+(f-d)*v,R=d+(f-d)*m;if(Math.max(g-p,R-L)<1e-9){var q=(L+R)/2,B=(p+g)/2;t(a,u,l?s:o,l?B:q,l?o:s,l?q:B)}else{i=D.getPart(i,v,m);var F=g-p;if(m-v>.8)if(R-L>F){q=(L+R)/2;h=e(r,(V=D.subdivide(i,.5))[0],s,o,a,u,!l,c,h,p,g,L,q),h=e(r,V[1],s,o,a,u,!l,c,h,p,g,q,R)}else{var V;B=(p+g)/2;h=e((V=D.subdivide(r,.5))[0],i,s,o,a,u,!l,c,h,p,B,L,R),h=e(V[1],i,s,o,a,u,!l,c,h,B,g,L,R)}else h=0===F||F>=1e-9?e(r,i,s,o,a,u,!l,c,h,p,g,L,R):e(i,r,o,s,a,u,l,c,h,L,R,p,g)}return h}function n(t,e,n,r){return t[0][1]<n?i(t,!0,n):e[0][1]>r?i(e,!1,r):t[0][0]}function i(t,e,n){for(var i=t[0][0],r=t[0][1],o=1,s=t.length;o<s;o++){var a=t[o][0],u=t[o][1];if(e?u>=n:u<=n)return u===n?a:i+(n-r)*(a-i)/(u-r);i=a,r=u}return null}function r(t,e,n,i,r){var o=g.isZero;if(o(i)&&o(r)){var s=D.getTimeOf(t,new m(e,n));return null===s?[]:[s]}for(var a=Math.atan2(-r,i),u=Math.sin(a),l=Math.cos(a),c=[],h=[],d=0;d<8;d+=2){var f=t[d]-e,p=t[d+1]-n;c.push(f*l-p*u,f*u+p*l)}return D.solveCubic(c,1,0,h,0,1),h}function o(e,n,i,o,s,a,u){for(var l=n[0],c=n[1],h=r(e,l,c,n[6]-l,n[7]-c),d=0,f=h.length;d<f;d++){var p=h[d],g=D.getPoint(e,p),v=D.getTimeOf(n,g);null!==v&&t(s,a,u?o:i,u?v:p,u?i:o,u?p:v)}}function s(e,n,i,r,o,s){var a=S.intersect(e[0],e[1],e[6],e[7],n[0],n[1],n[6],n[7]);a&&t(o,s,i,D.getTimeOf(e,a),r,D.getTimeOf(n,a))}function a(n,i,r,a,u,c){var h=1e-12,d=Math.min,f=Math.max;if(f(n[0],n[2],n[4],n[6])+h>d(i[0],i[2],i[4],i[6])&&d(n[0],n[2],n[4],n[6])-h<f(i[0],i[2],i[4],i[6])&&f(n[1],n[3],n[5],n[7])+h>d(i[1],i[3],i[5],i[7])&&d(n[1],n[3],n[5],n[7])-h<f(i[1],i[3],i[5],i[7])){var p=l(n,i);if(p)for(var g=0;g<2;g++){var v=p[g];t(u,c,r,v[0],a,v[1],!0)}else{var _=D.isStraight(n),w=D.isStraight(i),y=_&&w,b=_&&!w,x=u.length;if((y?s:_||w?o:e)(b?i:n,b?n:i,b?a:r,b?r:a,u,c,b,0,0,0,1,0,1),!y||u.length===x)for(g=0;g<4;g++){var C=g>>1,S=1&g,k=6*C,T=6*S,P=new m(n[k],n[k+1]),A=new m(i[T],i[T+1]);P.isClose(A,h)&&t(u,c,r,C,a,S)}}}return u}function u(e,n,i,r){var o=D.classify(e);if("loop"===o.type){var s=o.roots;t(i,r,n,s[0],n,s[1])}return i}function l(t,e){function n(t){var e=t[6]-t[0],n=t[7]-t[1];return e*e+n*n}var i=Math.abs,r=S.getDistance,o=1e-7,s=D.isStraight(t),a=D.isStraight(e),u=s&&a,l=n(t)<n(e),c=l?e:t,h=l?t:e,d=c[0],f=c[1],p=c[6]-d,g=c[7]-f;if(r(d,f,p,g,h[0],h[1],!0)<o&&r(d,f,p,g,h[6],h[7],!0)<o)!u&&r(d,f,p,g,c[2],c[3],!0)<o&&r(d,f,p,g,c[4],c[5],!0)<o&&r(d,f,p,g,h[2],h[3],!0)<o&&r(d,f,p,g,h[4],h[5],!0)<o&&(s=a=u=!0);else if(u)return null;if(s^a)return null;for(var v=[t,e],_=[],w=0;w<4&&_.length<2;w++){var y=1&w,b=1^y,x=w>>1,C=D.getTimeOf(v[y],new m(v[b][x?6:0],v[b][x?7:1]));if(null!=C){var k=y?[x,C]:[C,x];(!_.length||i(k[0]-_[0][0])>1e-8&&i(k[1]-_[0][1])>1e-8)&&_.push(k)}if(w>2&&!_.length)break}if(2!==_.length)_=null;else if(!u){var T=D.getPart(t,_[0][0],_[1][0]),P=D.getPart(e,_[0][1],_[1][1]);(i(P[2]-T[2])>o||i(P[3]-T[3])>o||i(P[4]-T[4])>o||i(P[5]-T[5])>o)&&(_=null)}return _}return{getIntersections:function(t){var e=this.getValues(),n=t&&t!==this&&t.getValues();return n?a(e,n,this,t,[]):u(e,this,[])},statics:{getOverlaps:l,getIntersections:function(t,e,n,i,r,o){var s=!e;s&&(e=t);for(var l=t.length,c=e.length,h=new Array(l),d=s?h:new Array(c),p=[],g=0;g<l;g++)h[g]=t[g].getValues(i);if(!s)for(g=0;g<c;g++)d[g]=e[g].getValues(r);for(var v=f.findCurveBoundsCollisions(h,d,1e-7),m=0;m<l;m++){var _=t[m],w=h[m];s&&u(w,_,p,n);var y=v[m];if(y)for(var b=0;b<y.length;b++){if(o&&p.length)return p;var x=y[b];if(!s||x>m){var C=e[x];a(w,d[x],_,C,p,n)}}}return p},getCurveLineIntersections:r,getTimesWithTangent:function(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],s=t[4],a=t[5],u=t[6],l=t[7],c=e.normalize(),h=c.x,d=c.y,f=3*u-9*s+9*r-3*n,p=3*l-9*a+9*o-3*i,v=6*s-12*r+6*n,m=6*a-12*o+6*i,_=3*r-3*n,w=3*o-3*i,y=2*f*d-2*p*h,b=[];if(Math.abs(y)<g.CURVETIME_EPSILON){if(0!=(y=f*m-p*v)){var x=-(f*w-p*_)/y;x>=0&&x<=1&&b.push(x)}}else{var C=(v*v-4*f*_)*d*d+(-2*v*m+4*p*_+4*f*w)*h*d+(m*m-4*p*w)*h*h,S=v*d-m*h;if(C>=0&&0!=y){var k=Math.sqrt(C),T=-(S+k)/y,P=(-S+k)/y;T>=0&&T<=1&&b.push(T),P>=0&&P<=1&&b.push(P)}}return b}}}}),L=l.extend({_class:"CurveLocation",initialize:function(t,e,n,i,r){if(e>=.99999999){var o=t.getNext();o&&(e=0,t=o)}this._setCurve(t),this._time=e,this._point=n||t.getPointAtTime(e),this._overlap=i,this._distance=r,this._intersection=this._next=this._previous=null},_setPath:function(t){this._path=t,this._version=t?t._version:0},_setCurve:function(t){this._setPath(t._path),this._curve=t,this._segment=null,this._segment1=t._segment1,this._segment2=t._segment2},_setSegment:function(t){var e=t.getCurve();e?this._setCurve(e):(this._setPath(t._path),this._segment1=t,this._segment2=null),this._segment=t,this._time=t===this._segment1?0:1,this._point=t._point.clone()},getSegment:function(){var t=this._segment;if(!t){var e=this.getCurve(),n=this.getTime();0===n?t=e._segment1:1===n?t=e._segment2:null!=n&&(t=e.getPartLength(0,n)<e.getPartLength(n,1)?e._segment1:e._segment2),this._segment=t}return t},getCurve:function(){var t=this._path,e=this;function n(t){var n=t&&t.getCurve();if(n&&null!=(e._time=n.getTimeOf(e._point)))return e._setCurve(n),n}return t&&t._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null),this._curve||n(this._segment)||n(this._segment1)||n(this._segment2.getPrevious())},getPath:function(){var t=this.getCurve();return t&&t._path},getIndex:function(){var t=this.getCurve();return t&&t.getIndex()},getTime:function(){var t=this.getCurve(),e=this._time;return t&&null==e?this._time=t.getTimeOf(this._point):e},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var t=this._offset;if(null==t){t=0;var e=this.getPath(),n=this.getIndex();if(e&&null!=n)for(var i=e.getCurves(),r=0;r<n;r++)t+=i[r].getLength();this._offset=t+=this.getCurveOffset()}return t},getCurveOffset:function(){var t=this._curveOffset;if(null==t){var e=this.getCurve(),n=this.getTime();this._curveOffset=t=null!=n&&e&&e.getPartLength(0,n)}return t},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var t=this.getCurve(),e=t&&t.divideAtTime(this.getTime());return e&&this._setSegment(e._segment1),e},split:function(){var t=this.getCurve(),e=t._path,n=t&&t.splitAtTime(this.getTime());return n&&this._setSegment(e.getLastSegment()),n},equals:function(t,e){var n=this===t;if(!n&&t instanceof L){var i=this.getCurve(),r=t.getCurve(),o=i._path;if(o===r._path){var s=Math.abs,a=s(this.getOffset()-t.getOffset()),u=!e&&this._intersection,l=!e&&t._intersection;n=(a<1e-7||o&&s(o.getLength()-a)<1e-7)&&(!u&&!l||u&&l&&u.equals(l,!0))}}return n},toString:function(){var t=[],e=this.getPoint(),n=p.instance;e&&t.push("point: "+e);var i=this.getIndex();null!=i&&t.push("index: "+i);var r=this.getTime();return null!=r&&t.push("time: "+n.number(r)),null!=this._distance&&t.push("distance: "+n.number(this._distance)),"{ "+t.join(", ")+" }"},isTouching:function(){var t=this._intersection;if(t&&this.getTangent().isCollinear(t.getTangent())){var e=this.getCurve(),n=t.getCurve();return!(e.isStraight()&&n.isStraight()&&e.getLine().intersect(n.getLine()))}return!1},isCrossing:function(){var t=this._intersection;if(!t)return!1;var e=this.getTime(),n=t.getTime(),i=1e-8,r=1-i,o=e>=i&&e<=r,s=n>=i&&n<=r;if(o&&s)return!this.isTouching();var a=this.getCurve(),u=a&&e<i?a.getPrevious():a,l=t.getCurve(),c=l&&n<i?l.getPrevious():l;if(e>r&&(a=a.getNext()),n>r&&(l=l.getNext()),!(u&&a&&c&&l))return!1;var h=[];function d(t,e){var n=t.getValues(),i=D.classify(n).roots||D.getPeaks(n),r=i.length,o=D.getLength(n,e&&r?i[r-1]:0,!e&&r?i[0]:1);h.push(r?o:o/32)}function f(t,e,n){return e<n?t>e&&t<n:t>e||t<n}o||(d(u,!0),d(a,!1)),s||(d(c,!0),d(l,!1));var p=this.getPoint(),g=Math.min.apply(Math,h),v=o?a.getTangentAtTime(e):a.getPointAt(g).subtract(p),m=o?v.negate():u.getPointAt(-g).subtract(p),_=s?l.getTangentAtTime(n):l.getPointAt(g).subtract(p),w=s?_.negate():c.getPointAt(-g).subtract(p),y=m.getAngle(),b=v.getAngle(),x=w.getAngle(),C=_.getAngle();return!!(o?f(y,x,C)^f(b,x,C)&&f(y,C,x)^f(b,C,x):f(x,y,b)^f(C,y,b)&&f(x,b,y)^f(C,b,y))},hasOverlap:function(){return!!this._overlap}},l.each(D._evaluateMethods,(function(t){var e=t+"At";this[t]=function(){var t=this.getCurve(),n=this.getTime();return null!=n&&t&&t[e](n,!0)}}),{preserve:!0}),new function(){function t(t,e,n){var i=t.length,r=0,o=i-1;function s(n,r){for(var o=n+r;o>=-1&&o<=i;o+=r){var s=t[(o%i+i)%i];if(!e.getPoint().isClose(s.getPoint(),1e-7))break;if(e.equals(s))return s}return null}for(;r<=o;){var a,u=r+o>>>1,l=t[u];if(n&&(a=e.equals(l)?l:s(u,-1)||s(u,1)))return e._overlap&&(a._overlap=a._intersection._overlap=!0),a;var c=e.getPath(),h=l.getPath();(c!==h?c._id-h._id:e.getIndex()+e.getTime()-(l.getIndex()+l.getTime()))<0?o=u-1:r=u+1}return t.splice(r,0,e),e}return{statics:{insert:t,expand:function(e){for(var n=e.slice(),i=e.length-1;i>=0;i--)t(n,e[i]._intersection,!1);return n}}}}),R=T.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(t){var e,n,i;if(l.isPlainObject(t)?(n=t.segments,e=t.pathData):Array.isArray(t)?n=t:"string"==typeof t&&(e=t),n){var r=n[0];i=r&&Array.isArray(r[0])}else e&&(i=(e.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(e));return new(i?B:q)(t)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(t){this.isClockwise()!=(t=!!t)&&this.reverse()},setPathData:function(t){var e,n,i,r=t&&t.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/gi),o=!1,s=new m,a=new m;function u(t,n){var i=+e[t];return o&&(i+=s[n]),i}function l(t){return new m(u(t,"x"),u(t+1,"y"))}this.clear();for(var c=0,h=r&&r.length;c<h;c++){var d=r[c],f=d[0],p=f.toLowerCase(),g=(e=d.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g))&&e.length;switch(o=f===p,"z"!==n||/[mz]/.test(p)||this.moveTo(s),p){case"m":case"l":for(var v="m"===p,_=0;_<g;_+=2)this[v?"moveTo":"lineTo"](s=l(_)),v&&(a=s,v=!1);i=s;break;case"h":case"v":var y="h"===p?"x":"y";s=s.clone();for(_=0;_<g;_++)s[y]=u(_,y),this.lineTo(s);i=s;break;case"c":for(_=0;_<g;_+=6)this.cubicCurveTo(l(_),i=l(_+2),s=l(_+4));break;case"s":for(_=0;_<g;_+=4)this.cubicCurveTo(/[cs]/.test(n)?s.multiply(2).subtract(i):s,i=l(_),s=l(_+2)),n=p;break;case"q":for(_=0;_<g;_+=4)this.quadraticCurveTo(i=l(_),s=l(_+2));break;case"t":for(_=0;_<g;_+=2)this.quadraticCurveTo(i=/[qt]/.test(n)?s.multiply(2).subtract(i):s,s=l(_)),n=p;break;case"a":for(_=0;_<g;_+=7)this.arcTo(s=l(_+5),new w(+e[_],+e[_+1]),+e[_+2],+e[_+4],+e[_+3]);break;case"z":this.closePath(1e-12),s=a}n=p}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(t){var e=t.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(t):{};return e.onPath||!!("evenodd"===this.getFillRule()?1&e.windingL||1&e.windingR:e.winding)},getIntersections:function(t,e,n,i){var r=this===t||!t,o=this._matrix._orNullIfIdentity(),s=r?o:(n||t._matrix)._orNullIfIdentity();return r||this.getBounds(o).intersects(t.getBounds(s),1e-12)?D.getIntersections(this.getCurves(),!r&&t.getCurves(),e,o,s,i):[]},getCrossings:function(t){return this.getIntersections(t,(function(t){return t.isCrossing()}))},getNearestLocation:function(){for(var t=m.read(arguments),e=this.getCurves(),n=1/0,i=null,r=0,o=e.length;r<o;r++){var s=e[r].getNearestLocation(t);s._distance<n&&(n=s._distance,i=s)}return i},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t?t.getPoint():t},interpolate:function(t,e,n){var i=!this._children,r=i?"_segments":"_children",o=t[r],s=e[r],a=this[r];if(!o||!s||o.length!==s.length)throw new Error("Invalid operands in interpolate() call: "+t+", "+e);var u=a.length,l=s.length;if(u<l)for(var c=i?O:q,h=u;h<l;h++)this.add(new c);else u>l&&this[i?"removeSegments":"removeChildren"](l,u);for(h=0;h<l;h++)a[h].interpolate(o[h],s[h],n);i&&(this.setClosed(t._closed),this._changed(9))},compare:function(t){var e=!1;if(t){var n=this._children||[this],i=t._children?t._children.slice():[t],r=n.length,o=i.length,s=[],a=0;e=!0;for(var u=f.findItemBoundsCollisions(n,i,g.GEOMETRIC_EPSILON),l=r-1;l>=0&&e;l--){var c=n[l];e=!1;var h=u[l];if(h)for(var d=h.length-1;d>=0&&!e;d--)c.compare(i[h[d]])&&(s[h[d]]||(s[h[d]]=!0,a++),e=!0)}e=e&&a===o}return e}}),q=R.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(t){this._closed=!1,this._segments=[],this._version=0;var e=arguments,n=Array.isArray(t)?"object"==typeof t[0]?t:e:!t||t.size!==s||t.x===s&&t.point===s?null:e;n&&n.length>0?this.setSegments(n):(this._curves=s,this._segmentSelection=0,n||"string"!=typeof t||(this.setPathData(t),t=null)),this._initialize(!n&&t)},_equals:function(t){return this._closed===t._closed&&l.equals(this._segments,t._segments)},copyContent:function(t){this.setSegments(t._segments),this._closed=t._closed},_changed:function t(e){if(t.base.call(this,e),8&e){if(this._length=this._area=s,32&e)this._version++;else if(this._curves)for(var n=0,i=this._curves.length;n<i;n++)this._curves[n]._changed()}else 64&e&&(this._bounds=s)},getStyle:function(){var t=this._parent;return(t instanceof B?t:this)._style},getSegments:function(){return this._segments},setSegments:function(t){var e=this.isFullySelected(),n=t&&t.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=s,n){var i=t[n-1];"boolean"==typeof i&&(this.setClosed(i),n--),this._add(O.readList(t,0,{},n))}e&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var t=this._curves,e=this._segments;if(!t){var n=this._countCurves();t=this._curves=new Array(n);for(var i=0;i<n;i++)t[i]=new D(this,e[i],e[i+1]||e[0])}return t},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var t=this.getCurves();return t[t.length-1]},isClosed:function(){return this._closed},setClosed:function(t){if(this._closed!=(t=!!t)){if(this._closed=t,this._curves){var e=this._curves.length=this._countCurves();t&&(this._curves[e-1]=new D(this,this._segments[e-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(t,e){var n,i,r,o,s,a,u,l,c=this._segments,h=c.length,d=new p(e),f=new Array(6),g=!0,v=[];function m(e,c){if(e._transformCoordinates(t,f),n=f[0],i=f[1],g)v.push("M"+d.pair(n,i)),g=!1;else if(s=f[2],a=f[3],s===n&&a===i&&u===r&&l===o){if(!c){var h=n-r,p=i-o;v.push(0===h?"v"+d.number(p):0===p?"h"+d.number(h):"l"+d.pair(h,p))}}else v.push("c"+d.pair(u-r,l-o)+" "+d.pair(s-r,a-o)+" "+d.pair(n-r,i-o));r=n,o=i,u=f[4],l=f[5]}if(!h)return"";for(var _=0;_<h;_++)m(c[_]);return this._closed&&h>0&&(m(c[0],!0),v.push("z")),v.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(t){for(var e=this._segments,n=new Array(6),i=0,r=e.length;i<r;i++)e[i]._transformCoordinates(t,n,!0);return!0},_add:function(t,e){for(var n=this._segments,i=this._curves,r=t.length,o=null==e,s=(e=o?n.length:e,0);s<r;s++){var a=t[s];a._path&&(a=t[s]=a.clone()),a._path=this,a._index=e+s,a._selection&&this._updateSelection(a,0,a._selection)}if(o)l.push(n,t);else{n.splice.apply(n,[e,0].concat(t));s=e+r;for(var u=n.length;s<u;s++)n[s]._index=s}if(i){var c=this._countCurves(),h=e>0&&e+r-1===c?e-1:e,d=h,f=Math.min(h+r,c);t._curves&&(i.splice.apply(i,[h,0].concat(t._curves)),d+=t._curves.length);for(s=d;s<f;s++)i.splice(s,0,new D(this,null,null));this._adjustCurves(h,f)}return this._changed(41),t},_adjustCurves:function(t,e){for(var n,i=this._segments,r=this._curves,o=t;o<e;o++)(n=r[o])._path=this,n._segment1=i[o],n._segment2=i[o+1]||i[0],n._changed();(n=r[this._closed&&!t?i.length-1:t-1])&&(n._segment2=i[t]||i[0],n._changed()),(n=r[e])&&(n._segment1=i[e],n._changed())},_countCurves:function(){var t=this._segments.length;return!this._closed&&t>0?t-1:t},add:function(t){var e=arguments;return e.length>1&&"number"!=typeof t?this._add(O.readList(e)):this._add([O.read(e)])[0]},insert:function(t,e){var n=arguments;return n.length>2&&"number"!=typeof e?this._add(O.readList(n,1),t):this._add([O.read(n,1)],t)[0]},addSegment:function(){return this._add([O.read(arguments)])[0]},insertSegment:function(t){return this._add([O.read(arguments,1)],t)[0]},addSegments:function(t){return this._add(O.readList(t))},insertSegments:function(t,e){return this._add(O.readList(e),t)},removeSegment:function(t){return this.removeSegments(t,t+1)[0]||null},removeSegments:function(t,e,n){t=t||0,e=l.pick(e,this._segments.length);var i=this._segments,r=this._curves,o=i.length,s=i.splice(t,e-t),a=s.length;if(!a)return s;for(var u=0;u<a;u++){var c=s[u];c._selection&&this._updateSelection(c,c._selection,0),c._index=c._path=null}u=t;for(var h=i.length;u<h;u++)i[u]._index=u;if(r){var d=t>0&&e===o+(this._closed?1:0)?t-1:t;for(u=(r=r.splice(d,a)).length-1;u>=0;u--)r[u]._path=null;n&&(s._curves=r.slice(1)),this._adjustCurves(d,d)}return this._changed(41),s},clear:"#removeSegments",hasHandles:function(){for(var t=this._segments,e=0,n=t.length;e<n;e++)if(t[e].hasHandles())return!0;return!1},clearHandles:function(){for(var t=this._segments,e=0,n=t.length;e<n;e++)t[e].clearHandles()},getLength:function(){if(null==this._length){for(var t=this.getCurves(),e=0,n=0,i=t.length;n<i;n++)e+=t[n].getLength();this._length=e}return this._length},getArea:function(){var t=this._area;if(null==t){var e=this._segments,n=this._closed;t=0;for(var i=0,r=e.length;i<r;i++){var o=i+1===r;t+=D.getArea(D.getValues(e[i],e[o?0:i+1],null,o&&!n))}this._area=t}return t},isFullySelected:function(){var t=this._segments.length;return this.isSelected()&&t>0&&this._segmentSelection===7*t},setFullySelected:function(t){t&&this._selectSegments(!0),this.setSelected(t)},setSelection:function t(e){1&e||this._selectSegments(!1),t.base.call(this,e)},_selectSegments:function(t){var e=this._segments,n=e.length,i=t?7:0;this._segmentSelection=i*n;for(var r=0;r<n;r++)e[r]._selection=i},_updateSelection:function(t,e,n){t._selection=n,(this._segmentSelection+=n-e)>0&&this.setSelected(!0)},divideAt:function(t){var e,n=this.getLocationAt(t);return n&&(e=n.getCurve().divideAt(n.getCurveOffset()))?e._segment1:null},splitAt:function(t){var e=this.getLocationAt(t),n=e&&e.index,i=e&&e.time;i>.99999999&&(n++,i=0);var r=this.getCurves();if(n>=0&&n<r.length){i>=1e-8&&r[n++].divideAtTime(i);var o,s=this.removeSegments(n,this._segments.length,!0);return this._closed?(this.setClosed(!1),o=this):((o=new q(T.NO_INSERT)).insertAbove(this),o.copyAttributes(this)),o._add(s,0),this.addSegment(s[0]),o}return null},split:function(t,e){var n,i=e===s?t:(n=this.getCurves()[t])&&n.getLocationAtTime(e);return null!=i?this.splitAt(i):null},join:function(t,e){var n=e||0;if(t&&t!==this){var i=t._segments,r=this.getLastSegment(),o=t.getLastSegment();if(!o)return this;r&&r._point.isClose(o._point,n)&&t.reverse();var s=t.getFirstSegment();if(r&&r._point.isClose(s._point,n))r.setHandleOut(s._handleOut),this._add(i.slice(1));else{var a=this.getFirstSegment();a&&a._point.isClose(s._point,n)&&t.reverse(),o=t.getLastSegment(),a&&a._point.isClose(o._point,n)?(a.setHandleIn(o._handleIn),this._add(i.slice(0,i.length-1),0)):this._add(i.slice())}t._closed&&this._add([i[0]]),t.remove()}var u=this.getFirstSegment(),l=this.getLastSegment();return u!==l&&u._point.isClose(l._point,n)&&(u.setHandleIn(l._handleIn),l.remove(),this.setClosed(!0)),this},reduce:function(t){for(var e=this.getCurves(),n=t&&t.simplify,i=n?1e-7:0,r=e.length-1;r>=0;r--){var o=e[r];!o.hasHandles()&&(!o.hasLength(i)||n&&o.isCollinear(o.getNext()))&&o.remove()}return this},reverse:function(){this._segments.reverse();for(var t=0,e=this._segments.length;t<e;t++){var n=this._segments[t],i=n._handleIn;n._handleIn=n._handleOut,n._handleOut=i,n._index=t}this._curves=null,this._changed(9)},flatten:function(t){for(var e=new F(this,t||.25,256,!0).parts,n=e.length,i=[],r=0;r<n;r++)i.push(new O(e[r].curve.slice(0,2)));!this._closed&&n>0&&i.push(new O(e[n-1].curve.slice(6))),this.setSegments(i)},simplify:function(t){var e=new V(this).fit(t||2.5);return e&&this.setSegments(e),!!e},smooth:function(t){var e=this,n=t||{},i=n.type||"asymmetric",r=this._segments,o=r.length,a=this._closed;function u(t,n){var i=t&&t.index;if(null!=i){var r=t.path;if(r&&r!==e)throw new Error(t._class+" "+i+" of "+r+" is not part of "+e);n&&t instanceof D&&i++}else i="number"==typeof t?t:n;return Math.min(i<0&&a?i%o:i<0?i+o:i,o-1)}var l=a&&n.from===s&&n.to===s,c=u(n.from,0),h=u(n.to,o-1);if(c>h)if(a)c-=o;else{var d=c;c=h,h=d}if(/^(?:asymmetric|continuous)$/.test(i)){var f="asymmetric"===i,p=Math.min,g=h-c+1,v=g-1,m=l?p(g,4):1,_=m,w=m,y=[];if(a||(_=p(1,c),w=p(1,o-h-1)),(v+=_+w)<=1)return;for(var b=0,x=c-_;b<=v;b++,x++)y[b]=r[(x<0?x+o:x)%o]._point;var C=y[0]._x+2*y[1]._x,S=y[0]._y+2*y[1]._y,k=2,T=v-1,P=[C],A=[S],I=[k],N=[],M=[];for(b=1;b<v;b++){var z=b<T,E=z?4:f?2:7,O=z?4:f?3:8,j=z?2:f?0:1,L=(z||f?1:2)/k;k=I[b]=E-L,C=P[b]=O*y[b]._x+j*y[b+1]._x-L*C,S=A[b]=O*y[b]._y+j*y[b+1]._y-L*S}N[T]=P[T]/I[T],M[T]=A[T]/I[T];for(b=v-2;b>=0;b--)N[b]=(P[b]-N[b+1])/I[b],M[b]=(A[b]-M[b+1])/I[b];N[v]=(3*y[v]._x-N[T])/2,M[v]=(3*y[v]._y-M[T])/2;b=_;var R=v-w;for(x=c;b<=R;b++,x++){var q=r[x<0?x+o:x],B=q._point,F=N[b]-B._x,V=M[b]-B._y;(l||b<R)&&q.setHandleOut(F,V),(l||b>_)&&q.setHandleIn(-F,-V)}}else for(b=c;b<=h;b++)r[b<0?b+o:b].smooth(n,!l&&b===c,!l&&b===h)},toShape:function(t){if(!this._closed)return null;var e,n,i,r,o,a,u,l=this._segments;function c(t,e){var n=l[t],i=n.getNext(),r=l[e],o=r.getNext();return n._handleOut.isZero()&&i._handleIn.isZero()&&r._handleOut.isZero()&&o._handleIn.isZero()&&i._point.subtract(n._point).isCollinear(o._point.subtract(r._point))}function h(t){var e=l[t],n=e.getNext(),i=e._handleOut,r=n._handleIn,o=.5522847498307936;if(i.isOrthogonal(r)){var s=e._point,a=n._point,u=new S(s,i,!0).intersect(new S(a,r,!0),!0);return u&&g.isZero(i.getLength()/u.subtract(s).getLength()-o)&&g.isZero(r.getLength()/u.subtract(a).getLength()-o)}return!1}function d(t,e){return l[t]._point.getDistance(l[e]._point)}if(!this.hasHandles()&&4===l.length&&c(0,2)&&c(1,3)&&(o=l[1],a=o.getPrevious(),u=o.getNext(),a._handleOut.isZero()&&o._handleIn.isZero()&&o._handleOut.isZero()&&u._handleIn.isZero()&&o._point.subtract(a._point).isOrthogonal(u._point.subtract(o._point)))?(e=I.Rectangle,n=new w(d(0,3),d(0,1)),r=l[1]._point.add(l[2]._point).divide(2)):8===l.length&&h(0)&&h(2)&&h(4)&&h(6)&&c(1,5)&&c(3,7)?(e=I.Rectangle,i=(n=new w(d(1,6),d(0,3))).subtract(new w(d(0,7),d(1,2))).divide(2),r=l[3]._point.add(l[4]._point).divide(2)):4===l.length&&h(0)&&h(1)&&h(2)&&h(3)&&(g.isZero(d(0,2)-d(1,3))?(e=I.Circle,i=d(0,2)/2):(e=I.Ellipse,i=new w(d(2,0)/2,d(3,1)/2)),r=l[1]._point),e){var f=this.getPosition(!0),p=new e({center:f,size:n,radius:i,insert:!1});return p.copyAttributes(this,!0),p._matrix.prepend(this._matrix),p.rotate(r.subtract(f).getAngle()+90),(t===s||t)&&p.insertAbove(this),p}return null},toPath:"#clone",compare:function t(e){if(!e||e instanceof B)return t.base.call(this,e);var n=this.getCurves(),i=e.getCurves(),r=n.length,o=i.length;if(!r||!o)return r==o;for(var s,a,u=n[0].getValues(),l=[],c=0,h=0,d=0;d<o;d++){var f=i[d].getValues();if(l.push(f),v=D.getOverlaps(u,f)){s=!d&&v[0][0]>0?o-1:d,a=v[0][1];break}}var p,g=Math.abs;for(f=l[s];u&&f;){var v;if(v=D.getOverlaps(u,f))if(g(v[0][0]-h)<1e-8){1===(h=v[1][0])&&(u=++c<r?n[c].getValues():null,h=0);var m=v[0][1];if(g(m-a)<1e-8){if(p||(p=[s,m]),1===(a=v[1][1])&&(++s>=o&&(s=0),f=l[s]||i[s].getValues(),a=0),!u)return p[0]===s&&p[1]===a;continue}}break}return!1},_hitTestSelf:function(t,e,n,i){var r,o,s,a,u,l,c=this,h=this.getStyle(),d=this._segments,f=d.length,p=this._closed,g=e._tolerancePadding,v=g,m=e.stroke&&h.hasStroke(),_=e.fill&&h.hasFill(),w=e.curves,y=m?h.getStrokeWidth()/2:_&&e.tolerance>0||w?0:null;function b(e,n){return t.subtract(e).divide(n).length<=1}function x(t,n,i){if(!e.selected||n.isSelected()){var r=t._point;if(n!==r&&(n=n.add(r)),b(n,v))return new E(i,c,{segment:t,point:n})}}function C(t,n){return(n||e.segments)&&x(t,t._point,"segment")||!n&&e.handles&&(x(t,t._handleIn,"handle-in")||x(t,t._handleOut,"handle-out"))}function S(t){a.add(t)}function k(e){var n,u=p||e._index>0&&e._index<f-1;return"round"===(u?r:o)?b(e._point,v):(a=new q({internal:!0,closed:!0}),u?e.isSmooth()||q._addBevelJoin(e,r,y,s,null,i,S,!0):"square"===o&&q._addSquareCap(e,o,y,null,i,S,!0),a.isEmpty()?void 0:a.contains(t)||(n=a.getNearestLocation(t))&&b(n.getPoint(),g))}if(null!==y&&(y>0?(r=h.getStrokeJoin(),o=h.getStrokeCap(),s=h.getMiterLimit(),v=v.add(q._getStrokePadding(y,i))):r=o="round"),!e.ends||e.segments||p){if(e.segments||e.handles)for(var T=0;T<f;T++)if(l=C(d[T]))return l}else if(l=C(d[0],!0)||C(d[f-1],!0))return l;if(null!==y){if(u=this.getNearestLocation(t)){var P=u.getTime();0===P||1===P&&f>1?k(u.getSegment())||(u=null):b(u.getPoint(),v)||(u=null)}if(!u&&"miter"===r&&f>1)for(T=0;T<f;T++){var A=d[T];if(t.getDistance(A._point)<=s*y&&k(A)){u=A.getLocation();break}}}return!u&&_&&this._contains(t)||u&&!m&&!w?new E("fill",this):u?new E(m?"stroke":"curve",this,{location:u,point:u.getPoint()}):null}},l.each(D._evaluateMethods,(function(t){this[t+"At"]=function(e){var n=this.getLocationAt(e);return n&&n[t]()}}),{beans:!1,getLocationOf:function(){for(var t=m.read(arguments),e=this.getCurves(),n=0,i=e.length;n<i;n++){var r=e[n].getLocationOf(t);if(r)return r}return null},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getLocationAt:function(t){if("number"==typeof t){for(var e=this.getCurves(),n=0,i=0,r=e.length;i<r;i++){var o=n,s=e[i];if((n+=s.getLength())>t)return s.getLocationAt(t-o)}if(e.length>0&&t<=this.getLength())return new L(e[e.length-1],1)}else if(t&&t.getPath&&t.getPath()===this)return t;return null},getOffsetsWithTangent:function(){var t=m.read(arguments);if(t.isZero())return[];for(var e=[],n=0,i=this.getCurves(),r=0,o=i.length;r<o;r++){for(var s=i[r],a=s.getTimesWithTangent(t),u=0,l=a.length;u<l;u++){var c=n+s.getOffsetAtTime(a[u]);e.indexOf(c)<0&&e.push(c)}n+=s.length}return e}}),new function(){function t(t,e,n){var i,r,o,s,a,u,l,c,h=e._segments,d=h.length,f=new Array(6),p=!0;function g(e){if(n)e._transformCoordinates(n,f),i=f[0],r=f[1];else{var h=e._point;i=h._x,r=h._y}if(p)t.moveTo(i,r),p=!1;else{if(n)a=f[2],u=f[3];else{var d=e._handleIn;a=i+d._x,u=r+d._y}a===i&&u===r&&l===o&&c===s?t.lineTo(i,r):t.bezierCurveTo(l,c,a,u,i,r)}if(o=i,s=r,n)l=f[4],c=f[5];else{d=e._handleOut;l=o+d._x,c=s+d._y}}for(var v=0;v<d;v++)g(h[v]);e._closed&&d>0&&g(h[0])}return{_draw:function(e,n,i,r){var o=n.dontStart,s=n.dontFinish||n.clip,a=this.getStyle(),u=a.hasFill(),l=a.hasStroke(),c=a.getDashArray(),h=!ct.support.nativeDash&&l&&c&&c.length;function d(t){return c[(t%h+h)%h]}if(o||e.beginPath(),(u||l&&!h||s)&&(t(e,this,r),this._closed&&e.closePath()),!s&&(u||l)&&(this._setStyles(e,n,i),u&&(e.fill(a.getFillRule()),e.shadowColor="rgba(0,0,0,0)"),l)){if(h){o||e.beginPath();for(var f,p=new F(this,.25,32,!1,r),g=p.length,v=-a.getDashOffset(),m=0;v>0;)v-=d(m--)+d(m--);for(;v<g;)f=v+d(m++),(v>0||f>0)&&p.drawPart(e,Math.max(v,0),Math.max(f,0)),v=f+d(m++)}e.stroke()}},_drawSelected:function(e,n){e.beginPath(),t(e,this,n),e.stroke(),function(t,e,n,i){if(!(i<=0))for(var r,o,s=i/2,a=i-2,u=s-1,l=new Array(6),c=0,h=e.length;c<h;c++){var d=e[c],f=d._selection;if(d._transformCoordinates(n,l),r=l[0],o=l[1],2&f&&g(2),4&f&&g(4),t.fillRect(r-s,o-s,i,i),a>0&&!(1&f)){var p=t.fillStyle;t.fillStyle="#ffffff",t.fillRect(r-u,o-u,a,a),t.fillStyle=p}}function g(e){var n=l[e],i=l[e+1];r==n&&o==i||(t.beginPath(),t.moveTo(r,o),t.lineTo(n,i),t.stroke(),t.beginPath(),t.arc(n,i,s,0,2*Math.PI,!0),t.fill())}}(e,this._segments,n,ct.settings.handleSize)}}},new function(){function t(t){var e=t._segments;if(!e.length)throw new Error("Use a moveTo() command first");return e[e.length-1]}return{moveTo:function(){var t=this._segments;1===t.length&&this.removeSegment(0),t.length||this._add([new O(m.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new O(m.read(arguments))])},cubicCurveTo:function(){var e=arguments,n=m.read(e),i=m.read(e),r=m.read(e),o=t(this);o.setHandleOut(n.subtract(o._point)),this._add([new O(r,i.subtract(r))])},quadraticCurveTo:function(){var e=arguments,n=m.read(e),i=m.read(e),r=t(this)._point;this.cubicCurveTo(n.add(r.subtract(n).multiply(1/3)),n.add(i.subtract(n).multiply(1/3)),i)},curveTo:function(){var e=arguments,n=m.read(e),i=m.read(e),r=l.pick(l.read(e),.5),o=1-r,s=t(this)._point,a=n.subtract(s.multiply(o*o)).subtract(i.multiply(r*r)).divide(2*r*o);if(a.isNaN())throw new Error("Cannot put a curve through points with parameter = "+r);this.quadraticCurveTo(a,i)},arcTo:function(){var e,n,i,r,o=arguments,s=Math.abs,a=Math.sqrt,u=t(this),c=u._point,h=m.read(o),d=l.peek(o);if("boolean"==typeof(y=l.pick(d,!0)))var f=(x=c.add(h).divide(2)).add(x.subtract(c).rotate(y?-90:90));else if(l.remain(o)<=2)f=h,h=m.read(o);else if(!c.equals(h)){var p=w.read(o),v=g.isZero;if(v(p.width)||v(p.height))return this.lineTo(h);var _=l.read(o),y=!!l.read(o),b=!!l.read(o),x=c.add(h).divide(2),k=($=c.subtract(x).rotate(-_)).x,T=$.y,P=s(p.width),A=s(p.height),I=P*P,N=A*A,M=k*k,z=T*T,E=a(M/I+z/N);if(E>1&&(I=(P*=E)*P,N=(A*=E)*A),s(E=(I*N-I*z-N*M)/(I*z+N*M))<1e-12&&(E=0),E<0)throw new Error("Cannot create an arc with the given arguments");e=new m(P*T/A,-A*k/P).multiply((b===y?-1:1)*a(E)).rotate(_).add(x),n=(i=(r=(new C).translate(e).rotate(_).scale(P,A))._inverseTransform(c)).getDirectedAngle(r._inverseTransform(h)),!y&&n>0?n-=360:y&&n<0&&(n+=360)}if(f){var j=new S(c.add(f).divide(2),f.subtract(c).rotate(90),!0),D=new S(f.add(h).divide(2),h.subtract(f).rotate(90),!0),L=new S(c,h),R=L.getSide(f);if(!(e=j.intersect(D,!0))){if(!R)return this.lineTo(h);throw new Error("Cannot create an arc with the given arguments")}n=(i=c.subtract(e)).getDirectedAngle(h.subtract(e));var q=L.getSide(e,!0);0===q?n=R*s(n):R===q&&(n+=n<0?360:-360)}if(n){for(var B=1e-7,F=s(n),V=F>=360?4:Math.ceil((F-B)/90),H=n/V,U=H*Math.PI/360,W=4/3*Math.sin(U)/(1+Math.cos(U)),G=[],Z=0;Z<=V;Z++){var $=h,J=null;if(Z<V&&(J=i.rotate(90).multiply(W),r?($=r._transformPoint(i),J=r._transformPoint(i.add(J)).subtract($)):$=e.add(i)),Z){var Q=i.rotate(-90).multiply(W);r&&(Q=r._transformPoint(i.add(Q)).subtract($)),G.push(new O($,Q,J))}else u.setHandleOut(J);i=i.rotate(H)}this._add(G)}},lineBy:function(){var e=m.read(arguments),n=t(this)._point;this.lineTo(n.add(e))},curveBy:function(){var e=arguments,n=m.read(e),i=m.read(e),r=l.read(e),o=t(this)._point;this.curveTo(o.add(n),o.add(i),r)},cubicCurveBy:function(){var e=arguments,n=m.read(e),i=m.read(e),r=m.read(e),o=t(this)._point;this.cubicCurveTo(o.add(n),o.add(i),o.add(r))},quadraticCurveBy:function(){var e=arguments,n=m.read(e),i=m.read(e),r=t(this)._point;this.quadraticCurveTo(r.add(n),r.add(i))},arcBy:function(){var e=arguments,n=t(this)._point,i=n.add(m.read(e)),r=l.pick(l.peek(e),!0);"boolean"==typeof r?this.arcTo(i,r):this.arcTo(i,n.add(m.read(e)))},closePath:function(t){this.setClosed(!0),this.join(this,t)}}},{_getBounds:function(t,e){var n=e.handle?"getHandleBounds":e.stroke?"getStrokeBounds":"getBounds";return q[n](this._segments,this._closed,this,t,e)},statics:{getBounds:function(t,e,n,i,r,o){var s=t[0];if(!s)return new b;var a=new Array(6),u=s._transformCoordinates(i,new Array(6)),l=u.slice(0,2),c=l.slice(),h=new Array(2);function d(t){t._transformCoordinates(i,a);for(var e=0;e<2;e++)D._addBounds(u[e],u[e+4],a[e+2],a[e],e,o?o[e]:0,l,c,h);var n=u;u=a,a=n}for(var f=1,p=t.length;f<p;f++)d(t[f]);return e&&d(s),new b(l[0],l[1],c[0]-l[0],c[1]-l[1])},getStrokeBounds:function(t,e,n,i,r){var o=n.getStyle(),s=o.hasStroke(),a=o.getStrokeWidth(),u=s&&n._getStrokeMatrix(i,r),l=s&&q._getStrokePadding(a,u),c=q.getBounds(t,e,n,i,r,l);if(!s)return c;var h=a/2,d=o.getStrokeJoin(),f=o.getStrokeCap(),p=o.getMiterLimit(),g=new b(new w(l));function v(t){c=c.include(t)}function m(t){c=c.unite(g.setCenter(t._point.transform(i)))}function _(t,e){"round"===e||t.isSmooth()?m(t):q._addBevelJoin(t,e,h,p,i,u,v)}function y(t,e){"round"===e?m(t):q._addSquareCap(t,e,h,i,u,v)}var x=t.length-(e?0:1);if(x>0){for(var C=1;C<x;C++)_(t[C],d);e?_(t[0],d):(y(t[0],f),y(t[t.length-1],f))}return c},_getStrokePadding:function(t,e){if(!e)return[t,t];var n=new m(t,0).transform(e),i=new m(0,t).transform(e),r=n.getAngleInRadians(),o=n.getLength(),s=i.getLength(),a=Math.sin(r),u=Math.cos(r),l=Math.tan(r),c=Math.atan2(s*l,o),h=Math.atan2(s,l*o);return[Math.abs(o*Math.cos(c)*u+s*Math.sin(c)*a),Math.abs(s*Math.sin(h)*u+o*Math.cos(h)*a)]},_addBevelJoin:function(t,e,n,i,r,o,s,a){var u=t.getCurve(),l=u.getPrevious(),c=u.getPoint1().transform(r),h=l.getNormalAtTime(1).multiply(n).transform(o),d=u.getNormalAtTime(0).multiply(n).transform(o),f=h.getDirectedAngle(d);if((f<0||f>=180)&&(h=h.negate(),d=d.negate()),a&&s(c),s(c.add(h)),"miter"===e){var p=new S(c.add(h),new m(-h.y,h.x),!0).intersect(new S(c.add(d),new m(-d.y,d.x),!0),!0);p&&c.getDistance(p)<=i*n&&s(p)}s(c.add(d))},_addSquareCap:function(t,e,n,i,r,o,s){var a=t._point.transform(i),u=t.getLocation(),l=u.getNormal().multiply(0===u.getTime()?n:-n).transform(r);"square"===e&&(s&&(o(a.subtract(l)),o(a.add(l))),a=a.add(l.rotate(-90))),o(a.add(l)),o(a.subtract(l))},getHandleBounds:function(t,e,n,i,r){var o,s,a=n.getStyle();if(r.stroke&&a.hasStroke()){var u=n._getStrokeMatrix(i,r),l=a.getStrokeWidth()/2,c=l;"miter"===a.getStrokeJoin()&&(c=l*a.getMiterLimit()),"square"===a.getStrokeCap()&&(c=Math.max(c,l*Math.SQRT2)),o=q._getStrokePadding(l,u),s=q._getStrokePadding(c,u)}for(var h=new Array(6),d=1/0,f=-d,p=d,g=f,v=0,m=t.length;v<m;v++){t[v]._transformCoordinates(i,h);for(var _=0;_<6;_+=2){var w=_?o:s,y=w?w[0]:0,x=w?w[1]:0,C=h[_],S=h[_+1],k=C-y,T=C+y,P=S-x,A=S+x;k<d&&(d=k),T>f&&(f=T),P<p&&(p=P),A>g&&(g=A)}}return new b(d,p,f-d,g-p)}}});q.inject({statics:new function(){var t=.5522847498307936,e=[new O([-1,0],[0,t],[0,-t]),new O([0,-1],[-t,0],[t,0]),new O([1,0],[0,-t],[0,t]),new O([0,1],[t,0],[-t,0])];function n(t,e,n){var i=l.getNamed(n),r=new q(i&&0==i.insert&&T.NO_INSERT);return r._add(t),r._closed=e,r.set(i,{insert:!0})}function i(t,i,r){for(var o=new Array(4),s=0;s<4;s++){var a=e[s];o[s]=new O(a._point.multiply(i).add(t),a._handleIn.multiply(i),a._handleOut.multiply(i))}return n(o,!0,r)}return{Line:function(){var t=arguments;return n([new O(m.readNamed(t,"from")),new O(m.readNamed(t,"to"))],!1,t)},Circle:function(){var t=arguments,e=m.readNamed(t,"center"),n=l.readNamed(t,"radius");return i(e,new w(n),t)},Rectangle:function(){var e,i=arguments,r=b.readNamed(i,"rectangle"),o=w.readNamed(i,"radius",0,{readNull:!0}),s=r.getBottomLeft(!0),a=r.getTopLeft(!0),u=r.getTopRight(!0),l=r.getBottomRight(!0);if(!o||o.isZero())e=[new O(s),new O(a),new O(u),new O(l)];else{var c=(o=w.min(o,r.getSize(!0).divide(2))).width,h=o.height,d=c*t,f=h*t;e=[new O(s.add(c,0),null,[-d,0]),new O(s.subtract(0,h),[0,f]),new O(a.add(0,h),null,[0,-f]),new O(a.add(c,0),[-d,0],null),new O(u.subtract(c,0),null,[d,0]),new O(u.add(0,h),[0,-f],null),new O(l.subtract(0,h),null,[0,f]),new O(l.subtract(c,0),[d,0])]}return n(e,!0,i)},RoundRectangle:"#Rectangle",Ellipse:function(){var t=arguments,e=I._readEllipse(t);return i(e.center,e.radius,t)},Oval:"#Ellipse",Arc:function(){var t=arguments,e=m.readNamed(t,"from"),n=m.readNamed(t,"through"),i=m.readNamed(t,"to"),r=l.getNamed(t),o=new q(r&&0==r.insert&&T.NO_INSERT);return o.moveTo(e),o.arcTo(n,i),o.set(r)},RegularPolygon:function(){for(var t=arguments,e=m.readNamed(t,"center"),i=l.readNamed(t,"sides"),r=l.readNamed(t,"radius"),o=360/i,s=i%3==0,a=new m(0,s?-r:r),u=s?-1:.5,c=new Array(i),h=0;h<i;h++)c[h]=new O(e.add(a.rotate((h+u)*o)));return n(c,!0,t)},Star:function(){for(var t=arguments,e=m.readNamed(t,"center"),i=2*l.readNamed(t,"points"),r=l.readNamed(t,"radius1"),o=l.readNamed(t,"radius2"),s=360/i,a=new m(0,-1),u=new Array(i),c=0;c<i;c++)u[c]=new O(e.add(a.rotate(s*c).multiply(c%2?o:r)));return n(u,!0,t)}}}});var B=R.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||("string"==typeof t?this.setPathData(t):this.addChildren(Array.isArray(t)?t:arguments))},insertChildren:function t(e,n){var i=n,r=i[0];r&&"number"==typeof r[0]&&(i=[i]);for(var o=n.length-1;o>=0;o--){var s=i[o];i!==n||s instanceof q||(i=l.slice(i)),Array.isArray(s)?i[o]=new q({segments:s,insert:!1}):s instanceof B&&(i.splice.apply(i,[o,1].concat(s.removeChildren())),s.remove())}return t.base.call(this,e,i)},reduce:function t(e){for(var n=this._children,i=n.length-1;i>=0;i--){var r;(r=n[i].reduce(e)).isEmpty()&&r.remove()}return n.length?t.base.call(this):((r=new q(T.NO_INSERT)).copyAttributes(this),r.insertAbove(this),this.remove(),r)},isClosed:function(){for(var t=this._children,e=0,n=t.length;e<n;e++)if(!t[e]._closed)return!1;return!0},setClosed:function(t){for(var e=this._children,n=0,i=e.length;n<i;n++)e[n].setClosed(t)},getFirstSegment:function(){var t=this.getFirstChild();return t&&t.getFirstSegment()},getLastSegment:function(){var t=this.getLastChild();return t&&t.getLastSegment()},getCurves:function(){for(var t=this._children,e=[],n=0,i=t.length;n<i;n++)l.push(e,t[n].getCurves());return e},getFirstCurve:function(){var t=this.getFirstChild();return t&&t.getFirstCurve()},getLastCurve:function(){var t=this.getLastChild();return t&&t.getLastCurve()},getArea:function(){for(var t=this._children,e=0,n=0,i=t.length;n<i;n++)e+=t[n].getArea();return e},getLength:function(){for(var t=this._children,e=0,n=0,i=t.length;n<i;n++)e+=t[n].getLength();return e},getPathData:function(t,e){for(var n=this._children,i=[],r=0,o=n.length;r<o;r++){var s=n[r],a=s._matrix;i.push(s.getPathData(t&&!a.isIdentity()?t.appended(a):t,e))}return i.join("")},_hitTestChildren:function t(e,n,i){return t.base.call(this,e,n.class===q||"path"===n.type?n:l.set({},n,{fill:!1}),i)},_draw:function(t,e,n,i){var r=this._children;if(r.length){e=e.extend({dontStart:!0,dontFinish:!0}),t.beginPath();for(var o=0,s=r.length;o<s;o++)r[o].draw(t,e,i);if(!e.clip){this._setStyles(t,e,n);var a=this._style;a.hasFill()&&(t.fill(a.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),a.hasStroke()&&t.stroke()}}},_drawSelected:function(t,e,n){for(var i=this._children,r=0,o=i.length;r<o;r++){var s=i[r],a=s._matrix;n[s._id]||s._drawSelected(t,a.isIdentity()?e:e.appended(a))}}},new function(){function t(t,e){var n=t._children;if(e&&!n.length)throw new Error("Use a moveTo() command first");return n[n.length-1]}return l.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],(function(e){this[e]=function(){var n=t(this,!0);n[e].apply(n,arguments)}}),{moveTo:function(){var e=t(this),n=e&&e.isEmpty()?e:new q(T.NO_INSERT);n!==e&&this.addChild(n),n.moveTo.apply(n,arguments)},moveBy:function(){var e=t(this,!0),n=e&&e.getLastSegment(),i=m.read(arguments);this.moveTo(n?i.add(n._point):i)},closePath:function(e){t(this,!0).closePath(e)}})},l.each(["reverse","flatten","simplify","smooth"],(function(t){this[t]=function(e){for(var n,i=this._children,r=0,o=i.length;r<o;r++)n=i[r][t](e)||n;return n}}),{}));R.inject(new function(){var t=Math.min,e=Math.max,n=Math.abs,i={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function r(t){return t._children||[t]}function o(t,e){var n=t.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(e){for(var i=r(n),o=0,s=i.length;o<s;o++){(t=i[o])._closed||t.isEmpty()||(t.closePath(1e-12),t.getFirstSegment().setHandleIn(0,0),t.getLastSegment().setHandleOut(0,0))}n=n.resolveCrossings().reorient("nonzero"===n.getFillRule(),!0)}return n}function a(t,e,n,i,r){var o=new B(T.NO_INSERT);return o.addChildren(t,!0),o=o.reduce({simplify:e}),r&&0==r.insert||o.insertAbove(i&&n.isSibling(i)&&n.getIndex()<i.getIndex()?i:n),o.copyAttributes(n,!0),o}function u(t){return t.hasOverlap()||t.isCrossing()}function c(t,e,n,s){if(s&&(0==s.trace||s.stroke)&&/^(subtract|intersect)$/.test(n))return h(t,e,n);var c=o(t,!0),d=e&&t!==e&&o(e,!0),p=i[n];p[n]=!0,d&&(p.subtract||p.exclude)^d.isClockwise()^c.isClockwise()&&d.reverse();var g,_=m(L.expand(c.getIntersections(d,u))),b=r(c),x=d&&r(d),C=[],S=[];function k(t){for(var e=0,n=t.length;e<n;e++){var i=t[e];l.push(C,i._segments),l.push(S,i.getCurves()),i._overlapsOnly=!0}}function T(t){for(var e=[],n=0,i=t&&t.length;n<i;n++)e.push(S[t[n]]);return e}if(_.length){k(b),x&&k(x);for(var P=new Array(S.length),A=0,I=S.length;A<I;A++)P[A]=S[A].getValues();var N=f.findCurveBoundsCollisions(P,P,0,!0),M={};for(A=0;A<S.length;A++){var z=S[A],E=z._path._id;(M[E]=M[E]||{})[z.getIndex()]={hor:T(N[A].hor),ver:T(N[A].ver)}}for(A=0,I=_.length;A<I;A++)w(_[A]._segment,c,d,M,p);for(A=0,I=C.length;A<I;A++){var O=C[A],j=O._intersection;O._winding||w(O,c,d,M,p),j&&j._overlap||(O._path._overlapsOnly=!1)}g=y(C,p)}else g=v(x?b.concat(x):b.slice(),(function(t){return!!p[t]}));return a(g,!0,t,e,s)}function h(t,e,n){var i=o(t),r=o(e),s=i.getIntersections(r,u),l="subtract"===n,c="divide"===n,h={},d=[];function f(t){if(!h[t._id]&&(c||r.contains(t.getPointAt(t.getLength()/2))^l))return d.unshift(t),h[t._id]=!0}for(var p=s.length-1;p>=0;p--){var g=s[p].split();g&&(f(g)&&g.getFirstSegment().setHandleIn(0,0),i.getLastSegment().setHandleOut(0,0))}return f(i),a(d,!1,t,e)}function d(t,e){for(var n=t;n;){if(n===e)return;n=n._previous}for(;t._next&&t._next!==e;)t=t._next;if(!t._next){for(;e._previous;)e=e._previous;t._next=e,e._previous=t}}function p(t){for(var e=t.length-1;e>=0;e--)t[e].clearHandles()}function v(t,e,i){var r=t&&t.length;if(r){var o=l.each(t,(function(t,e){this[t._id]={container:null,winding:t.isClockwise()?1:-1,index:e}}),{}),s=t.slice().sort((function(t,e){return n(e.getArea())-n(t.getArea())})),a=s[0],u=f.findItemBoundsCollisions(s,null,g.GEOMETRIC_EPSILON);null==i&&(i=a.isClockwise());for(var c=0;c<r;c++){var h=s[c],d=o[h._id],p=0,v=u[c];if(v)for(var m=null,_=v.length-1;_>=0;_--)if(v[_]<c){m=m||h.getInteriorPoint();var w=s[v[_]];if(w.contains(m)){var y=o[w._id];p=y.winding,d.winding+=p,d.container=y.exclude?y.container:w;break}}if(e(d.winding)===e(p))d.exclude=!0,t[d.index]=null;else{var b=d.container;h.setClockwise(b?!b.isClockwise():i)}}}return t}function m(t,e,n){var i,r,o,s=e&&[],a=1e-8,u=!1,l=n||[],c=n&&{};function h(t){return t._path._id+"."+t._segment1._index}for(var f=(n&&n.length)-1;f>=0;f--){(g=n[f])._path&&(c[h(g)]=!0)}for(f=t.length-1;f>=0;f--){var g,v,m=t[f],_=m._time,w=_,y=e&&!e(m);if((g=m._curve)&&(g!==r?(u=!g.hasHandles()||c&&c[h(g)],i=[],o=null,r=g):o>=a&&(_/=o)),y)i&&i.push(m);else{if(e&&s.unshift(m),o=w,_<a)v=g._segment1;else if(_>.99999999)v=g._segment2;else{var b=g.divideAtTime(_,!0);u&&l.push(g,b),v=b._segment1;for(var x=i.length-1;x>=0;x--){var C=i[x];C._time=(C._time-_)/(1-_)}}m._setSegment(v);var S=v._intersection,k=m._intersection;if(S){d(S,k);for(var T=S;T;)d(T._intersection,S),T=T._next}else v._intersection=k}}return n||p(l),s||t}function _(i,r,o,s,a){var u,l,c=Array.isArray(r)?r:r[o?"hor":"ver"],h=o?1:0,d=1^h,f=[i.x,i.y],p=f[h],g=f[d],v=1e-6,m=p-1e-9,w=p+1e-9,y=0,b=0,x=0,C=0,S=!1,k=!1,T=1,P=[];function A(n){var l=n[d+0],c=n[d+6];if(!(g<t(l,c)||g>e(l,c))){var f=n[h+0],y=n[h+2],b=n[h+4],k=n[h+6];if(l!==c){var A=g===l?0:g===c||m>e(f,y,b,k)||w<t(f,y,b,k)?1:D.solveCubic(n,d,g,P,0,1)>0?P[0]:1,I=0===A?f:1===A?k:D.getPoint(n,A)[o?"y":"x"],N=l>c?1:-1,M=u[d]>u[d+6]?1:-1,z=u[h+6];return g!==l?(I<m?x+=N:I>w?C+=N:S=!0,I>p-v&&I<p+v&&(T/=2)):(N!==M?f<m?x+=N:f>w&&(C+=N):f!=z&&(z<w&&I>w?(C+=N,S=!0):z>m&&I<m&&(x+=N,S=!0)),T/=4),u=n,!a&&I>m&&I<w&&0===D.getTangent(n,A)[o?"x":"y"]&&_(i,r,!o,s,!0)}(f<w&&k>m||k<w&&f>m)&&(S=!0)}}function I(n){var i=n[d+0],r=n[d+2],s=n[d+4],a=n[d+6];if(g<=e(i,r,s,a)&&g>=t(i,r,s,a))for(var u,l=n[h+0],c=n[h+2],f=n[h+4],p=n[h+6],v=m>e(l,c,f,p)||w<t(l,c,f,p)?[n]:D.getMonoCurves(n,o),_=0,y=v.length;_<y;_++)if(u=A(v[_]))return u}for(var N=0,M=c.length;N<M;N++){var z,E=c[N],O=E._path,j=E.getValues();if(!(N&&c[N-1]._path===O||(u=null,O._closed||(l=D.getValues(O.getLastCurve().getSegment2(),E.getSegment1(),null,!s))[d]!==l[d+6]&&(u=l),u))){u=j;for(var L=O.getLastCurve();L&&L!==E;){var R=L.getValues();if(R[d]!==R[d+6]){u=R;break}L=L.getPrevious()}}if(z=I(j))return z;if(N+1===M||c[N+1]._path!==O){if(l&&(z=I(l)))return z;!S||x||C||(x=C=O.isClockwise(s)^o?1:-1),y+=x,b+=C,x=C=0,S&&(k=!0,S=!1),l=null}}return y=n(y),b=n(b),{winding:e(y,b),windingL:y,windingR:b,quality:T,onPath:k}}function w(t,e,i,r,o){var s=[],a=t,u=0;do{if(w=t.getCurve()){var l=w.getLength();s.push({segment:t,curve:w,length:l}),u+=l}t=t.getNext()}while(t&&!t._intersection&&t!==a);for(var c=[.5,.25,.75],h={winding:0,quality:-1},d=0;d<c.length&&h.quality<.5;d++){l=u*c[d];for(var f=0,p=s.length;f<p;f++){var v=s[f],m=v.length;if(l<=m){var w,y=(w=v.curve)._path,b=y._parent,x=b instanceof B?b:y,C=g.clamp(w.getTimeAt(l),.001,.999),S=w.getPointAtTime(C),k=n(w.getTangentAtTime(C).y)<Math.SQRT1_2,T=null;if(o.subtract&&i){var P=(x===e?i:e)._getWinding(S,k,!0);if(x===e&&P.winding||x===i&&!P.winding){if(P.quality<1)continue;T={winding:0,quality:1}}}(T=T||_(S,r[y._id][w.getIndex()],k,!0)).quality>h.quality&&(h=T);break}l-=m}}for(f=s.length-1;f>=0;f--)s[f].segment._winding=h}function y(t,e){var n,i=[];function r(t){var n;return!(!t||t._visited||e&&(!e[(n=t._winding||{}).winding]||e.unite&&2===n.winding&&n.windingL&&n.windingR))}function o(t){if(t)for(var e=0,i=n.length;e<i;e++)if(t===n[e])return!0;return!1}function s(t){for(var e=t._segments,n=0,i=e.length;n<i;n++)e[n]._visited=!0}function a(t,e){var i=t._intersection,s=i,a=[];function u(i,s){for(;i&&i!==s;){var u=i._segment,l=u&&u._path;if(l){var c=u.getNext()||l.getFirstSegment(),h=c._intersection;u!==t&&(o(u)||o(c)||c&&r(u)&&(r(c)||h&&r(h._segment)))&&a.push(u),e&&n.push(u)}i=i._next}}if(e&&(n=[t]),i){for(u(i);i&&i._previous;)i=i._previous;u(i,s)}return a}t.sort((function(t,e){var n=t._intersection,i=e._intersection,r=!(!n||!n._overlap),o=!(!i||!i._overlap),s=t._path,a=e._path;return r^o?r?1:-1:!n^!i?n?1:-1:s!==a?s._id-a._id:t._index-e._index}));for(var u=0,l=t.length;u<l;u++){var c,h,d,f=t[u],p=r(f),g=null,v=!1,m=!0,_=[];if(p&&f._path._overlapsOnly){var w=f._path,y=f._intersection._segment._path;w.compare(y)&&(w.getArea()&&i.push(w.clone(!1)),s(w),s(y),p=!1)}for(;p;){var b=!g,x=a(f,b),C=x.shift(),S=!(v=!b&&(o(f)||o(C)))&&C;if(b&&(g=new q(T.NO_INSERT),c=null),v){(f.isFirst()||f.isLast())&&(m=f._path._closed),f._visited=!0;break}if(S&&c&&(_.push(c),c=null),c||(S&&x.push(f),c={start:g._segments.length,crossings:x,visited:h=[],handleIn:d}),S&&(f=C),!r(f)){g.removeSegments(c.start);for(var k=0,P=h.length;k<P;k++)h[k]._visited=!1;h.length=0;do{(f=c&&c.crossings.shift())&&f._path||(f=null,(c=_.pop())&&(h=c.visited,d=c.handleIn))}while(c&&!r(f));if(!f)break}var A=f.getNext();g.add(new O(f._point,d,A&&f._handleOut)),f._visited=!0,h.push(f),f=A||f._path.getFirstSegment(),d=A&&A._handleIn}v&&(m&&(g.getFirstSegment().setHandleIn(d),g.setClosed(m)),0!==g.getArea()&&i.push(g))}return i}return{_getWinding:function(t,e,n){return _(t,this.getCurves(),e,n)},unite:function(t,e){return c(this,t,"unite",e)},intersect:function(t,e){return c(this,t,"intersect",e)},subtract:function(t,e){return c(this,t,"subtract",e)},exclude:function(t,e){return c(this,t,"exclude",e)},divide:function(t,e){return e&&(0==e.trace||e.stroke)?h(this,t,"divide"):a([this.subtract(t,e),this.intersect(t,e)],!0,this,t,e)},resolveCrossings:function(){var t=this._children,e=t||[this];function n(t,e){var n=t&&t._intersection;return n&&n._overlap&&n._path===e}var i=!1,r=!1,o=this.getIntersections(null,(function(t){return t.hasOverlap()&&(i=!0)||t.isCrossing()&&(r=!0)})),s=i&&r&&[];if(o=L.expand(o),i)for(var a=m(o,(function(t){return t.hasOverlap()}),s),u=a.length-1;u>=0;u--){var c=a[u],h=c._path,d=c._segment,f=d.getPrevious(),g=d.getNext();n(f,h)&&n(g,h)&&(d.remove(),f._handleOut._set(0,0),g._handleIn._set(0,0),f===d||f.getCurve().hasLength()||(g._handleIn.set(f._handleIn),f.remove()))}r&&(m(o,i&&function(t){var e=t.getCurve(),n=t.getSegment(),i=t._intersection,r=i._curve,o=i._segment;if(e&&r&&e._path&&r._path)return!0;n&&(n._intersection=null),o&&(o._intersection=null)},s),s&&p(s),e=y(l.each(e,(function(t){l.push(this,t._segments)}),[])));var v,_=e.length;return _>1&&t?(e!==t&&this.setChildren(e),v=this):1!==_||t||(e[0]!==this&&this.setSegments(e[0].removeSegments()),v=this),v||((v=new B(T.NO_INSERT)).addChildren(e),(v=v.reduce()).copyAttributes(this),this.replaceWith(v)),v},reorient:function(t,e){var n=this._children;return n&&n.length?this.setChildren(v(this.removeChildren(),(function(e){return!!(t?e:1&e)}),e)):e!==s&&this.setClockwise(e),this},getInteriorPoint:function(){var n=this.getBounds().getCenter(!0);if(!this.contains(n)){for(var i=this.getCurves(),r=n.y,o=[],s=[],a=0,u=i.length;a<u;a++){var l=i[a].getValues(),c=l[1],h=l[3],d=l[5],f=l[7];if(r>=t(c,h,d,f)&&r<=e(c,h,d,f))for(var p=D.getMonoCurves(l),g=0,v=p.length;g<v;g++){var m=p[g],_=m[1],w=m[7];if(_!==w&&(r>=_&&r<=w||r>=w&&r<=_)){var y=r===_?m[0]:r===w?m[6]:1===D.solveCubic(m,1,r,s,0,1)?D.getPoint(m,s[0]).x:(m[0]+m[6])/2;o.push(y)}}}o.length>1&&(o.sort((function(t,e){return t-e})),n.x=(o[0]+o[1])/2)}return n}}});var F=l.extend({_class:"PathFlattener",initialize:function(t,e,n,i,r){var o,s=[],a=[],u=0,l=1/(n||32),c=t._segments,h=c[0];function d(t,e){var n=D.getValues(t,e,r);s.push(n),f(n,t._index,0,1)}function f(t,n,r,o){if(!(o-r>l)||i&&D.isStraight(t)||D.isFlatEnough(t,e||.25)){var s=t[6]-t[0],c=t[7]-t[1],h=Math.sqrt(s*s+c*c);h>0&&(u+=h,a.push({offset:u,curve:t,index:n,time:o}))}else{var d=D.subdivide(t,.5),p=(r+o)/2;f(d[0],n,r,p),f(d[1],n,p,o)}}for(var p=1,g=c.length;p<g;p++)d(h,o=c[p]),h=o;t._closed&&d(o||h,c[0]),this.curves=s,this.parts=a,this.length=u,this.index=0},_get:function(t){for(var e,n=this.parts,i=n.length,r=this.index;e=r,r&&!(n[--r].offset<t););for(;e<i;e++){var o=n[e];if(o.offset>=t){this.index=e;var s=n[e-1],a=s&&s.index===o.index?s.time:0,u=s?s.offset:0;return{index:o.index,time:a+(o.time-a)*(t-u)/(o.offset-u)}}}return{index:n[i-1].index,time:1}},drawPart:function(t,e,n){for(var i=this._get(e),r=this._get(n),o=i.index,s=r.index;o<=s;o++){var a=D.getPart(this.curves[o],o===i.index?i.time:0,o===r.index?r.time:1);o===i.index&&t.moveTo(a[0],a[1]),t.bezierCurveTo.apply(t,a.slice(2))}}},l.each(D._evaluateMethods,(function(t){this[t+"At"]=function(e){var n=this._get(e);return D[t](this.curves[n.index],n.time)}}),{})),V=l.extend({initialize:function(t){for(var e,n=this.points=[],i=t._segments,r=t._closed,o=0,s=i.length;o<s;o++){var a=i[o].point;e&&e.equals(a)||n.push(e=a.clone())}r&&(n.unshift(n[n.length-1]),n.push(n[1])),this.closed=r},fit:function(t){var e=this.points,n=e.length,i=null;return n>0&&(i=[new O(e[0])],n>1&&(this.fitCubic(i,t,0,n-1,e[1].subtract(e[0]),e[n-2].subtract(e[n-1])),this.closed&&(i.shift(),i.pop()))),i},fitCubic:function(t,e,n,i,r,o){var s=this.points;if(i-n!=1){for(var a,u=this.chordLengthParameterize(n,i),l=Math.max(e,e*e),c=!0,h=0;h<=4;h++){var d=this.generateBezier(n,i,u,r,o),f=this.findMaxError(n,i,d,u);if(f.error<e&&c)return void this.addCurve(t,d);if(a=f.index,f.error>=l)break;c=this.reparameterize(n,i,u,d),l=f.error}var p=s[a-1].subtract(s[a+1]);this.fitCubic(t,e,n,a,r,p),this.fitCubic(t,e,a,i,p.negate(),o)}else{var g=s[n],v=s[i],m=g.getDistance(v)/3;this.addCurve(t,[g,g.add(r.normalize(m)),v.add(o.normalize(m)),v])}},addCurve:function(t,e){t[t.length-1].setHandleOut(e[1].subtract(e[0])),t.push(new O(e[3],e[2].subtract(e[3])))},generateBezier:function(t,e,n,i,r){for(var o=1e-12,s=Math.abs,a=this.points,u=a[t],l=a[e],c=[[0,0],[0,0]],h=[0,0],d=0,f=e-t+1;d<f;d++){var p=n[d],g=1-p,v=3*p*g,m=g*g*g,_=v*g,w=v*p,y=p*p*p,b=i.normalize(_),x=r.normalize(w),C=a[t+d].subtract(u.multiply(m+_)).subtract(l.multiply(w+y));c[0][0]+=b.dot(b),c[0][1]+=b.dot(x),c[1][0]=c[0][1],c[1][1]+=x.dot(x),h[0]+=b.dot(C),h[1]+=x.dot(C)}var S,k,T=c[0][0]*c[1][1]-c[1][0]*c[0][1];if(s(T)>o){var P=c[0][0]*h[1]-c[1][0]*h[0];S=(h[0]*c[1][1]-h[1]*c[0][1])/T,k=P/T}else{var A=c[0][0]+c[0][1],I=c[1][0]+c[1][1];S=k=s(A)>o?h[0]/A:s(I)>o?h[1]/I:0}var N,M,z=l.getDistance(u),E=o*z;if(S<E||k<E)S=k=z/3;else{var O=l.subtract(u);N=i.normalize(S),M=r.normalize(k),N.dot(O)-M.dot(O)>z*z&&(S=k=z/3,N=M=null)}return[u,u.add(N||i.normalize(S)),l.add(M||r.normalize(k)),l]},reparameterize:function(t,e,n,i){for(var r=t;r<=e;r++)n[r-t]=this.findRoot(i,this.points[r],n[r-t]);r=1;for(var o=n.length;r<o;r++)if(n[r]<=n[r-1])return!1;return!0},findRoot:function(t,e,n){for(var i=[],r=[],o=0;o<=2;o++)i[o]=t[o+1].subtract(t[o]).multiply(3);for(o=0;o<=1;o++)r[o]=i[o+1].subtract(i[o]).multiply(2);var s=this.evaluate(3,t,n),a=this.evaluate(2,i,n),u=this.evaluate(1,r,n),l=s.subtract(e),c=a.dot(a)+l.dot(u);return g.isMachineZero(c)?n:n-l.dot(a)/c},evaluate:function(t,e,n){for(var i=e.slice(),r=1;r<=t;r++)for(var o=0;o<=t-r;o++)i[o]=i[o].multiply(1-n).add(i[o+1].multiply(n));return i[0]},chordLengthParameterize:function(t,e){for(var n=[0],i=t+1;i<=e;i++)n[i-t]=n[i-t-1]+this.points[i].getDistance(this.points[i-1]);i=1;for(var r=e-t;i<=r;i++)n[i]/=n[r];return n},findMaxError:function(t,e,n,i){for(var r=Math.floor((e-t+1)/2),o=0,s=t+1;s<e;s++){var a=this.evaluate(3,n,i[s-t]).subtract(this.points[s]),u=a.x*a.x+a.y*a.y;u>=o&&(o=u,r=s)}return{error:o,index:r}}}),H=T.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(t){this._content="",this._lines=[];var e=t&&l.isPlainObject(t)&&t.x===s&&t.y===s;this._initialize(e&&t,!e&&m.read(arguments))},_equals:function(t){return this._content===t._content},copyContent:function(t){this.setContent(t._content)},getContent:function(){return this._content},setContent:function(t){this._content=""+t,this._lines=this._content.split(/\r\n|\n|\r/gm),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),U=H.extend({_class:"PointText",initialize:function(){H.apply(this,arguments)},getPoint:function(){var t=this._matrix.getTranslation();return new _(t.x,t.y,this,"setPoint")},setPoint:function(){var t=m.read(arguments);this.translate(t.subtract(this._matrix.getTranslation()))},_draw:function(t,e,n){if(this._content){this._setStyles(t,e,n);var i=this._lines,r=this._style,o=r.hasFill(),s=r.hasStroke(),a=r.getLeading(),u=t.shadowColor;t.font=r.getFontStyle(),t.textAlign=r.getJustification();for(var l=0,c=i.length;l<c;l++){t.shadowColor=u;var h=i[l];o&&(t.fillText(h,0,0),t.shadowColor="rgba(0,0,0,0)"),s&&t.strokeText(h,0,0),t.translate(0,a)}}},_getBounds:function(t,e){var n=this._style,i=this._lines,r=i.length,o=n.getJustification(),s=n.getLeading(),a=this.getView().getTextWidth(n.getFontStyle(),i),u=0;"left"!==o&&(u-=a/("center"===o?2:1));var l=new b(u,r?-.75*s:0,a,r*s);return t?t._transformBounds(l,l):l}}),W=l.extend(new function(){var t,e={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},n={},i={transparent:[0,0,0,0]};function r(e){var n,r=e.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||e.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),o="rgb";if(r){var s=r[4]?4:3;n=new Array(s);for(var u=0;u<s;u++){var l=r[u+1];n[u]=parseInt(1==l.length?l+l:l,16)/255}}else if(r=e.match(/^(rgb|hsl)a?\((.*)\)$/)){o=r[1],n=r[2].trim().split(/[,\s]+/g);for(var c="hsl"===o,h=(u=0,Math.min(n.length,4));u<h;u++){var d=n[u];l=parseFloat(d);if(c)if(0===u){var f=d.match(/([a-z]*)$/)[1];l*={turn:360,rad:180/Math.PI,grad:.9}[f]||1}else u<3&&(l/=100);else u<3&&(l/=/%$/.test(d)?100:255);n[u]=l}}else{var p=i[e];if(!p)if(a){t||((t=st.getContext(1,1)).globalCompositeOperation="copy"),t.fillStyle="rgba(0,0,0,0)",t.fillStyle=e,t.fillRect(0,0,1,1);var g=t.getImageData(0,0,1,1).data;p=i[e]=[g[0]/255,g[1]/255,g[2]/255]}else p=[0,0,0];n=p.slice()}return[o,n]}var o=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],s={"rgb-hsb":function(t,e,n){var i=Math.max(t,e,n),r=i-Math.min(t,e,n);return[0===r?0:60*(i==t?(e-n)/r+(e<n?6:0):i==e?(n-t)/r+2:(t-e)/r+4),0===i?0:r/i,i]},"hsb-rgb":function(t,e,n){var i,r=(t=(t/60%6+6)%6)-(i=Math.floor(t)),s=[n,n*(1-e),n*(1-e*r),n*(1-e*(1-r))];return[s[(i=o[i])[0]],s[i[1]],s[i[2]]]},"rgb-hsl":function(t,e,n){var i=Math.max(t,e,n),r=Math.min(t,e,n),o=i-r,s=0===o,a=(i+r)/2;return[s?0:60*(i==t?(e-n)/o+(e<n?6:0):i==e?(n-t)/o+2:(t-e)/o+4),s?0:a<.5?o/(i+r):o/(2-i-r),a]},"hsl-rgb":function(t,e,n){if(0===e)return[n,n,n];for(var i=[(t=(t/360%1+1)%1)+1/3,t,t-1/3],r=n<.5?n*(1+e):n+e-n*e,o=2*n-r,s=[],a=0;a<3;a++){var u=i[a];u<0&&(u+=1),u>1&&(u-=1),s[a]=6*u<1?o+6*(r-o)*u:2*u<1?r:3*u<2?o+(r-o)*(2/3-u)*6:o}return s},"rgb-gray":function(t,e,n){return[.2989*t+.587*e+.114*n]},"gray-rgb":function(t){return[t,t,t]},"gray-hsb":function(t){return[0,0,t]},"gray-hsl":function(t){return[0,0,t]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return l.each(e,(function(t,i){n[i]=[],l.each(t,(function(t,r){var o=l.capitalize(t),s=/^(hue|saturation)$/.test(t),a=n[i][r]="gradient"===i?"gradient"===t?function(t){var e=this._components[0];return e!==(t=G.read(Array.isArray(t)?t:arguments,0,{readNull:!0}))&&(e&&e._removeOwner(this),t&&t._addOwner(this)),t}:function(){return m.read(arguments,0,{readNull:"highlight"===t,clone:!0})}:function(t){return null==t||isNaN(t)?0:+t};this["get"+o]=function(){return this._type===i||s&&/^hs[bl]$/.test(this._type)?this._components[r]:this._convert(i)[r]},this["set"+o]=function(t){this._type===i||s&&/^hs[bl]$/.test(this._type)||(this._components=this._convert(i),this._properties=e[i],this._type=i),this._components[r]=a.call(this,t),this._changed()}}),this)}),{_class:"Color",_readIndex:!0,initialize:function t(i){var o,s,a,u,c=arguments,h=this.__read,d=0;Array.isArray(i)&&(i=(c=i)[0]);var f=null!=i&&typeof i;if("string"===f&&i in e&&(o=i,i=c[1],Array.isArray(i)?(s=i,a=c[2]):(h&&(d=1),c=l.slice(c,1),f=typeof i)),!s){if(u="number"===f?c:"object"===f&&null!=i.length?i:null){o||(o=u.length>=3?"rgb":"gray");var p=e[o].length;a=u[p],h&&(d+=u===arguments?p+(null!=a?1:0):1),u.length>p&&(u=l.slice(u,0,p))}else if("string"===f){var g=r(i);o=g[0],4===(s=g[1]).length&&(a=s[3],s.length--)}else if("object"===f)if(i.constructor===t){if(o=i._type,s=i._components.slice(),a=i._alpha,"gradient"===o)for(var v=1,m=s.length;v<m;v++){var _=s[v];_&&(s[v]=_.clone())}}else if(i.constructor===G)o="gradient",u=c;else{var w=e[o="hue"in i?"lightness"in i?"hsl":"hsb":"gradient"in i||"stops"in i||"radial"in i?"gradient":"gray"in i?"gray":"rgb"],y=n[o];this._components=s=[];for(v=0,m=w.length;v<m;v++){null==(b=i[w[v]])&&!v&&"gradient"===o&&"stops"in i&&(b={stops:i.stops,radial:i.radial}),null!=(b=y[v].call(this,b))&&(s[v]=b)}a=i.alpha}h&&o&&(d=1)}if(this._type=o||"rgb",!s){this._components=s=[];for(v=0,m=(y=n[this._type]).length;v<m;v++){var b;null!=(b=y[v].call(this,u&&u[v]))&&(s[v]=b)}}return this._components=s,this._properties=e[this._type],this._alpha=a,h&&(this.__read=d),this},set:"#initialize",_serialize:function(t,e){var n=this.getComponents();return l.serialize(/^(gray|rgb)$/.test(this._type)?n:[this._type].concat(n),t,!0,e)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(t){var e;return this._type===t?this._components.slice():(e=s[this._type+"-"+t])?e.apply(this,this._components):s["rgb-"+t].apply(this,s[this._type+"-rgb"].apply(this,this._components))},convert:function(t){return new W(t,this._convert(t),this._alpha)},getType:function(){return this._type},setType:function(t){this._components=this._convert(t),this._properties=e[t],this._type=t},getComponents:function(){var t=this._components.slice();return null!=this._alpha&&t.push(this._alpha),t},getAlpha:function(){return null!=this._alpha?this._alpha:1},setAlpha:function(t){this._alpha=null==t?null:Math.min(Math.max(t,0),1),this._changed()},hasAlpha:function(){return null!=this._alpha},equals:function(t){var e=l.isPlainValue(t,!0)?W.read(arguments):t;return e===this||e&&this._class===e._class&&this._type===e._type&&this.getAlpha()===e.getAlpha()&&l.equals(this._components,e._components)||!1},toString:function(){for(var t=this._properties,e=[],n="gradient"===this._type,i=p.instance,r=0,o=t.length;r<o;r++){var s=this._components[r];null!=s&&e.push(t[r]+": "+(n?s:i.number(s)))}return null!=this._alpha&&e.push("alpha: "+i.number(this._alpha)),"{ "+e.join(", ")+" }"},toCSS:function(t){var e=this._convert("rgb"),n=t||null==this._alpha?1:this._alpha;function i(t){return Math.round(255*(t<0?0:t>1?1:t))}return e=[i(e[0]),i(e[1]),i(e[2])],n<1&&e.push(n<0?0:n),t?"#"+((1<<24)+(e[0]<<16)+(e[1]<<8)+e[2]).toString(16).slice(1):(4==e.length?"rgba(":"rgb(")+e.join(",")+")"},toCanvasStyle:function(t,e){if(this._canvasStyle)return this._canvasStyle;if("gradient"!==this._type)return this._canvasStyle=this.toCSS();var n,i=this._components,r=i[0],o=r._stops,s=i[1],a=i[2],u=i[3],l=e&&e.inverted();if(l&&(s=l._transformPoint(s),a=l._transformPoint(a),u&&(u=l._transformPoint(u))),r._radial){var c=a.getDistance(s);if(u){var h=u.subtract(s);h.getLength()>c&&(u=s.add(h.normalize(c-.1)))}var d=u||s;n=t.createRadialGradient(d.x,d.y,0,s.x,s.y,c)}else n=t.createLinearGradient(s.x,s.y,a.x,a.y);for(var f=0,p=o.length;f<p;f++){var g=o[f],v=g._offset;n.addColorStop(null==v?f/(p-1):v,g._color.toCanvasStyle())}return this._canvasStyle=n},transform:function(t){if("gradient"===this._type){for(var e=this._components,n=1,i=e.length;n<i;n++){var r=e[n];t._transformPoint(r,r,!0)}this._changed()}},statics:{_types:e,random:function(){var t=Math.random;return new W(t(),t(),t())},_setOwner:function(t,e,n){return t&&(t._owner&&e&&t._owner!==e&&(t=t.clone()),!t._owner^!e&&(t._owner=e||null,t._setter=n||null)),t}}})},new function(){return l.each({add:function(t,e){return t+e},subtract:function(t,e){return t-e},multiply:function(t,e){return t*e},divide:function(t,e){return t/e}},(function(t,e){this[e]=function(e){e=W.read(arguments);for(var n=this._type,i=this._components,r=e._convert(n),o=0,s=i.length;o<s;o++)r[o]=t(i[o],r[o]);return new W(n,r,null!=this._alpha?t(this._alpha,e.getAlpha()):null)}}),{})}),G=l.extend({_class:"Gradient",initialize:function(t,e){this._id=v.get(),t&&l.isPlainObject(t)&&(this.set(t),t=e=null),null==this._stops&&this.setStops(t||["white","black"]),null==this._radial&&this.setRadial("string"==typeof e&&"radial"===e||e||!1)},_serialize:function(t,e){return e.add(this,(function(){return l.serialize([this._stops,this._radial],t,!0,e)}))},_changed:function(){for(var t=0,e=this._owners&&this._owners.length;t<e;t++)this._owners[t]._changed()},_addOwner:function(t){this._owners||(this._owners=[]),this._owners.push(t)},_removeOwner:function(t){var e=this._owners?this._owners.indexOf(t):-1;-1!=e&&(this._owners.splice(e,1),this._owners.length||(this._owners=s))},clone:function(){for(var t=[],e=0,n=this._stops.length;e<n;e++)t[e]=this._stops[e].clone();return new G(t,this._radial)},getStops:function(){return this._stops},setStops:function(t){if(t.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var e=this._stops;if(e)for(var n=0,i=e.length;n<i;n++)e[n]._owner=s;for(n=0,i=(e=this._stops=Z.readList(t,0,{clone:!0})).length;n<i;n++)e[n]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(t){this._radial=t,this._changed()},equals:function(t){if(t===this)return!0;if(t&&this._class===t._class){var e=this._stops,n=t._stops,i=e.length;if(i===n.length){for(var r=0;r<i;r++)if(!e[r].equals(n[r]))return!1;return!0}}return!1}}),Z=l.extend({_class:"GradientStop",initialize:function(t,e){var n=t,i=e;"object"==typeof t&&e===s&&(Array.isArray(t)&&"number"!=typeof t[0]?(n=t[0],i=t[1]):("color"in t||"offset"in t||"rampPoint"in t)&&(n=t.color,i=t.offset||t.rampPoint||0)),this.setColor(n),this.setOffset(i)},clone:function(){return new Z(this._color.clone(),this._offset)},_serialize:function(t,e){var n=this._color,i=this._offset;return l.serialize(null==i?[n]:[n,i],t,!0,e)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(t){this._offset=t,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){W._setOwner(this._color,null),this._color=W._setOwner(W.read(arguments,0),this,"setColor"),this._changed()},equals:function(t){return t===this||t&&this._class===t._class&&this._color.equals(t._color)&&this._offset==t._offset||!1}}),$=l.extend(new function(){var t={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new m,selectedColor:null},e=l.set({},t,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),n=l.set({},e,{fillColor:new W}),i={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},r={beans:!0},o={_class:"Style",beans:!0,initialize:function(i,r,o){this._values={},this._owner=r,this._project=r&&r._project||o||ct.project,this._defaults=!r||r instanceof P?e:r instanceof H?n:t,i&&this.set(i)}};return l.each(e,(function(t,e){var n=/Color$/.test(e),a="shadowOffset"===e,u=l.capitalize(e),c=i[e],h="set"+u,d="get"+u;o[h]=function(t){var i=this._owner,r=i&&i._children,o=r&&r.length>0&&!(i instanceof B);if(o)for(var s=0,a=r.length;s<a;s++)r[s]._style[h](t);if(("selectedColor"===e||!o)&&e in this._defaults){var u=this._values[e];u!==t&&(n&&(u&&(W._setOwner(u,null),u._canvasStyle=null),t&&t.constructor===W&&(t=W._setOwner(t,i,o&&h))),this._values[e]=t,i&&i._changed(c||129))}},o[d]=function(t){var i=this._owner,r=i&&i._children,o=r&&r.length>0&&!(i instanceof B);if(o&&!t)for(var u=0,c=r.length;u<c;u++){var f=r[u]._style[d]();if(u){if(!l.equals(p,f))return s}else p=f}else if(e in this._defaults){var p;if((p=this._values[e])===s)(p=this._defaults[e])&&p.clone&&(p=p.clone());else{var g=n?W:a?m:null;!g||p&&p.constructor===g||(this._values[e]=p=g.read([p],0,{readNull:!0,clone:!0}))}}return p&&n&&(p=W._setOwner(p,i,o&&h)),p},r[d]=function(t){return this._style[d](t)},r[h]=function(t){this._style[h](t)}})),l.each({Font:"FontFamily",WindingRule:"FillRule"},(function(t,e){var n="get"+e,i="set"+e;o[n]=r[n]="#get"+t,o[i]=r[i]="#set"+t})),T.inject(r),o},{set:function(t){var e=t instanceof $,n=e?t._values:t;if(n)for(var i in n)if(i in this._defaults){var r=n[i];this[i]=r&&e&&r.clone?r.clone():r}},equals:function(t){function e(t,e,n){var i=t._values,r=e._values,o=e._defaults;for(var a in i){var u=i[a],c=r[a];if(!(n&&a in r||l.equals(u,c===s?o[a]:c)))return!1}return!0}return t===this||t&&this._class===t._class&&e(this,t)&&e(t,this,!0)||!1},_dispose:function(){var t;(t=this.getFillColor())&&(t._canvasStyle=null),(t=this.getStrokeColor())&&(t._canvasStyle=null),(t=this.getShadowColor())&&(t._canvasStyle=null)},hasFill:function(){var t=this.getFillColor();return!!t&&t.alpha>0},hasStroke:function(){var t=this.getStrokeColor();return!!t&&t.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var t=this.getShadowColor();return!!t&&t.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var t=this.getFontSize();return this.getFontWeight()+" "+t+(/[a-z]/i.test(t+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function t(){var e=t.base.call(this),n=this.getFontSize();return/pt|em|%|px/.test(n)&&(n=this.getView().getPixelSize(n)),null!=e?e:1.2*n}}),J=new function(){function t(t,e,n,i){for(var r=["","webkit","moz","Moz","ms","o"],o=e[0].toUpperCase()+e.substring(1),s=0;s<6;s++){var a=r[s],u=a?a+o:e;if(u in t){if(!n)return t[u];t[u]=i;break}}}return{getStyles:function(t){var e=t&&9!==t.nodeType?t.ownerDocument:t,n=e&&e.defaultView;return n&&n.getComputedStyle(t,"")},getBounds:function(t,e){var n,i=t.ownerDocument,r=i.body,o=i.documentElement;try{n=t.getBoundingClientRect()}catch(t){n={left:0,top:0,width:0,height:0}}var s=n.left-(o.clientLeft||r.clientLeft||0),a=n.top-(o.clientTop||r.clientTop||0);if(!e){var u=i.defaultView;s+=u.pageXOffset||o.scrollLeft||r.scrollLeft,a+=u.pageYOffset||o.scrollTop||r.scrollTop}return new b(s,a,n.width,n.height)},getViewportBounds:function(t){var e=t.ownerDocument,n=e.defaultView,i=e.documentElement;return new b(0,0,n.innerWidth||i.clientWidth,n.innerHeight||i.clientHeight)},getOffset:function(t,e){return J.getBounds(t,e).getPoint()},getSize:function(t){return J.getBounds(t,!0).getSize()},isInvisible:function(t){return J.getSize(t).equals(new w(0,0))},isInView:function(t){return!J.isInvisible(t)&&J.getViewportBounds(t).intersects(J.getBounds(t,!0))},isInserted:function(t){return u.body.contains(t)},getPrefixed:function(e,n){return e&&t(e,n)},setPrefixed:function(e,n,i){if("object"==typeof n)for(var r in n)t(e,r,!0,n[r]);else t(e,n,!0,i)}}},Q={add:function(t,e){if(t)for(var n in e)for(var i=e[n],r=n.split(/[\s,]+/g),o=0,s=r.length;o<s;o++){var a=r[o],l=t===u&&("touchstart"===a||"touchmove"===a)&&{passive:!1};t.addEventListener(a,i,l)}},remove:function(t,e){if(t)for(var n in e)for(var i=e[n],r=n.split(/[\s,]+/g),o=0,s=r.length;o<s;o++)t.removeEventListener(r[o],i,!1)},getPoint:function(t){var e=t.targetTouches?t.targetTouches.length?t.targetTouches[0]:t.changedTouches[0]:t;return new m(e.pageX||e.clientX+u.documentElement.scrollLeft,e.pageY||e.clientY+u.documentElement.scrollTop)},getTarget:function(t){return t.target||t.srcElement},getRelatedTarget:function(t){return t.relatedTarget||t.toElement},getOffset:function(t,e){return Q.getPoint(t).subtract(J.getOffset(e||Q.getTarget(t)))}};Q.requestAnimationFrame=new function(){var t,e=J.getPrefixed(a,"requestAnimationFrame"),n=!1,i=[];function r(){var t=i;i=[];for(var o=0,s=t.length;o<s;o++)t[o]();(n=e&&i.length)&&e(r)}return function(o){i.push(o),e?n||(e(r),n=!0):t||(t=setInterval(r,1e3/60))}};var K=l.extend(c,{_class:"View",initialize:function t(e,n){function i(t){return n[t]||parseInt(n.getAttribute(t),10)}function r(){var t=J.getSize(n);return t.isNaN()||t.isZero()?new w(i("width"),i("height")):t}var o;if(a&&n){this._id=n.getAttribute("id"),null==this._id&&n.setAttribute("id",this._id="paper-view-"+t._id++),Q.add(n,this._viewEvents);var s="none";if(J.setPrefixed(n.style,{userDrag:s,userSelect:s,touchCallout:s,contentZooming:s,tapHighlightColor:"rgba(0,0,0,0)"}),h.hasAttribute(n,"resize")){var l=this;Q.add(a,this._windowEvents={resize:function(){l.setViewSize(r())}})}if(o=r(),h.hasAttribute(n,"stats")&&"undefined"!=typeof Stats){this._stats=new Stats;var c=this._stats.domElement,d=c.style,f=J.getOffset(n);d.position="absolute",d.left=f.x+"px",d.top=f.y+"px",u.body.appendChild(c)}}else o=new w(n),n=null;this._project=e,this._scope=e._scope,this._element=n,this._pixelRatio||(this._pixelRatio=a&&a.devicePixelRatio||1),this._setElementSize(o.width,o.height),this._viewSize=o,t._views.push(this),t._viewsById[this._id]=this,(this._matrix=new C)._owner=this,t._focused||(t._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!ct.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;K._focused===this&&(K._focused=null),K._views.splice(K._views.indexOf(this),1),delete K._viewsById[this._id];var t=this._project;return t._view===this&&(t._view=null),Q.remove(this._element,this._viewEvents),Q.remove(a,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:l.each(T._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),(function(t){this[t]={}}),{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(t){this._autoUpdate=t,t&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var t=this;Q.requestAnimationFrame((function(){if(t._requested=!1,t._animate){t.requestUpdate();var e=t._element;J.getPrefixed(u,"hidden")&&"true"!==h.getAttribute(e,"keepalive")||!J.isInView(e)||t._handleFrame()}t._autoUpdate&&t.update()})),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){ct=this._scope;var t=Date.now()/1e3,e=this._last?t-this._last:0;this._last=t,this.emit("frame",new l({delta:e,time:this._time+=e,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(t,e){var n=this._frameItems;e?(n[t._id]={item:t,time:0,count:0},1==++this._frameItemCount&&this.on("frame",this._handleFrameItems)):(delete n[t._id],0==--this._frameItemCount&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(t){for(var e in this._frameItems){var n=this._frameItems[e];n.item.emit("frame",new l(t,{time:n.time+=t.delta,count:n.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=s},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return 72*this._pixelRatio},getViewSize:function(){var t=this._viewSize;return new y(t.width,t.height,this,"setViewSize")},setViewSize:function(){var t=w.read(arguments),e=t.subtract(this._viewSize);e.isZero()||(this._setElementSize(t.width,t.height),this._viewSize.set(t),this._changed(),this.emit("resize",{size:t,delta:e}),this._autoUpdate&&this.update())},_setElementSize:function(t,e){var n=this._element;n&&(n.width!==t&&(n.width=t),n.height!==e&&(n.height=e))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new b(new m,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return J.isInView(this._element)},isInserted:function(){return J.isInserted(this._element)},getPixelSize:function(t){var e,n=this._element;if(n){var i=n.parentNode,r=u.createElement("div");r.style.fontSize=t,i.appendChild(r),e=parseFloat(J.getStyles(r).fontSize),i.removeChild(r)}else e=parseFloat(e);return e},getTextWidth:function(t,e){return 0}},l.each(["rotate","scale","shear","skew"],(function(t){var e="rotate"===t;this[t]=function(){var n=arguments,i=(e?l:m).read(n),r=m.read(n,0,{readNull:!0});return this.transform((new C)[t](i,r||this.getCenter(!0)))}}),{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var t=new C;return this.transform(t.translate.apply(t,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var t=m.read(arguments);this.translate(this.getCenter().subtract(t))},getZoom:function(){var t=this._decompose().scaling;return(t.x+t.y)/2},setZoom:function(t){this.transform((new C).scale(t/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(t){var e=this.getRotation();null!=e&&null!=t&&this.rotate(t-e)},getScaling:function(){var t=this._decompose().scaling;return new _(t.x,t.y,this,"setScaling")},setScaling:function(){var t=this.getScaling(),e=m.read(arguments,0,{clone:!0,readNull:!0});t&&e&&this.scale(e.x/t.x,e.y/t.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.set.apply(t,arguments)},transform:function(t){this._matrix.append(t)},scrollBy:function(){this.translate(m.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(m.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(m.read(arguments))},getEventPoint:function(t){return this.viewToProject(Q.getOffset(t,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(t,e){return u&&"string"==typeof e&&(e=u.getElementById(e)),new(a?X:K)(t,e)}}},new function(){if(a){var t,e,n,i,r,o=!1,s=!1,l=a.navigator;l.pointerEnabled||l.msPointerEnabled?(n="pointerdown MSPointerDown",i="pointermove MSPointerMove",r="pointerup pointercancel MSPointerUp MSPointerCancel"):(n="touchstart",i="touchmove",r="touchend touchcancel","ontouchstart"in a&&l.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(n+=" mousedown",i+=" mousemove",r+=" mouseup"));var c={},h={mouseout:function(t){var e=K._focused,n=Q.getRelatedTarget(t);if(e&&(!n||"HTML"===n.nodeName)){var i=Q.getOffset(t,e._element),r=i.x,o=Math.abs,s=o(r),a=s-(1<<25);i.x=o(a)<s?a*(r<0?-1:1):r,P(e,t,e.viewToProject(i))}},scroll:T};c[n]=function(t){var e=K._focused=k(t);o||(o=!0,e._handleMouseEvent("mousedown",t))},h[i]=function(n){var i=K._focused;if(!s){var r=k(n);r?i!==r&&(i&&P(i,n),t||(t=i),i=K._focused=e=r):e&&e===i&&(t&&!t.isInserted()&&(t=null),i=K._focused=t,t=null,T())}i&&P(i,n)},h[n]=function(){s=!0},h[r]=function(t){var e=K._focused;e&&o&&e._handleMouseEvent("mouseup",t),s=o=!1},Q.add(u,h),Q.add(a,{load:T});var d,f,p,g,v,m,_,w,y=!1,b=!1,x={doubleclick:"click",mousedrag:"mousemove"},C=!1,S={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:c,_handleMouseEvent:function(t,e,n){var i=this._itemEvents,r=i.native[t],s="mousemove"===t,a=this._scope.tool,u=this;function l(t){return i.virtual[t]||u.responds(t)||a&&a.responds(t)}s&&o&&l("mousedrag")&&(t="mousedrag"),n||(n=this.getEventPoint(e));var c=this.getBounds().contains(n),h=r&&c&&u._project.hitTest(n,{tolerance:0,fill:!0,stroke:!0}),x=h&&h.item||null,S=!1,k={};if(k[t.substr(5)]=!0,r&&x!==g&&(g&&A(g,null,"mouseleave",e,n),x&&A(x,null,"mouseenter",e,n),g=x),C^c&&(A(this,null,c?"mouseenter":"mouseleave",e,n),c?this:null,S=!0),!c&&!k.drag||n.equals(f)||(I(this,x,s?t:"mousemove",e,n,f),S=!0),C=c,k.down&&c||k.up&&d){if(I(this,x,t,e,n,d),k.down){if(w=x===m&&Date.now()-_<300,p=m=x,!b&&x){for(var T=x;T&&!T.responds("mousedrag");)T=T._parent;T&&(v=x)}d=n}else k.up&&(b||x!==p||(_=Date.now(),I(this,x,w?"doubleclick":"click",e,n,d),w=!1),p=v=null);C=!1,S=!0}f=n,S&&a&&(y=a._handleMouseEvent(t,e,n,k)||y),!1!==e.cancelable&&(y&&!k.move||k.down&&l("mouseup"))&&e.preventDefault()},_handleKeyEvent:function(t,e,n,i){var r,o=this._scope,s=o.tool;function a(s){s.responds(t)&&(ct=o,s.emit(t,r=r||new tt(t,e,n,i)))}this.isVisible()&&(a(this),s&&s.responds(t)&&a(s))},_countItemEvent:function(t,e){var n=this._itemEvents,i=n.native,r=n.virtual;for(var o in S)i[o]=(i[o]||0)+(S[o][t]||0)*e;r[t]=(r[t]||0)+e},statics:{updateFocus:T,_resetState:function(){o=s=y=C=!1,t=e=d=f=p=g=v=m=_=w=null}}}}function k(t){var e=Q.getTarget(t);return e.getAttribute&&K._viewsById[e.getAttribute("id")]}function T(){var t=K._focused;if(!t||!t.isVisible())for(var n=0,i=K._views.length;n<i;n++)if((t=K._views[n]).isVisible()){K._focused=e=t;break}}function P(t,e,n){t._handleMouseEvent("mousemove",e,n)}function A(t,e,n,i,r,o,s){var a,u=!1;function l(t,n){if(t.responds(n)){if(a||(a=new nt(n,i,r,e||t,o?r.subtract(o):null)),t.emit(n,a)&&(y=!0,a.prevented&&(b=!0),a.stopped))return u=!0}else{var s=x[n];if(s)return l(t,s)}}for(;t&&t!==s&&!l(t,n);)t=t._parent;return u}function I(t,e,n,i,r,o){return t._project.removeOn(n),b=y=!1,v&&A(v,null,n,i,r,o)||e&&e!==v&&!e.isDescendant(v)&&A(e,null,"mousedrag"===n?"mousemove":n,i,r,o,v)||A(t,v||e||t,n,i,r,o)}}),X=K.extend({_class:"CanvasView",initialize:function(t,e){if(!(e instanceof a.HTMLCanvasElement)){var n=w.read(arguments,1);if(n.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+l.slice(arguments,1));e=st.getCanvas(n)}var i=this._context=e.getContext("2d");if(i.save(),this._pixelRatio=1,!/^off|false$/.test(h.getAttribute(e,"hidpi"))){var r=a.devicePixelRatio||1,o=J.getPrefixed(i,"backingStorePixelRatio")||1;this._pixelRatio=r/o}K.call(this,t,e),this._needsUpdate=!0},remove:function t(){return this._context.restore(),t.base.call(this)},_setElementSize:function t(e,n){var i=this._pixelRatio;if(t.base.call(this,e*i,n*i),1!==i){var r=this._element,o=this._context;if(!h.hasAttribute(r,"resize")){var s=r.style;s.width=e+"px",s.height=n+"px"}o.restore(),o.save(),o.scale(i,i)}},getContext:function(){return this._context},getPixelSize:function t(e){var n,i=ct.agent;if(i&&i.firefox)n=t.base.call(this,e);else{var r=this._context,o=r.font;r.font=e+" serif",n=parseFloat(r.font),r.font=o}return n},getTextWidth:function(t,e){var n=this._context,i=n.font,r=0;n.font=t;for(var o=0,s=e.length;o<s;o++)r=Math.max(r,n.measureText(e[o]).width);return n.font=i,r},update:function(){if(!this._needsUpdate)return!1;var t=this._project,e=this._context,n=this._viewSize;return e.clearRect(0,0,n.width+1,n.height+1),t&&t.draw(e,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),Y=l.extend({_class:"Event",initialize:function(t){this.event=t,this.type=t&&t.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return et.modifiers}}),tt=Y.extend({_class:"KeyEvent",initialize:function(t,e,n,i){this.type=t,this.event=e,this.key=n,this.character=i},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),et=new function(){var t,e,n={"\t":"tab"," ":"space","\b":"backspace","":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},i={tab:"\t",space:" ",enter:"\r"},r={},o={},c=new l({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var t=ct&&ct.agent;return t&&t.mac?this.meta:this.control}}});function h(t){var e=t.key||t.keyIdentifier;return e=/^U\+/.test(e)?String.fromCharCode(parseInt(e.substr(2),16)):/^Arrow[A-Z]/.test(e)?e.substr(5):"Unidentified"===e||e===s?String.fromCharCode(t.keyCode):e,n[e]||(e.length>1?l.hyphenate(e):e.toLowerCase())}function d(e,n,i,s){var a,u=K._focused;if(r[n]=e,e?o[n]=i:delete o[n],n.length>1&&(a=l.camelize(n))in c){c[a]=e;var h=ct&&ct.agent;if("meta"===a&&h&&h.mac)if(e)t={};else{for(var f in t)f in o&&d(!1,f,t[f],s);t=null}}else e&&t&&(t[n]=i);u&&u._handleKeyEvent(e?"keydown":"keyup",s,n,i)}return Q.add(u,{keydown:function(t){var n=h(t),r=ct&&ct.agent;n.length>1||r&&r.chrome&&(t.altKey||r.mac&&t.metaKey||!r.mac&&t.ctrlKey)?d(!0,n,i[n]||(n.length>1?"":n),t):e=n},keypress:function(t){if(e){var n=h(t),i=t.charCode,r=i>=32?String.fromCharCode(i):n.length>1?"":n;n!==e&&(n=r.toLowerCase()),d(!0,n,r,t),e=null}},keyup:function(t){var e=h(t);e in o&&d(!1,e,o[e],t)}}),Q.add(a,{blur:function(t){for(var e in o)d(!1,e,o[e],t)}}),{modifiers:c,isDown:function(t){return!!r[t]}}},nt=Y.extend({_class:"MouseEvent",initialize:function(t,e,n,i,r){this.type=t,this.event=e,this.point=n,this.target=i,this.delta=r},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),it=Y.extend({_class:"ToolEvent",_item:null,initialize:function(t,e,n){this.tool=t,this.type=e,this.event=n},_choosePoint:function(t,e){return t||(e?e.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(t){this._point=t},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(t){this._lastPoint=t},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(t){this._downPoint=t},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(t){this._middlePoint=t},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(t){this._delta=t},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(t){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=t},getItem:function(){if(!this._item){var t=this.tool._scope.project.hitTest(this.getPoint());if(t){for(var e=t.item,n=e._parent;/^(Group|CompoundPath)$/.test(n._class);)e=n,n=n._parent;this._item=e}}return this._item},setItem:function(t){this._item=t},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),rt=(d.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(t){d.call(this),this._moveCount=-1,this._downCount=-1,this.set(t)},getMinDistance:function(){return this._minDistance},setMinDistance:function(t){this._minDistance=t,null!=t&&null!=this._maxDistance&&t>this._maxDistance&&(this._maxDistance=t)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(t){this._maxDistance=t,null!=this._minDistance&&null!=t&&t<this._minDistance&&(this._minDistance=t)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(t){this._minDistance=this._maxDistance=t},_handleMouseEvent:function(t,e,n,i){ct=this._scope,i.drag&&!this.responds(t)&&(t="mousemove");var r=i.move||i.drag,o=this.responds(t),s=this.minDistance,a=this.maxDistance,u=!1,l=this;function c(t,e){var o=n,s=r?l._point:l._downPoint||o;if(r){if(l._moveCount>=0&&o.equals(s))return!1;if(s&&(null!=t||null!=e)){var a=o.subtract(s),u=a.getLength();if(u<(t||0))return!1;e&&(o=s.add(a.normalize(Math.min(u,e))))}l._moveCount++}return l._point=o,l._lastPoint=s||o,i.down&&(l._moveCount=-1,l._downPoint=o,l._downCount++),!0}function h(){o&&(u=l.emit(t,new it(l,t,e))||u)}if(i.down)c(),h();else if(i.up)c(null,a),h();else if(o)for(;c(s,a);)h();return u}}),l.extend(c,{_class:"Tween",statics:{easings:{linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:2*(2-t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}}},initialize:function t(e,n,i,r,o,s){this.object=e;var a=typeof o,u="function"===a;this.type=u?a:"string"===a?o:"linear",this.easing=u?o:t.easings[this.type],this.duration=r,this.running=!1,this._then=null,this._startTime=null;var l=n||i;this._keys=l?Object.keys(l):[],this._parsedKeys=this._parseKeys(this._keys),this._from=l&&this._getState(n),this._to=l&&this._getState(i),!1!==s&&this.start()},then:function(t){return this._then=t,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(t){if(this.running){t>=1&&(t=1,this.running=!1);for(var e=this.easing(t),n=this._keys,i=function(n){return"function"==typeof n?n(e,t):n},r=0,o=n&&n.length;r<o;r++){var s=n[r],a=i(this._from[s]),u=i(this._to[s]),c=a&&u&&a.__add&&u.__add?u.__subtract(a).__multiply(e).__add(a):(u-a)*e+a;this._setProperty(this._parsedKeys[s],c)}this.responds("update")&&this.emit("update",new l({progress:t,factor:e})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(t){var e=this._startTime,n=e?(t-e)/this.duration:0;e||(this._startTime=t),this.update(n)},_getState:function(t){for(var e=this._keys,n={},i=0,r=e.length;i<r;i++){var o,s=e[i],a=this._parsedKeys[s],u=this._getProperty(a);if(t){var l=this._resolveValue(u,t[s]);this._setProperty(a,l),o=(o=this._getProperty(a))&&o.clone?o.clone():o,this._setProperty(a,u)}else o=u&&u.clone?u.clone():u;n[s]=o}return n},_resolveValue:function(t,e){if(e){if(Array.isArray(e)&&2===e.length){var n=e[0];return n&&n.match&&n.match(/^[+\-\*\/]=/)?this._calculate(t,n[0],e[1]):e}if("string"==typeof e){var i=e.match(/^[+\-*/]=(.*)/);if(i){var r=JSON.parse(i[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(t,e[0],r)}}}return e},_calculate:function(t,e,n){return ct.PaperScript.calculateBinary(t,e,n)},_parseKeys:function(t){for(var e={},n=0,i=t.length;n<i;n++){var r=t[n],o=r.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");e[r]=o.split("/")}return e},_getProperty:function(t,e){for(var n=this.object,i=0,r=t.length-(e||0);i<r&&n;i++)n=n[t[i]];return n},_setProperty:function(t,e){var n=this._getProperty(t,1);n&&(n[t[t.length-1]]=e)}})),ot=function(t){var e=new o.XMLHttpRequest;return e.open((t.method||"get").toUpperCase(),t.url,l.pick(t.async,!0)),t.mimeType&&e.overrideMimeType(t.mimeType),e.onload=function(){var n=e.status;0===n||200===n?t.onLoad&&t.onLoad.call(e,e.responseText):e.onerror()},e.onerror=function(){var n=e.status,i='Could not load "'+t.url+'" (Status: '+n+")";if(!t.onError)throw new Error(i);t.onError(i,n)},e.send(null)},st=l.exports.CanvasProvider={canvases:[],getCanvas:function(t,e){if(!a)return null;var n,i=!0;"object"==typeof t&&(e=t.height,t=t.width),this.canvases.length?n=this.canvases.pop():(n=u.createElement("canvas"),i=!1);var r=n.getContext("2d");if(!r)throw new Error("Canvas "+n+" is unable to provide a 2D context.");return n.width===t&&n.height===e?i&&r.clearRect(0,0,t+1,e+1):(n.width=t,n.height=e),r.save(),n},getContext:function(t,e){var n=this.getCanvas(t,e);return n?n.getContext("2d"):null},release:function(t){var e=t&&t.canvas?t.canvas:t;e&&e.getContext&&(e.getContext("2d").restore(),this.canvases.push(e))}},at=new function(){var t,e,n,i,r,o,s,a,u,c,h,d=Math.min,f=Math.max,p=Math.abs;function g(t,e,n){return.2989*t+.587*e+.114*n}function v(t,e,n,i){var r=i-g(t,e,n),o=(i=g(u=t+r,c=e+r,h=n+r),d(u,c,h)),s=f(u,c,h);if(o<0){var a=i-o;u=i+(u-i)*i/a,c=i+(c-i)*i/a,h=i+(h-i)*i/a}if(s>255){var l=255-i,p=s-i;u=i+(u-i)*l/p,c=i+(c-i)*l/p,h=i+(h-i)*l/p}}function m(t,e,n){return f(t,e,n)-d(t,e,n)}function _(t,e,n,i){var r,o=[t,e,n],s=f(t,e,n),a=d(t,e,n);r=0===d(a=a===t?0:a===e?1:2,s=s===t?0:s===e?1:2)?1===f(a,s)?2:1:0,o[s]>o[a]?(o[r]=(o[r]-o[a])*i/(o[s]-o[a]),o[s]=i):o[r]=o[s]=0,o[a]=0,u=o[0],c=o[1],h=o[2]}var w={multiply:function(){u=r*t/255,c=o*e/255,h=s*n/255},screen:function(){u=r+t-r*t/255,c=o+e-o*e/255,h=s+n-s*n/255},overlay:function(){u=r<128?2*r*t/255:255-2*(255-r)*(255-t)/255,c=o<128?2*o*e/255:255-2*(255-o)*(255-e)/255,h=s<128?2*s*n/255:255-2*(255-s)*(255-n)/255},"soft-light":function(){var i=t*r/255;u=i+r*(255-(255-r)*(255-t)/255-i)/255,c=(i=e*o/255)+o*(255-(255-o)*(255-e)/255-i)/255,h=(i=n*s/255)+s*(255-(255-s)*(255-n)/255-i)/255},"hard-light":function(){u=t<128?2*t*r/255:255-2*(255-t)*(255-r)/255,c=e<128?2*e*o/255:255-2*(255-e)*(255-o)/255,h=n<128?2*n*s/255:255-2*(255-n)*(255-s)/255},"color-dodge":function(){u=0===r?0:255===t?255:d(255,255*r/(255-t)),c=0===o?0:255===e?255:d(255,255*o/(255-e)),h=0===s?0:255===n?255:d(255,255*s/(255-n))},"color-burn":function(){u=255===r?255:0===t?0:f(0,255-255*(255-r)/t),c=255===o?255:0===e?0:f(0,255-255*(255-o)/e),h=255===s?255:0===n?0:f(0,255-255*(255-s)/n)},darken:function(){u=r<t?r:t,c=o<e?o:e,h=s<n?s:n},lighten:function(){u=r>t?r:t,c=o>e?o:e,h=s>n?s:n},difference:function(){(u=r-t)<0&&(u=-u),(c=o-e)<0&&(c=-c),(h=s-n)<0&&(h=-h)},exclusion:function(){u=r+t*(255-r-r)/255,c=o+e*(255-o-o)/255,h=s+n*(255-s-s)/255},hue:function(){_(t,e,n,m(r,o,s)),v(u,c,h,g(r,o,s))},saturation:function(){_(r,o,s,m(t,e,n)),v(u,c,h,g(r,o,s))},luminosity:function(){v(r,o,s,g(t,e,n))},color:function(){v(t,e,n,g(r,o,s))},add:function(){u=d(r+t,255),c=d(o+e,255),h=d(s+n,255)},subtract:function(){u=f(r-t,0),c=f(o-e,0),h=f(s-n,0)},average:function(){u=(r+t)/2,c=(o+e)/2,h=(s+n)/2},negation:function(){u=255-p(255-t-r),c=255-p(255-e-o),h=255-p(255-n-s)}},y=this.nativeModes=l.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],(function(t){this[t]=!0}),{}),b=st.getContext(1,1);b&&(l.each(w,(function(t,e){var n="darken"===e,i=!1;b.save();try{b.fillStyle=n?"#300":"#a00",b.fillRect(0,0,1,1),b.globalCompositeOperation=e,b.globalCompositeOperation===e&&(b.fillStyle=n?"#a00":"#300",b.fillRect(0,0,1,1),i=b.getImageData(0,0,1,1).data[0]!==n?170:51)}catch(t){}b.restore(),y[e]=i})),st.release(b)),this.process=function(l,d,f,p,g){var v=d.canvas,m="normal"===l;if(m||y[l])f.save(),f.setTransform(1,0,0,1,0,0),f.globalAlpha=p,m||(f.globalCompositeOperation=l),f.drawImage(v,g.x,g.y),f.restore();else{var _=w[l];if(!_)return;for(var b=f.getImageData(g.x,g.y,v.width,v.height),x=b.data,C=d.getImageData(0,0,v.width,v.height).data,S=0,k=x.length;S<k;S+=4){t=C[S],r=x[S],e=C[S+1],o=x[S+1],n=C[S+2],s=x[S+2],i=C[S+3],a=x[S+3],_();var T=i*p/255,P=1-T;x[S]=T*u+P*r,x[S+1]=T*c+P*o,x[S+2]=T*h+P*s,x[S+3]=i*p+P*a}f.putImageData(b,g.x,g.y)}}},ut=new function(){var t="http://www.w3.org/2000/svg",e="http://www.w3.org/2000/xmlns",n="http://www.w3.org/1999/xlink",i={href:n,xlink:e,xmlns:e+"/","xmlns:xlink":e+"/"};function r(t,e,n){for(var r in e){var o=e[r],s=i[r];"number"==typeof o&&n&&(o=n.number(o)),s?t.setAttributeNS(s,r,o):t.setAttribute(r,o)}return t}return{svg:t,xmlns:e,xlink:n,create:function(e,n,i){return r(u.createElementNS(t,e),n,i)},get:function(t,e){var n=i[e],r=n?t.getAttributeNS(n,e):t.getAttribute(e);return"null"===r?null:r},set:r}},lt=l.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(t,e){return!e&&(t instanceof R||t instanceof I||t instanceof H)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},(function(t,e){var n=l.capitalize(e),i=t[2];this[e]={type:t[1],property:e,attribute:t[0],toSVG:i,fromSVG:i&&l.each(i,(function(t,e){this[t]=e}),{}),exportFilter:t[3],get:"get"+n,set:"set"+n}}),{});new function(){var t;function e(e,n,i){var r,o=new l,s=e.getTranslation();n&&(e.isInvertible()?(r=(e=e._shiftless())._inverseTransform(s),s=null):r=new m,o[i?"cx":"x"]=r.x,o[i?"cy":"y"]=r.y);if(!e.isIdentity()){var a=e.decompose();if(a){var u=[],c=a.rotation,h=a.scaling,d=a.skewing;s&&!s.isZero()&&u.push("translate("+t.point(s)+")"),c&&u.push("rotate("+t.number(c)+")"),g.isZero(h.x-1)&&g.isZero(h.y-1)||u.push("scale("+t.point(h)+")"),d.x&&u.push("skewX("+t.number(d.x)+")"),d.y&&u.push("skewY("+t.number(d.y)+")"),o.transform=u.join(" ")}else o.transform="matrix("+e.getValues().join(",")+")"}return o}function n(n,i){for(var r=e(n._matrix),o=n._children,s=ut.create("g",r,t),a=0,u=o.length;a<u;a++){var l=o[a],h=d(l,i);if(h)if(l.isClipMask()){var f=ut.create("clipPath");f.appendChild(h),c(l,f,"clip"),ut.set(s,{"clip-path":"url(#"+f.id+")"})}else s.appendChild(h)}return s}function i(n){var i=n._type,r=n._radius,o=e(n._matrix,!0,"rectangle"!==i);if("rectangle"===i){i="rect";var s=n._size,a=s.width,u=s.height;o.x-=a/2,o.y-=u/2,o.width=a,o.height=u,r.isZero()&&(r=null)}return r&&("circle"===i?o.r=r:(o.rx=r.width,o.ry=r.height)),ut.create(i,o,t)}var r,s={Group:n,Layer:n,Raster:function(n,i){var r=e(n._matrix,!0),o=n.getSize(),s=n.getImage();return r.x-=o.width/2,r.y-=o.height/2,r.width=o.width,r.height=o.height,r.href=0==i.embedImages&&s&&s.src||n.toDataURL(),ut.create("image",r,t)},Path:function(n,r){var o=r.matchShapes;if(o){var s=n.toShape(!1);if(s)return i(s)}var a,u=n._segments,l=u.length,c=e(n._matrix);if(o&&l>=2&&!n.hasHandles())if(l>2){a=n._closed?"polygon":"polyline";for(var h=[],d=0;d<l;d++)h.push(t.point(u[d]._point));c.points=h.join(" ")}else{a="line";var f=u[0]._point,p=u[1]._point;c.set({x1:f.x,y1:f.y,x2:p.x,y2:p.y})}else a="path",c.d=n.getPathData(null,r.precision);return ut.create(a,c,t)},Shape:i,CompoundPath:function(n,i){var r=e(n._matrix),o=n.getPathData(null,i.precision);return o&&(r.d=o),ut.create("path",r,t)},SymbolItem:function(n,i){var r=e(n._matrix,!0),o=n._definition,s=u(o,"symbol"),a=o._item,l=a.getStrokeBounds();return s||((s=ut.create("symbol",{viewBox:t.rectangle(l)})).appendChild(d(a,i)),c(o,s,"symbol")),r.href="#"+s.id,r.x+=l.x,r.y+=l.y,r.width=l.width,r.height=l.height,r.overflow="visible",ut.create("use",r,t)},PointText:function(n){var i=ut.create("text",e(n._matrix,!0),t);return i.textContent=n._content,i}};function a(e,n,i){var r={},o=!i&&e.getParent(),s=[];return null!=e._name&&(r.id=e._name),l.each(lt,(function(n){var i=n.get,a=n.type,h=e[i]();if(n.exportFilter?n.exportFilter(e,h):!o||!l.equals(o[i](),h)){if("color"===a&&null!=h){var d=h.getAlpha();d<1&&(r[n.attribute+"-opacity"]=d)}"style"===a?s.push(n.attribute+": "+h):r[n.attribute]=null==h?"none":"color"===a?h.gradient?function(e){var n=u(e,"color");if(!n){var i,r=e.getGradient(),o=r._radial,s=e.getOrigin(),a=e.getDestination();if(o){i={cx:s.x,cy:s.y,r:s.getDistance(a)};var l=e.getHighlight();l&&(i.fx=l.x,i.fy=l.y)}else i={x1:s.x,y1:s.y,x2:a.x,y2:a.y};i.gradientUnits="userSpaceOnUse",n=ut.create((o?"radial":"linear")+"Gradient",i,t);for(var h=r._stops,d=0,f=h.length;d<f;d++){var p=h[d],g=p._color,v=g.getAlpha(),m=p._offset;i={offset:null==m?d/(f-1):m},g&&(i["stop-color"]=g.toCSS(!0)),v<1&&(i["stop-opacity"]=v),n.appendChild(ut.create("stop",i,t))}c(e,n,"color")}return"url(#"+n.id+")"}(h):h.toCSS(!0):"array"===a?h.join(","):"lookup"===a?n.toSVG[h]:h}})),s.length&&(r.style=s.join(";")),1===r.opacity&&delete r.opacity,e._visible||(r.visibility="hidden"),ut.set(n,r,t)}function u(t,e){return r||(r={ids:{},svgs:{}}),t&&r.svgs[e+"-"+(t._id||t.__id||(t.__id=v.get("svg")))]}function c(t,e,n){r||u();var i=r.ids[n]=(r.ids[n]||0)+1;e.id=n+"-"+i,r.svgs[n+"-"+(t._id||t.__id)]=e}function h(t,e){var n=t,i=null;if(r){for(var s in n="svg"===t.nodeName.toLowerCase()&&t,r.svgs)i||(n||(n=ut.create("svg")).appendChild(t),i=n.insertBefore(ut.create("defs"),n.firstChild)),i.appendChild(r.svgs[s]);r=null}return e.asString?(new o.XMLSerializer).serializeToString(n):n}function d(t,e,n){var i=s[t._class],r=i&&i(t,e);if(r){var o=e.onExport;o&&(r=o(t,r,e)||r);var u=JSON.stringify(t._data);u&&"{}"!==u&&"null"!==u&&r.setAttribute("data-paper-data",u)}return r&&a(t,r,n)}function f(e){return e||(e={}),t=new p(e.precision),e}T.inject({exportSVG:function(t){return h(d(this,t=f(t),!0),t)}}),k.inject({exportSVG:function(n){n=f(n);var i=this._children,r=this.getView(),o=l.pick(n.bounds,"view"),s=n.matrix||"view"===o&&r._matrix,a=s&&C.read([s]),u="view"===o?new b([0,0],r.getViewSize()):"content"===o?T._getBounds(i,a,{stroke:!0}).rect:b.read([o],0,{readNull:!0}),c={version:"1.1",xmlns:ut.svg,"xmlns:xlink":ut.xlink};u&&(c.width=u.width,c.height=u.height,(u.x||0===u.x||u.y||0===u.y)&&(c.viewBox=t.rectangle(u)));var p=ut.create("svg",c,t),g=p;a&&!a.isIdentity()&&(g=p.appendChild(ut.create("g",e(a),t)));for(var v=0,m=i.length;v<m;v++)g.appendChild(d(i[v],n,!0));return h(p,n)}})},new function(){var t,e={};function n(e,n,i,r,o,s){var a=ut.get(e,n)||s,u=null==a?r?null:i?"":0:i?a:parseFloat(a);return/%\s*$/.test(a)?u/100*(o?1:t[/x|^width/.test(n)?"width":"height"]):u}function i(t,e,i,r,o,s,a){return e=n(t,e||"x",!1,r,o,s),i=n(t,i||"y",!1,r,o,a),!r||null!=e&&null!=i?new m(e,i):null}function r(t,e,i,r,o){return e=n(t,e||"width",!1,r,o),i=n(t,i||"height",!1,r,o),!r||null!=e&&null!=i?new w(e,i):null}function c(t,e,n){return"none"===t?null:"number"===e?parseFloat(t):"array"===e?t?t.split(/[\s,]+/g).map(parseFloat):[]:"color"===e?S(t)||t:"lookup"===e?n[t]:t}function h(t,e,n,i){var r=t.childNodes,o="clippath"===e,s="defs"===e,a=new P,u=a._project,l=u._currentStyle,c=[];if(o||s||(a=x(a,t,i),u._currentStyle=a._style.clone()),i)for(var h=t.querySelectorAll("defs"),d=0,f=h.length;d<f;d++)A(h[d],n,!1);for(d=0,f=r.length;d<f;d++){var p,g=r[d];1!==g.nodeType||/^defs$/i.test(g.nodeName)||!(p=A(g,n,!1))||p instanceof z||c.push(p)}return a.addChildren(c),o&&(a=x(a.reduce(),t,i)),u._currentStyle=l,(o||s)&&(a.remove(),a=null),a}function d(t,e){for(var n=t.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),i=[],r=0,o=n.length;r<o;r+=2)i.push(new m(parseFloat(n[r]),parseFloat(n[r+1])));var s=new q(i);return"polygon"===e&&s.closePath(),s}function f(t,r){var o,s=(n(t,"href",!0)||"").substring(1),a="radialgradient"===r;if(s)(o=e[s].getGradient())._radial^a&&((o=o.clone())._radial=a);else{for(var u=t.childNodes,l=[],c=0,h=u.length;c<h;c++){var d=u[c];1===d.nodeType&&l.push(x(new Z,d))}o=new G(l,a)}var f,p,g,v="userSpaceOnUse"!==n(t,"gradientUnits",!0);return a?(p=(f=i(t,"cx","cy",!1,v,"50%","50%")).add(n(t,"r",!1,!1,v,"50%"),0),g=i(t,"fx","fy",!0,v)):(f=i(t,"x1","y1",!1,v,"0%","0%"),p=i(t,"x2","y2",!1,v,"100%","0%")),x(new W(o,f,p,g),t)._scaleToBounds=v,null}var p={"#document":function(t,e,n,i){for(var r=t.childNodes,o=0,s=r.length;o<s;o++){var a=r[o];if(1===a.nodeType)return A(a,n,i)}},g:h,svg:h,clippath:h,polygon:d,polyline:d,path:function(t){return R.create(t.getAttribute("d"))},lineargradient:f,radialgradient:f,image:function(t){var e=new N(n(t,"href",!0));return e.on("load",(function(){var e=r(t);this.setSize(e);var n=i(t).add(e.divide(2));this._matrix.append((new C).translate(n))})),e},symbol:function(t,e,n,i){return new z(h(t,e,n,i),!0)},defs:h,use:function(t){var r=(n(t,"href",!0)||"").substring(1),o=e[r],s=i(t);return o?o instanceof z?o.place(s):o.clone().translate(s):null},circle:function(t){return new I.Circle(i(t,"cx","cy"),n(t,"r"))},ellipse:function(t){return new I.Ellipse({center:i(t,"cx","cy"),radius:r(t,"rx","ry")})},rect:function(t){return new I.Rectangle(new b(i(t),r(t)),r(t,"rx","ry"))},line:function(t){return new q.Line(i(t,"x1","y1"),i(t,"x2","y2"))},text:function(t){var e=new U(i(t).add(i(t,"dx","dy")));return e.setContent(t.textContent.trim()||""),e},switch:h};function g(t,e,n,i){if(t.transform){for(var r=(i.getAttribute(n)||"").split(/\)\s*/g),o=new C,s=0,a=r.length;s<a;s++){var u=r[s];if(!u)break;for(var l=u.split(/\(\s*/),c=l[0],h=l[1].split(/[\s,]+/g),d=0,f=h.length;d<f;d++)h[d]=parseFloat(h[d]);switch(c){case"matrix":o.append(new C(h[0],h[1],h[2],h[3],h[4],h[5]));break;case"rotate":o.rotate(h[0],h[1]||0,h[2]||0);break;case"translate":o.translate(h[0],h[1]||0);break;case"scale":o.scale(h);break;case"skewX":o.skew(h[0],0);break;case"skewY":o.skew(0,h[0])}}t.transform(o)}}function v(t,e,n){var i="fill-opacity"===n?"getFillColor":"getStrokeColor",r=t[i]&&t[i]();r&&r.setAlpha(parseFloat(e))}var _=l.set(l.each(lt,(function(t){this[t.attribute]=function(e,n){if(e[t.set]&&(e[t.set](c(n,t.type,t.fromSVG)),"color"===t.type)){var i=e[t.get]();if(i&&i._scaleToBounds){var r=e.getBounds();i.transform((new C).translate(r.getPoint()).scale(r.getSize()))}}}}),{}),{id:function(t,n){e[n]=t,t.setName&&t.setName(n)},"clip-path":function(t,e){var n=S(e);if(n){if((n=n.clone()).setClipMask(!0),!(t instanceof P))return new P(n,t);t.insertChild(0,n)}},gradientTransform:g,transform:g,"fill-opacity":v,"stroke-opacity":v,visibility:function(t,e){t.setVisible&&t.setVisible("visible"===e)},display:function(t,e){t.setVisible&&t.setVisible(null!==e)},"stop-color":function(t,e){t.setColor&&t.setColor(e)},"stop-opacity":function(t,e){t._color&&t._color.setAlpha(parseFloat(e))},offset:function(t,e){if(t.setOffset){var n=e.match(/(.*)%$/);t.setOffset(n?n[1]/100:parseFloat(e))}},viewBox:function(t,e,n,i,o){var s,a=new b(c(e,"array")),u=r(i,null,null,!0);if(t instanceof P){var l=u?u.divide(a.getSize()):1,h=(new C).scale(l).translate(a.getPoint().negate());s=t}else t instanceof z&&(u&&a.setSize(u),s=t._item);if(s){if("visible"!==y(i,"overflow",o)){var d=new I.Rectangle(a);d.setClipMask(!0),s.addChild(d)}h&&s.transform(h)}}});function y(t,e,n){var i=t.attributes[e],r=i&&i.value;if(!r&&t.style){var o=l.camelize(e);(r=t.style[o])||n.node[o]===n.parent[o]||(r=n.node[o])}return r?"none"===r?null:r:s}function x(t,e,n){var i=e.parentNode,r={node:J.getStyles(e)||{},parent:!n&&!/^defs$/i.test(i.tagName)&&J.getStyles(i)||{}};return l.each(_,(function(n,i){var o=y(e,i,r);t=o!==s&&n(t,o,i,e,r)||t})),t}function S(t){var n=t&&t.match(/\((?:["'#]*)([^"')]+)/),i=n&&n[1],r=i&&e[a?i.replace(a.location.href.split("#")[0]+"#",""):i];return r&&r._scaleToBounds&&((r=r.clone())._scaleToBounds=!0),r}function A(n,i,o){var s,a,c,h=n.nodeName.toLowerCase(),d="#document"!==h,f=u.body;o&&d&&(t=ct.getView().getSize(),t=r(n,null,null,!0)||t,s=ut.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),a=n.parentNode,c=n.nextSibling,s.appendChild(n),f.appendChild(s));var g=ct.settings,v=g.applyMatrix,m=g.insertItems;g.applyMatrix=!1,g.insertItems=!1;var _=p[h],w=_&&_(n,h,i,o)||null;if(g.insertItems=m,g.applyMatrix=v,w){!d||w instanceof P||(w=x(w,n,o));var y=i.onImport,b=d&&n.getAttribute("data-paper-data");y&&(w=y(n,w,i)||w),i.expandShapes&&w instanceof I&&(w.remove(),w=w.toPath()),b&&(w._data=JSON.parse(b))}return s&&(f.removeChild(s),a&&(c?a.insertBefore(n,c):a.appendChild(n))),o&&(e={},w&&l.pick(i.applyMatrix,v)&&w.matrix.apply(!0,!0)),w}function M(t,e,n){if(!t)return null;e="function"==typeof e?{onLoad:e}:e||{};var i=ct,r=null;function a(a){try{var u="object"==typeof a?a:(new o.DOMParser).parseFromString(a.trim(),"image/svg+xml");if(!u.nodeName)throw u=null,new Error("Unsupported SVG source: "+t);ct=i,r=A(u,e,!0),e&&!1===e.insert||n._insertItem(s,r);var c=e.onLoad;c&&c(r,a)}catch(t){l(t)}}function l(t,n){var i=e.onError;if(!i)throw new Error(t);i(t,n)}if("string"!=typeof t||/^[\s\S]*</.test(t)){if("undefined"!=typeof File&&t instanceof File){var c=new FileReader;return c.onload=function(){a(c.result)},c.onerror=function(){l(c.error)},c.readAsText(t)}a(t)}else{var h=u.getElementById(t);h?a(h):ot({url:t,async:!0,onLoad:a,onError:l})}return r}T.inject({importSVG:function(t,e){return M(t,e,this)}}),k.inject({importSVG:function(t,e){return this.activate(),M(t,e,this)}})};var ct=new(h.inject(l.exports,{Base:l,Numerical:g,Key:et,DomEvent:Q,DomElement:J,document:u,window:a,Symbol:z,PlacedSymbol:M}));return ct.agent.node&&n(69)(ct),(r="function"==typeof(i=ct)?i.call(e,n,e,t):i)===s||(t.exports=r),ct}).call(this,"object"==typeof self?self:null)},function(t,e,n){var i;
/*!
 * jQuery JavaScript Library v3.5.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2020-05-04T22:49Z
 */!function(e,n){"use strict";"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,(function(n,r){"use strict";var o=[],s=Object.getPrototypeOf,a=o.slice,u=o.flat?function(t){return o.flat.call(t)}:function(t){return o.concat.apply([],t)},l=o.push,c=o.indexOf,h={},d=h.toString,f=h.hasOwnProperty,p=f.toString,g=p.call(Object),v={},m=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},_=function(t){return null!=t&&t===t.window},w=n.document,y={type:!0,src:!0,nonce:!0,noModule:!0};function b(t,e,n){var i,r,o=(n=n||w).createElement("script");if(o.text=t,e)for(i in y)(r=e[i]||e.getAttribute&&e.getAttribute(i))&&o.setAttribute(i,r);n.head.appendChild(o).parentNode.removeChild(o)}function x(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?h[d.call(t)]||"object":typeof t}var C="3.5.1",S=function(t,e){return new S.fn.init(t,e)};function k(t){var e=!!t&&"length"in t&&t.length,n=x(t);return!m(t)&&!_(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}S.fn=S.prototype={jquery:C,constructor:S,length:0,toArray:function(){return a.call(this)},get:function(t){return null==t?a.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=S.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return S.each(this,t)},map:function(t){return this.pushStack(S.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(S.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:o.sort,splice:o.splice},S.extend=S.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||m(s)||(s={}),a===u&&(s=this,a--);a<u;a++)if(null!=(t=arguments[a]))for(e in t)i=t[e],"__proto__"!==e&&s!==i&&(l&&i&&(S.isPlainObject(i)||(r=Array.isArray(i)))?(n=s[e],o=r&&!Array.isArray(n)?[]:r||S.isPlainObject(n)?n:{},r=!1,s[e]=S.extend(l,o,i)):void 0!==i&&(s[e]=i));return s},S.extend({expando:"jQuery"+(C+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==d.call(t))&&(!(e=s(t))||"function"==typeof(n=f.call(e,"constructor")&&e.constructor)&&p.call(n)===g)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,n){b(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,i=0;if(k(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},makeArray:function(t,e){var n=e||[];return null!=t&&(k(Object(t))?S.merge(n,"string"==typeof t?[t]:t):l.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:c.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,s=!n;r<o;r++)!e(t[r],r)!==s&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,s=[];if(k(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&s.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&s.push(r);return u(s)},guid:1,support:v}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=o[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){h["[object "+e+"]"]=e.toLowerCase()}));var T=
/*!
 * Sizzle CSS Selector Engine v2.3.5
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2020-03-14
 */
function(t){var e,n,i,r,o,s,a,u,l,c,h,d,f,p,g,v,m,_,w,y="sizzle"+1*new Date,b=t.document,x=0,C=0,S=ut(),k=ut(),T=ut(),P=ut(),A=function(t,e){return t===e&&(h=!0),0},I={}.hasOwnProperty,N=[],M=N.pop,z=N.push,E=N.push,O=N.slice,j=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},D="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",R="(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",q="\\[[\\x20\\t\\r\\n\\f]*("+R+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+L+"*\\]",B=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+q+")*)|.*)\\)|)",F=new RegExp(L+"+","g"),V=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),H=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),U=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),W=new RegExp(L+"|>"),G=new RegExp(B),Z=new RegExp("^"+R+"$"),$={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+q),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+D+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},J=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,X=/^[^{]+\{\s*\[native \w/,Y=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),nt=function(t,e){var n="0x"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},it=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,rt=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},ot=function(){d()},st=yt((function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{E.apply(N=O.call(b.childNodes),b.childNodes),N[b.childNodes.length].nodeType}catch(t){E={apply:N.length?function(t,e){z.apply(t,O.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function at(t,e,i,r){var o,a,l,c,h,p,m,_=e&&e.ownerDocument,b=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==b&&9!==b&&11!==b)return i;if(!r&&(d(e),e=e||f,g)){if(11!==b&&(h=Y.exec(t)))if(o=h[1]){if(9===b){if(!(l=e.getElementById(o)))return i;if(l.id===o)return i.push(l),i}else if(_&&(l=_.getElementById(o))&&w(e,l)&&l.id===o)return i.push(l),i}else{if(h[2])return E.apply(i,e.getElementsByTagName(t)),i;if((o=h[3])&&n.getElementsByClassName&&e.getElementsByClassName)return E.apply(i,e.getElementsByClassName(o)),i}if(n.qsa&&!P[t+" "]&&(!v||!v.test(t))&&(1!==b||"object"!==e.nodeName.toLowerCase())){if(m=t,_=e,1===b&&(W.test(t)||U.test(t))){for((_=tt.test(t)&&mt(e.parentNode)||e)===e&&n.scope||((c=e.getAttribute("id"))?c=c.replace(it,rt):e.setAttribute("id",c=y)),a=(p=s(t)).length;a--;)p[a]=(c?"#"+c:":scope")+" "+wt(p[a]);m=p.join(",")}try{return E.apply(i,_.querySelectorAll(m)),i}catch(e){P(t,!0)}finally{c===y&&e.removeAttribute("id")}}}return u(t.replace(V,"$1"),e,i,r)}function ut(){var t=[];return function e(n,r){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function lt(t){return t[y]=!0,t}function ct(t){var e=f.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ht(t,e){for(var n=t.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=e}function dt(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ft(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function pt(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function gt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&st(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function vt(t){return lt((function(e){return e=+e,lt((function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))}))}))}function mt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=at.support={},o=at.isXML=function(t){var e=t.namespaceURI,n=(t.ownerDocument||t).documentElement;return!J.test(e||n&&n.nodeName||"HTML")},d=at.setDocument=function(t){var e,r,s=t?t.ownerDocument||t:b;return s!=f&&9===s.nodeType&&s.documentElement?(p=(f=s).documentElement,g=!o(f),b!=f&&(r=f.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",ot,!1):r.attachEvent&&r.attachEvent("onunload",ot)),n.scope=ct((function(t){return p.appendChild(t).appendChild(f.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length})),n.attributes=ct((function(t){return t.className="i",!t.getAttribute("className")})),n.getElementsByTagName=ct((function(t){return t.appendChild(f.createComment("")),!t.getElementsByTagName("*").length})),n.getElementsByClassName=X.test(f.getElementsByClassName),n.getById=ct((function(t){return p.appendChild(t).id=y,!f.getElementsByName||!f.getElementsByName(y).length})),n.getById?(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute("id")===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n=e.getElementById(t);return n?[n]:[]}}):(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n,i,r,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&g)return e.getElementsByClassName(t)},m=[],v=[],(n.qsa=X.test(f.querySelectorAll))&&(ct((function(t){var e;p.appendChild(t).innerHTML="<a id='"+y+"'></a><select id='"+y+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),t.querySelectorAll("[selected]").length||v.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+D+")"),t.querySelectorAll("[id~="+y+"-]").length||v.push("~="),(e=f.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||v.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),t.querySelectorAll(":checked").length||v.push(":checked"),t.querySelectorAll("a#"+y+"+*").length||v.push(".#.+[+~]"),t.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")})),ct((function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=f.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&v.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),p.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),v.push(",.*:")}))),(n.matchesSelector=X.test(_=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ct((function(t){n.disconnectedMatch=_.call(t,"*"),_.call(t,"[s!='']:x"),m.push("!=",B)})),v=v.length&&new RegExp(v.join("|")),m=m.length&&new RegExp(m.join("|")),e=X.test(p.compareDocumentPosition),w=e||X.test(p.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},A=e?function(t,e){if(t===e)return h=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t==f||t.ownerDocument==b&&w(b,t)?-1:e==f||e.ownerDocument==b&&w(b,e)?1:c?j(c,t)-j(c,e):0:4&i?-1:1)}:function(t,e){if(t===e)return h=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!r||!o)return t==f?-1:e==f?1:r?-1:o?1:c?j(c,t)-j(c,e):0;if(r===o)return dt(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?dt(s[i],a[i]):s[i]==b?-1:a[i]==b?1:0},f):f},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if(d(t),n.matchesSelector&&g&&!P[e+" "]&&(!m||!m.test(e))&&(!v||!v.test(e)))try{var i=_.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){P(e,!0)}return at(e,f,null,[t]).length>0},at.contains=function(t,e){return(t.ownerDocument||t)!=f&&d(t),w(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!=f&&d(t);var r=i.attrHandle[e.toLowerCase()],o=r&&I.call(i.attrHandle,e.toLowerCase())?r(t,e,!g):void 0;return void 0!==o?o:n.attributes||!g?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},at.escape=function(t){return(t+"").replace(it,rt)},at.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},at.uniqueSort=function(t){var e,i=[],r=0,o=0;if(h=!n.detectDuplicates,c=!n.sortStable&&t.slice(0),t.sort(A),h){for(;e=t[o++];)e===t[o]&&(r=i.push(o));for(;r--;)t.splice(i[r],1)}return c=null,t},r=at.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=r(e);return n},i=at.selectors={cacheLength:50,createPseudo:lt,match:$,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,nt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return $.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&G.test(n)&&(e=s(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=S[t+" "];return e||(e=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+t+"("+L+"|$)"))&&S(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(i){var r=at.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace(F," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,u){var l,c,h,d,f,p,g=o!==s?"nextSibling":"previousSibling",v=e.parentNode,m=a&&e.nodeName.toLowerCase(),_=!u&&!a,w=!1;if(v){if(o){for(;g;){for(d=e;d=d[g];)if(a?d.nodeName.toLowerCase()===m:1===d.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?v.firstChild:v.lastChild],s&&_){for(w=(f=(l=(c=(h=(d=v)[y]||(d[y]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]||[])[0]===x&&l[1])&&l[2],d=f&&v.childNodes[f];d=++f&&d&&d[g]||(w=f=0)||p.pop();)if(1===d.nodeType&&++w&&d===e){c[t]=[x,f,w];break}}else if(_&&(w=f=(l=(c=(h=(d=e)[y]||(d[y]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]||[])[0]===x&&l[1]),!1===w)for(;(d=++f&&d&&d[g]||(w=f=0)||p.pop())&&((a?d.nodeName.toLowerCase()!==m:1!==d.nodeType)||!++w||(_&&((c=(h=d[y]||(d[y]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]=[x,w]),d!==e)););return(w-=r)===i||w%i==0&&w/i>=0}}},PSEUDO:function(t,e){var n,r=i.pseudos[t]||i.setFilters[t.toLowerCase()]||at.error("unsupported pseudo: "+t);return r[y]?r(e):r.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?lt((function(t,n){for(var i,o=r(t,e),s=o.length;s--;)t[i=j(t,o[s])]=!(n[i]=o[s])})):function(t){return r(t,0,n)}):r}},pseudos:{not:lt((function(t){var e=[],n=[],i=a(t.replace(V,"$1"));return i[y]?lt((function(t,e,n,r){for(var o,s=i(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))})):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}})),has:lt((function(t){return function(e){return at(t,e).length>0}})),contains:lt((function(t){return t=t.replace(et,nt),function(e){return(e.textContent||r(e)).indexOf(t)>-1}})),lang:lt((function(t){return Z.test(t||"")||at.error("unsupported lang: "+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===p},focus:function(t){return t===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:gt(!1),disabled:gt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return K.test(t.nodeName)},input:function(t){return Q.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:vt((function(){return[0]})),last:vt((function(t,e){return[e-1]})),eq:vt((function(t,e,n){return[n<0?n+e:n]})),even:vt((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:vt((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:vt((function(t,e,n){for(var i=n<0?n+e:n>e?e:n;--i>=0;)t.push(i);return t})),gt:vt((function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t}))}},i.pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=ft(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=pt(e);function _t(){}function wt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function yt(t,e,n){var i=e.dir,r=e.next,o=r||i,s=n&&"parentNode"===o,a=C++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||s)return t(e,n,r);return!1}:function(e,n,u){var l,c,h,d=[x,a];if(u){for(;e=e[i];)if((1===e.nodeType||s)&&t(e,n,u))return!0}else for(;e=e[i];)if(1===e.nodeType||s)if(c=(h=e[y]||(e[y]={}))[e.uniqueID]||(h[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((l=c[o])&&l[0]===x&&l[1]===a)return d[2]=l[2];if(c[o]=d,d[2]=t(e,n,u))return!0}return!1}}function bt(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function xt(t,e,n,i,r){for(var o,s=[],a=0,u=t.length,l=null!=e;a<u;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),l&&e.push(a)));return s}function Ct(t,e,n,i,r,o){return i&&!i[y]&&(i=Ct(i)),r&&!r[y]&&(r=Ct(r,o)),lt((function(o,s,a,u){var l,c,h,d=[],f=[],p=s.length,g=o||function(t,e,n){for(var i=0,r=e.length;i<r;i++)at(t,e[i],n);return n}(e||"*",a.nodeType?[a]:a,[]),v=!t||!o&&e?g:xt(g,d,t,a,u),m=n?r||(o?t:p||i)?[]:s:v;if(n&&n(v,m,a,u),i)for(l=xt(m,f),i(l,[],a,u),c=l.length;c--;)(h=l[c])&&(m[f[c]]=!(v[f[c]]=h));if(o){if(r||t){if(r){for(l=[],c=m.length;c--;)(h=m[c])&&l.push(v[c]=h);r(null,m=[],l,u)}for(c=m.length;c--;)(h=m[c])&&(l=r?j(o,h):d[c])>-1&&(o[l]=!(s[l]=h))}}else m=xt(m===s?m.splice(p,m.length):m),r?r(null,s,m,u):E.apply(s,m)}))}function St(t){for(var e,n,r,o=t.length,s=i.relative[t[0].type],a=s||i.relative[" "],u=s?1:0,c=yt((function(t){return t===e}),a,!0),h=yt((function(t){return j(e,t)>-1}),a,!0),d=[function(t,n,i){var r=!s&&(i||n!==l)||((e=n).nodeType?c(t,n,i):h(t,n,i));return e=null,r}];u<o;u++)if(n=i.relative[t[u].type])d=[yt(bt(d),n)];else{if((n=i.filter[t[u].type].apply(null,t[u].matches))[y]){for(r=++u;r<o&&!i.relative[t[r].type];r++);return Ct(u>1&&bt(d),u>1&&wt(t.slice(0,u-1).concat({value:" "===t[u-2].type?"*":""})).replace(V,"$1"),n,u<r&&St(t.slice(u,r)),r<o&&St(t=t.slice(r)),r<o&&wt(t))}d.push(n)}return bt(d)}return _t.prototype=i.filters=i.pseudos,i.setFilters=new _t,s=at.tokenize=function(t,e){var n,r,o,s,a,u,l,c=k[t+" "];if(c)return e?0:c.slice(0);for(a=t,u=[],l=i.preFilter;a;){for(s in n&&!(r=H.exec(a))||(r&&(a=a.slice(r[0].length)||a),u.push(o=[])),n=!1,(r=U.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(V," ")}),a=a.slice(n.length)),i.filter)!(r=$[s].exec(a))||l[s]&&!(r=l[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return e?a.length:a?at.error(t):k(t,u).slice(0)},a=at.compile=function(t,e){var n,r=[],o=[],a=T[t+" "];if(!a){for(e||(e=s(t)),n=e.length;n--;)(a=St(e[n]))[y]?r.push(a):o.push(a);a=T(t,function(t,e){var n=e.length>0,r=t.length>0,o=function(o,s,a,u,c){var h,p,v,m=0,_="0",w=o&&[],y=[],b=l,C=o||r&&i.find.TAG("*",c),S=x+=null==b?1:Math.random()||.1,k=C.length;for(c&&(l=s==f||s||c);_!==k&&null!=(h=C[_]);_++){if(r&&h){for(p=0,s||h.ownerDocument==f||(d(h),a=!g);v=t[p++];)if(v(h,s||f,a)){u.push(h);break}c&&(x=S)}n&&((h=!v&&h)&&m--,o&&w.push(h))}if(m+=_,n&&_!==m){for(p=0;v=e[p++];)v(w,y,s,a);if(o){if(m>0)for(;_--;)w[_]||y[_]||(y[_]=M.call(u));y=xt(y)}E.apply(u,y),c&&!o&&y.length>0&&m+e.length>1&&at.uniqueSort(u)}return c&&(x=S,l=b),w};return n?lt(o):o}(o,r)),a.selector=t}return a},u=at.select=function(t,e,n,r){var o,u,l,c,h,d="function"==typeof t&&t,f=!r&&s(t=d.selector||t);if(n=n||[],1===f.length){if((u=f[0]=f[0].slice(0)).length>2&&"ID"===(l=u[0]).type&&9===e.nodeType&&g&&i.relative[u[1].type]){if(!(e=(i.find.ID(l.matches[0].replace(et,nt),e)||[])[0]))return n;d&&(e=e.parentNode),t=t.slice(u.shift().value.length)}for(o=$.needsContext.test(t)?0:u.length;o--&&(l=u[o],!i.relative[c=l.type]);)if((h=i.find[c])&&(r=h(l.matches[0].replace(et,nt),tt.test(u[0].type)&&mt(e.parentNode)||e))){if(u.splice(o,1),!(t=r.length&&wt(u)))return E.apply(n,r),n;break}}return(d||a(t,f))(r,e,!g,n,!e||tt.test(t)&&mt(e.parentNode)||e),n},n.sortStable=y.split("").sort(A).join("")===y,n.detectDuplicates=!!h,d(),n.sortDetached=ct((function(t){return 1&t.compareDocumentPosition(f.createElement("fieldset"))})),ct((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||ht("type|href|height|width",(function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),n.attributes&&ct((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||ht("value",(function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),ct((function(t){return null==t.getAttribute("disabled")}))||ht(D,(function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null})),at}(n);S.find=T,S.expr=T.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=T.uniqueSort,S.text=T.getText,S.isXMLDoc=T.isXML,S.contains=T.contains,S.escapeSelector=T.escape;var P=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&S(t).is(n))break;i.push(t)}return i},A=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},I=S.expr.match.needsContext;function N(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var M=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function z(t,e,n){return m(e)?S.grep(t,(function(t,i){return!!e.call(t,i,t)!==n})):e.nodeType?S.grep(t,(function(t){return t===e!==n})):"string"!=typeof e?S.grep(t,(function(t){return c.call(e,t)>-1!==n})):S.filter(e,t,n)}S.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?S.find.matchesSelector(i,t)?[i]:[]:S.find.matches(t,S.grep(e,(function(t){return 1===t.nodeType})))},S.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(S(t).filter((function(){for(e=0;e<i;e++)if(S.contains(r[e],this))return!0})));for(n=this.pushStack([]),e=0;e<i;e++)S.find(t,r[e],n);return i>1?S.uniqueSort(n):n},filter:function(t){return this.pushStack(z(this,t||[],!1))},not:function(t){return this.pushStack(z(this,t||[],!0))},is:function(t){return!!z(this,"string"==typeof t&&I.test(t)?S(t):t||[],!1).length}});var E,O=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||E,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:O.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof S?e[0]:e,S.merge(this,S.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:w,!0)),M.test(i[1])&&S.isPlainObject(e))for(i in e)m(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=w.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):m(t)?void 0!==n.ready?n.ready(t):t(S):S.makeArray(t,this)}).prototype=S.fn,E=S(w);var j=/^(?:parents|prev(?:Until|All))/,D={children:!0,contents:!0,next:!0,prev:!0};function L(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}S.fn.extend({has:function(t){var e=S(t,this),n=e.length;return this.filter((function(){for(var t=0;t<n;t++)if(S.contains(this,e[t]))return!0}))},closest:function(t,e){var n,i=0,r=this.length,o=[],s="string"!=typeof t&&S(t);if(!I.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&S.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?S.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?c.call(S(t),this[0]):c.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),S.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return P(t,"parentNode")},parentsUntil:function(t,e,n){return P(t,"parentNode",n)},next:function(t){return L(t,"nextSibling")},prev:function(t){return L(t,"previousSibling")},nextAll:function(t){return P(t,"nextSibling")},prevAll:function(t){return P(t,"previousSibling")},nextUntil:function(t,e,n){return P(t,"nextSibling",n)},prevUntil:function(t,e,n){return P(t,"previousSibling",n)},siblings:function(t){return A((t.parentNode||{}).firstChild,t)},children:function(t){return A(t.firstChild)},contents:function(t){return null!=t.contentDocument&&s(t.contentDocument)?t.contentDocument:(N(t,"template")&&(t=t.content||t),S.merge([],t.childNodes))}},(function(t,e){S.fn[t]=function(n,i){var r=S.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=S.filter(i,r)),this.length>1&&(D[t]||S.uniqueSort(r),j.test(t)&&r.reverse()),this.pushStack(r)}}));var R=/[^\x20\t\r\n\f]+/g;function q(t){return t}function B(t){throw t}function F(t,e,n,i){var r;try{t&&m(r=t.promise)?r.call(t).done(e).fail(n):t&&m(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}S.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return S.each(t.match(R)||[],(function(t,n){e[n]=!0})),e}(t):S.extend({},t);var e,n,i,r,o=[],s=[],a=-1,u=function(){for(r=r||t.once,i=e=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&t.stopOnFalse&&(a=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},l={add:function(){return o&&(n&&!e&&(a=o.length-1,s.push(n)),function e(n){S.each(n,(function(n,i){m(i)?t.unique&&l.has(i)||o.push(i):i&&i.length&&"string"!==x(i)&&e(i)}))}(arguments),n&&!e&&u()),this},remove:function(){return S.each(arguments,(function(t,e){for(var n;(n=S.inArray(e,o,n))>-1;)o.splice(n,1),n<=a&&a--})),this},has:function(t){return t?S.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=s=[],n||e||(o=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],s.push(n),e||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!i}};return l},S.extend({Deferred:function(t){var e=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return S.Deferred((function(n){S.each(e,(function(e,i){var r=m(t[i[4]])&&t[i[4]];o[i[1]]((function(){var t=r&&r.apply(this,arguments);t&&m(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[t]:arguments)}))})),t=null})).promise()},then:function(t,i,r){var o=0;function s(t,e,i,r){return function(){var a=this,u=arguments,l=function(){var n,l;if(!(t<o)){if((n=i.apply(a,u))===e.promise())throw new TypeError("Thenable self-resolution");l=n&&("object"==typeof n||"function"==typeof n)&&n.then,m(l)?r?l.call(n,s(o,e,q,r),s(o,e,B,r)):(o++,l.call(n,s(o,e,q,r),s(o,e,B,r),s(o,e,q,e.notifyWith))):(i!==q&&(a=void 0,u=[n]),(r||e.resolveWith)(a,u))}},c=r?l:function(){try{l()}catch(n){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(n,c.stackTrace),t+1>=o&&(i!==B&&(a=void 0,u=[n]),e.rejectWith(a,u))}};t?c():(S.Deferred.getStackHook&&(c.stackTrace=S.Deferred.getStackHook()),n.setTimeout(c))}}return S.Deferred((function(n){e[0][3].add(s(0,n,m(r)?r:q,n.notifyWith)),e[1][3].add(s(0,n,m(t)?t:q)),e[2][3].add(s(0,n,m(i)?i:B))})).promise()},promise:function(t){return null!=t?S.extend(t,r):r}},o={};return S.each(e,(function(t,n){var s=n[2],a=n[5];r[n[1]]=s.add,a&&s.add((function(){i=a}),e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),s.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=s.fireWith})),r.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),r=a.call(arguments),o=S.Deferred(),s=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?a.call(arguments):n,--e||o.resolveWith(i,r)}};if(e<=1&&(F(t,o.done(s(n)).resolve,o.reject,!e),"pending"===o.state()||m(r[n]&&r[n].then)))return o.then();for(;n--;)F(r[n],s(n),o.reject);return o.promise()}});var V=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&V.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},S.readyException=function(t){n.setTimeout((function(){throw t}))};var H=S.Deferred();function U(){w.removeEventListener("DOMContentLoaded",U),n.removeEventListener("load",U),S.ready()}S.fn.ready=function(t){return H.then(t).catch((function(t){S.readyException(t)})),this},S.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--S.readyWait:S.isReady)||(S.isReady=!0,!0!==t&&--S.readyWait>0||H.resolveWith(w,[S]))}}),S.ready.then=H.then,"complete"===w.readyState||"loading"!==w.readyState&&!w.documentElement.doScroll?n.setTimeout(S.ready):(w.addEventListener("DOMContentLoaded",U),n.addEventListener("load",U));var W=function(t,e,n,i,r,o,s){var a=0,u=t.length,l=null==n;if("object"===x(n))for(a in r=!0,n)W(t,e,a,n[a],!0,o,s);else if(void 0!==i&&(r=!0,m(i)||(s=!0),l&&(s?(e.call(t,i),e=null):(l=e,e=function(t,e,n){return l.call(S(t),n)})),e))for(;a<u;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:l?e.call(t):u?e(t[0],n):o},G=/^-ms-/,Z=/-([a-z])/g;function $(t,e){return e.toUpperCase()}function J(t){return t.replace(G,"ms-").replace(Z,$)}var Q=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function K(){this.expando=S.expando+K.uid++}K.uid=1,K.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Q(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[J(e)]=n;else for(i in e)r[J(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][J(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(J):(e=J(e))in i?[e]:e.match(R)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||S.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!S.isEmptyObject(e)}};var X=new K,Y=new K,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function nt(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(n)}catch(t){}Y.set(t,e,n)}else n=void 0;return n}S.extend({hasData:function(t){return Y.hasData(t)||X.hasData(t)},data:function(t,e,n){return Y.access(t,e,n)},removeData:function(t,e){Y.remove(t,e)},_data:function(t,e,n){return X.access(t,e,n)},_removeData:function(t,e){X.remove(t,e)}}),S.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=Y.get(o),1===o.nodeType&&!X.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=J(i.slice(5)),nt(o,i,r[i]));X.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each((function(){Y.set(this,t)})):W(this,(function(e){var n;if(o&&void 0===e)return void 0!==(n=Y.get(o,t))||void 0!==(n=nt(o,t))?n:void 0;this.each((function(){Y.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){Y.remove(this,t)}))}}),S.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=X.get(t,e),n&&(!i||Array.isArray(n)?i=X.access(t,e,S.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=S.queue(t,e),i=n.length,r=n.shift(),o=S._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,(function(){S.dequeue(t,e)}),o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return X.get(t,n)||X.access(t,n,{empty:S.Callbacks("once memory").add((function(){X.remove(t,[e+"queue",n])}))})}}),S.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?S.queue(this[0],t):void 0===e?this:this.each((function(){var n=S.queue(this,t,e);S._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&S.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){S.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=S.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=X.get(o[s],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var it=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,rt=new RegExp("^(?:([+-])=|)("+it+")([a-z%]*)$","i"),ot=["Top","Right","Bottom","Left"],st=w.documentElement,at=function(t){return S.contains(t.ownerDocument,t)},ut={composed:!0};st.getRootNode&&(at=function(t){return S.contains(t.ownerDocument,t)||t.getRootNode(ut)===t.ownerDocument});var lt=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&at(t)&&"none"===S.css(t,"display")};function ct(t,e,n,i){var r,o,s=20,a=i?function(){return i.cur()}:function(){return S.css(t,e,"")},u=a(),l=n&&n[3]||(S.cssNumber[e]?"":"px"),c=t.nodeType&&(S.cssNumber[e]||"px"!==l&&+u)&&rt.exec(S.css(t,e));if(c&&c[3]!==l){for(u/=2,l=l||c[3],c=+u||1;s--;)S.style(t,e,c+l),(1-o)*(1-(o=a()/u||.5))<=0&&(s=0),c/=o;c*=2,S.style(t,e,c+l),n=n||[]}return n&&(c=+c||+u||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=c,i.end=r)),r}var ht={};function dt(t){var e,n=t.ownerDocument,i=t.nodeName,r=ht[i];return r||(e=n.body.appendChild(n.createElement(i)),r=S.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),ht[i]=r,r)}function ft(t,e){for(var n,i,r=[],o=0,s=t.length;o<s;o++)(i=t[o]).style&&(n=i.style.display,e?("none"===n&&(r[o]=X.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&lt(i)&&(r[o]=dt(i))):"none"!==n&&(r[o]="none",X.set(i,"display",n)));for(o=0;o<s;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}S.fn.extend({show:function(){return ft(this,!0)},hide:function(){return ft(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){lt(this)?S(this).show():S(this).hide()}))}});var pt,gt,vt=/^(?:checkbox|radio)$/i,mt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,_t=/^$|^module$|\/(?:java|ecma)script/i;pt=w.createDocumentFragment().appendChild(w.createElement("div")),(gt=w.createElement("input")).setAttribute("type","radio"),gt.setAttribute("checked","checked"),gt.setAttribute("name","t"),pt.appendChild(gt),v.checkClone=pt.cloneNode(!0).cloneNode(!0).lastChild.checked,pt.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!pt.cloneNode(!0).lastChild.defaultValue,pt.innerHTML="<option></option>",v.option=!!pt.lastChild;var wt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function yt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&N(t,e)?S.merge([t],n):n}function bt(t,e){for(var n=0,i=t.length;n<i;n++)X.set(t[n],"globalEval",!e||X.get(e[n],"globalEval"))}wt.tbody=wt.tfoot=wt.colgroup=wt.caption=wt.thead,wt.th=wt.td,v.option||(wt.optgroup=wt.option=[1,"<select multiple='multiple'>","</select>"]);var xt=/<|&#?\w+;/;function Ct(t,e,n,i,r){for(var o,s,a,u,l,c,h=e.createDocumentFragment(),d=[],f=0,p=t.length;f<p;f++)if((o=t[f])||0===o)if("object"===x(o))S.merge(d,o.nodeType?[o]:o);else if(xt.test(o)){for(s=s||h.appendChild(e.createElement("div")),a=(mt.exec(o)||["",""])[1].toLowerCase(),u=wt[a]||wt._default,s.innerHTML=u[1]+S.htmlPrefilter(o)+u[2],c=u[0];c--;)s=s.lastChild;S.merge(d,s.childNodes),(s=h.firstChild).textContent=""}else d.push(e.createTextNode(o));for(h.textContent="",f=0;o=d[f++];)if(i&&S.inArray(o,i)>-1)r&&r.push(o);else if(l=at(o),s=yt(h.appendChild(o),"script"),l&&bt(s),n)for(c=0;o=s[c++];)_t.test(o.type||"")&&n.push(o);return h}var St=/^key/,kt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Tt=/^([^.]*)(?:\.(.+)|)/;function Pt(){return!0}function At(){return!1}function It(t,e){return t===function(){try{return w.activeElement}catch(t){}}()==("focus"===e)}function Nt(t,e,n,i,r,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(i=i||n,n=void 0),e)Nt(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=At;else if(!r)return t;return 1===o&&(s=r,r=function(t){return S().off(t),s.apply(this,arguments)},r.guid=s.guid||(s.guid=S.guid++)),t.each((function(){S.event.add(this,e,r,i,n)}))}function Mt(t,e,n){n?(X.set(t,e,!1),S.event.add(t,e,{namespace:!1,handler:function(t){var i,r,o=X.get(this,e);if(1&t.isTrigger&&this[e]){if(o.length)(S.event.special[e]||{}).delegateType&&t.stopPropagation();else if(o=a.call(arguments),X.set(this,e,o),i=n(this,e),this[e](),o!==(r=X.get(this,e))||i?X.set(this,e,!1):r={},o!==r)return t.stopImmediatePropagation(),t.preventDefault(),r.value}else o.length&&(X.set(this,e,{value:S.event.trigger(S.extend(o[0],S.Event.prototype),o.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===X.get(t,e)&&S.event.add(t,e,Pt)}S.event={global:{},add:function(t,e,n,i,r){var o,s,a,u,l,c,h,d,f,p,g,v=X.get(t);if(Q(t))for(n.handler&&(n=(o=n).handler,r=o.selector),r&&S.find.matchesSelector(st,r),n.guid||(n.guid=S.guid++),(u=v.events)||(u=v.events=Object.create(null)),(s=v.handle)||(s=v.handle=function(e){return void 0!==S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(R)||[""]).length;l--;)f=g=(a=Tt.exec(e[l])||[])[1],p=(a[2]||"").split(".").sort(),f&&(h=S.event.special[f]||{},f=(r?h.delegateType:h.bindType)||f,h=S.event.special[f]||{},c=S.extend({type:f,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&S.expr.match.needsContext.test(r),namespace:p.join(".")},o),(d=u[f])||((d=u[f]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,i,p,s)||t.addEventListener&&t.addEventListener(f,s)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,c):d.push(c),S.event.global[f]=!0)},remove:function(t,e,n,i,r){var o,s,a,u,l,c,h,d,f,p,g,v=X.hasData(t)&&X.get(t);if(v&&(u=v.events)){for(l=(e=(e||"").match(R)||[""]).length;l--;)if(f=g=(a=Tt.exec(e[l])||[])[1],p=(a[2]||"").split(".").sort(),f){for(h=S.event.special[f]||{},d=u[f=(i?h.delegateType:h.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=d.length;o--;)c=d[o],!r&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(d.splice(o,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(t,c));s&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,p,v.handle)||S.removeEvent(t,f,v.handle),delete u[f])}else for(f in u)S.event.remove(t,f+e[l],n,i,!0);S.isEmptyObject(u)&&X.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,s,a=new Array(arguments.length),u=S.event.fix(t),l=(X.get(this,"events")||Object.create(null))[u.type]||[],c=S.event.special[u.type]||{};for(a[0]=u,e=1;e<arguments.length;e++)a[e]=arguments[e];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){for(s=S.event.handlers.call(this,u,l),e=0;(r=s[e++])&&!u.isPropagationStopped();)for(u.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!u.isImmediatePropagationStopped();)u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(i=((S.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a))&&!1===(u.result=i)&&(u.preventDefault(),u.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(t,e){var n,i,r,o,s,a=[],u=e.delegateCount,l=t.target;if(u&&l.nodeType&&!("click"===t.type&&t.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==t.type||!0!==l.disabled)){for(o=[],s={},n=0;n<u;n++)void 0===s[r=(i=e[n]).selector+" "]&&(s[r]=i.needsContext?S(r,this).index(l)>-1:S.find(r,this,null,[l]).length),s[r]&&o.push(i);o.length&&a.push({elem:l,handlers:o})}return l=this,u<e.length&&a.push({elem:l,handlers:e.slice(u)}),a},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[S.expando]?t:new S.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return vt.test(e.type)&&e.click&&N(e,"input")&&Mt(e,"click",Pt),!1},trigger:function(t){var e=this||t;return vt.test(e.type)&&e.click&&N(e,"input")&&Mt(e,"click"),!0},_default:function(t){var e=t.target;return vt.test(e.type)&&e.click&&N(e,"input")&&X.get(e,"click")||N(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},S.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},S.Event=function(t,e){if(!(this instanceof S.Event))return new S.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Pt:At,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&S.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:At,isPropagationStopped:At,isImmediatePropagationStopped:At,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Pt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Pt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Pt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&St.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&kt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},(function(t,e){S.event.special[t]={setup:function(){return Mt(this,t,It),!1},trigger:function(){return Mt(this,t),!0},delegateType:e}})),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){S.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===i||S.contains(i,r))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}})),S.fn.extend({on:function(t,e,n,i){return Nt(this,t,e,n,i)},one:function(t,e,n,i){return Nt(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,S(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=At),this.each((function(){S.event.remove(this,t,n,e)}))}});var zt=/<script|<style|<link/i,Et=/checked\s*(?:[^=]|=\s*.checked.)/i,Ot=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function jt(t,e){return N(t,"table")&&N(11!==e.nodeType?e:e.firstChild,"tr")&&S(t).children("tbody")[0]||t}function Dt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Lt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Rt(t,e){var n,i,r,o,s,a;if(1===e.nodeType){if(X.hasData(t)&&(a=X.get(t).events))for(r in X.remove(e,"handle events"),a)for(n=0,i=a[r].length;n<i;n++)S.event.add(e,r,a[r][n]);Y.hasData(t)&&(o=Y.access(t),s=S.extend({},o),Y.set(e,s))}}function qt(t,e){var n=e.nodeName.toLowerCase();"input"===n&&vt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function Bt(t,e,n,i){e=u(e);var r,o,s,a,l,c,h=0,d=t.length,f=d-1,p=e[0],g=m(p);if(g||d>1&&"string"==typeof p&&!v.checkClone&&Et.test(p))return t.each((function(r){var o=t.eq(r);g&&(e[0]=p.call(this,r,o.html())),Bt(o,e,n,i)}));if(d&&(o=(r=Ct(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(a=(s=S.map(yt(r,"script"),Dt)).length;h<d;h++)l=r,h!==f&&(l=S.clone(l,!0,!0),a&&S.merge(s,yt(l,"script"))),n.call(t[h],l,h);if(a)for(c=s[s.length-1].ownerDocument,S.map(s,Lt),h=0;h<a;h++)l=s[h],_t.test(l.type||"")&&!X.access(l,"globalEval")&&S.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?S._evalUrl&&!l.noModule&&S._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},c):b(l.textContent.replace(Ot,""),l,c))}return t}function Ft(t,e,n){for(var i,r=e?S.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||S.cleanData(yt(i)),i.parentNode&&(n&&at(i)&&bt(yt(i,"script")),i.parentNode.removeChild(i));return t}S.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var i,r,o,s,a=t.cloneNode(!0),u=at(t);if(!(v.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||S.isXMLDoc(t)))for(s=yt(a),i=0,r=(o=yt(t)).length;i<r;i++)qt(o[i],s[i]);if(e)if(n)for(o=o||yt(t),s=s||yt(a),i=0,r=o.length;i<r;i++)Rt(o[i],s[i]);else Rt(t,a);return(s=yt(a,"script")).length>0&&bt(s,!u&&yt(t,"script")),a},cleanData:function(t){for(var e,n,i,r=S.event.special,o=0;void 0!==(n=t[o]);o++)if(Q(n)){if(e=n[X.expando]){if(e.events)for(i in e.events)r[i]?S.event.remove(n,i):S.removeEvent(n,i,e.handle);n[X.expando]=void 0}n[Y.expando]&&(n[Y.expando]=void 0)}}}),S.fn.extend({detach:function(t){return Ft(this,t,!0)},remove:function(t){return Ft(this,t)},text:function(t){return W(this,(function(t){return void 0===t?S.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return Bt(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||jt(this,t).appendChild(t)}))},prepend:function(){return Bt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=jt(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return Bt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return Bt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(S.cleanData(yt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return S.clone(this,t,e)}))},html:function(t){return W(this,(function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!zt.test(t)&&!wt[(mt.exec(t)||["",""])[1].toLowerCase()]){t=S.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(S.cleanData(yt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return Bt(this,arguments,(function(e){var n=this.parentNode;S.inArray(this,t)<0&&(S.cleanData(yt(this)),n&&n.replaceChild(e,this))}),t)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){S.fn[t]=function(t){for(var n,i=[],r=S(t),o=r.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),S(r[s])[e](n),l.apply(i,n.get());return this.pushStack(i)}}));var Vt=new RegExp("^("+it+")(?!px)[a-z%]+$","i"),Ht=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},Ut=function(t,e,n){var i,r,o={};for(r in e)o[r]=t.style[r],t.style[r]=e[r];for(r in i=n.call(t),e)t.style[r]=o[r];return i},Wt=new RegExp(ot.join("|"),"i");function Gt(t,e,n){var i,r,o,s,a=t.style;return(n=n||Ht(t))&&(""!==(s=n.getPropertyValue(e)||n[e])||at(t)||(s=S.style(t,e)),!v.pixelBoxStyles()&&Vt.test(s)&&Wt.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function Zt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",st.appendChild(l).appendChild(c);var t=n.getComputedStyle(c);i="1%"!==t.top,u=12===e(t.marginLeft),c.style.right="60%",s=36===e(t.right),r=36===e(t.width),c.style.position="absolute",o=12===e(c.offsetWidth/3),st.removeChild(l),c=null}}function e(t){return Math.round(parseFloat(t))}var i,r,o,s,a,u,l=w.createElement("div"),c=w.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===c.style.backgroundClip,S.extend(v,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),u},scrollboxSize:function(){return t(),o},reliableTrDimensions:function(){var t,e,i,r;return null==a&&(t=w.createElement("table"),e=w.createElement("tr"),i=w.createElement("div"),t.style.cssText="position:absolute;left:-11111px",e.style.height="1px",i.style.height="9px",st.appendChild(t).appendChild(e).appendChild(i),r=n.getComputedStyle(e),a=parseInt(r.height)>3,st.removeChild(t)),a}}))}();var $t=["Webkit","Moz","ms"],Jt=w.createElement("div").style,Qt={};function Kt(t){var e=S.cssProps[t]||Qt[t];return e||(t in Jt?t:Qt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=$t.length;n--;)if((t=$t[n]+e)in Jt)return t}(t)||t)}var Xt=/^(none|table(?!-c[ea]).+)/,Yt=/^--/,te={position:"absolute",visibility:"hidden",display:"block"},ee={letterSpacing:"0",fontWeight:"400"};function ne(t,e,n){var i=rt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function ie(t,e,n,i,r,o){var s="width"===e?1:0,a=0,u=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(u+=S.css(t,n+ot[s],!0,r)),i?("content"===n&&(u-=S.css(t,"padding"+ot[s],!0,r)),"margin"!==n&&(u-=S.css(t,"border"+ot[s]+"Width",!0,r))):(u+=S.css(t,"padding"+ot[s],!0,r),"padding"!==n?u+=S.css(t,"border"+ot[s]+"Width",!0,r):a+=S.css(t,"border"+ot[s]+"Width",!0,r));return!i&&o>=0&&(u+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-u-a-.5))||0),u}function re(t,e,n){var i=Ht(t),r=(!v.boxSizingReliable()||n)&&"border-box"===S.css(t,"boxSizing",!1,i),o=r,s=Gt(t,e,i),a="offset"+e[0].toUpperCase()+e.slice(1);if(Vt.test(s)){if(!n)return s;s="auto"}return(!v.boxSizingReliable()&&r||!v.reliableTrDimensions()&&N(t,"tr")||"auto"===s||!parseFloat(s)&&"inline"===S.css(t,"display",!1,i))&&t.getClientRects().length&&(r="border-box"===S.css(t,"boxSizing",!1,i),(o=a in t)&&(s=t[a])),(s=parseFloat(s)||0)+ie(t,e,n||(r?"border":"content"),o,i,s)+"px"}function oe(t,e,n,i,r){return new oe.prototype.init(t,e,n,i,r)}S.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Gt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=J(e),u=Yt.test(e),l=t.style;if(u||(e=Kt(a)),s=S.cssHooks[e]||S.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:l[e];"string"===(o=typeof n)&&(r=rt.exec(n))&&r[1]&&(n=ct(t,e,r),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=r&&r[3]||(S.cssNumber[a]?"":"px")),v.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(u?l.setProperty(e,n):l[e]=n))}},css:function(t,e,n,i){var r,o,s,a=J(e);return Yt.test(e)||(e=Kt(a)),(s=S.cssHooks[e]||S.cssHooks[a])&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=Gt(t,e,i)),"normal"===r&&e in ee&&(r=ee[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),S.each(["height","width"],(function(t,e){S.cssHooks[e]={get:function(t,n,i){if(n)return!Xt.test(S.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?re(t,e,i):Ut(t,te,(function(){return re(t,e,i)}))},set:function(t,n,i){var r,o=Ht(t),s=!v.scrollboxSize()&&"absolute"===o.position,a=(s||i)&&"border-box"===S.css(t,"boxSizing",!1,o),u=i?ie(t,e,i,a,o):0;return a&&s&&(u-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-ie(t,e,"border",!1,o)-.5)),u&&(r=rt.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=S.css(t,e)),ne(0,n,u)}}})),S.cssHooks.marginLeft=Zt(v.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(Gt(t,"marginLeft"))||t.getBoundingClientRect().left-Ut(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),S.each({margin:"",padding:"",border:"Width"},(function(t,e){S.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+ot[i]+e]=o[i]||o[i-2]||o[0];return r}},"margin"!==t&&(S.cssHooks[t+e].set=ne)})),S.fn.extend({css:function(t,e){return W(this,(function(t,e,n){var i,r,o={},s=0;if(Array.isArray(e)){for(i=Ht(t),r=e.length;s<r;s++)o[e[s]]=S.css(t,e[s],!1,i);return o}return void 0!==n?S.style(t,e,n):S.css(t,e)}),t,e,arguments.length>1)}}),S.Tween=oe,oe.prototype={constructor:oe,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||S.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(S.cssNumber[n]?"":"px")},cur:function(){var t=oe.propHooks[this.prop];return t&&t.get?t.get(this):oe.propHooks._default.get(this)},run:function(t){var e,n=oe.propHooks[this.prop];return this.options.duration?this.pos=e=S.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):oe.propHooks._default.set(this),this}},oe.prototype.init.prototype=oe.prototype,oe.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=S.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){S.fx.step[t.prop]?S.fx.step[t.prop](t):1!==t.elem.nodeType||!S.cssHooks[t.prop]&&null==t.elem.style[Kt(t.prop)]?t.elem[t.prop]=t.now:S.style(t.elem,t.prop,t.now+t.unit)}}},oe.propHooks.scrollTop=oe.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},S.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},S.fx=oe.prototype.init,S.fx.step={};var se,ae,ue=/^(?:toggle|show|hide)$/,le=/queueHooks$/;function ce(){ae&&(!1===w.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(ce):n.setTimeout(ce,S.fx.interval),S.fx.tick())}function he(){return n.setTimeout((function(){se=void 0})),se=Date.now()}function de(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=ot[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function fe(t,e,n){for(var i,r=(pe.tweeners[e]||[]).concat(pe.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,e,t))return i}function pe(t,e,n){var i,r,o=0,s=pe.prefilters.length,a=S.Deferred().always((function(){delete u.elem})),u=function(){if(r)return!1;for(var e=se||he(),n=Math.max(0,l.startTime+l.duration-e),i=1-(n/l.duration||0),o=0,s=l.tweens.length;o<s;o++)l.tweens[o].run(i);return a.notifyWith(t,[l,i,n]),i<1&&s?n:(s||a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},n),originalProperties:e,originalOptions:n,startTime:se||he(),duration:n.duration,tweens:[],createTween:function(e,n){var i=S.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){var n=0,i=e?l.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)l.tweens[n].run(1);return e?(a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l,e])):a.rejectWith(t,[l,e]),this}}),c=l.props;for(!function(t,e){var n,i,r,o,s;for(n in t)if(r=e[i=J(n)],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(s=S.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}(c,l.opts.specialEasing);o<s;o++)if(i=pe.prefilters[o].call(l,t,c,l.opts))return m(i.stop)&&(S._queueHooks(l.elem,l.opts.queue).stop=i.stop.bind(i)),i;return S.map(c,fe,l),m(l.opts.start)&&l.opts.start.call(t,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),S.fx.timer(S.extend(u,{elem:t,anim:l,queue:l.opts.queue})),l}S.Animation=S.extend(pe,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return ct(n.elem,t,rt.exec(e),n),n}]},tweener:function(t,e){m(t)?(e=t,t=["*"]):t=t.match(R);for(var n,i=0,r=t.length;i<r;i++)n=t[i],pe.tweeners[n]=pe.tweeners[n]||[],pe.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,o,s,a,u,l,c,h="width"in e||"height"in e,d=this,f={},p=t.style,g=t.nodeType&&lt(t),v=X.get(t,"fxshow");for(i in n.queue||(null==(s=S._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,d.always((function(){d.always((function(){s.unqueued--,S.queue(t,"fx").length||s.empty.fire()}))}))),e)if(r=e[i],ue.test(r)){if(delete e[i],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!v||void 0===v[i])continue;g=!0}f[i]=v&&v[i]||S.style(t,i)}if((u=!S.isEmptyObject(e))||!S.isEmptyObject(f))for(i in h&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(l=v&&v.display)&&(l=X.get(t,"display")),"none"===(c=S.css(t,"display"))&&(l?c=l:(ft([t],!0),l=t.style.display||l,c=S.css(t,"display"),ft([t]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===S.css(t,"float")&&(u||(d.done((function(){p.display=l})),null==l&&(c=p.display,l="none"===c?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always((function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}))),u=!1,f)u||(v?"hidden"in v&&(g=v.hidden):v=X.access(t,"fxshow",{display:l}),o&&(v.hidden=!g),g&&ft([t],!0),d.done((function(){for(i in g||ft([t]),X.remove(t,"fxshow"),f)S.style(t,i,f[i])}))),u=fe(g?v[i]:0,i,d),i in v||(v[i]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(t,e){e?pe.prefilters.unshift(t):pe.prefilters.push(t)}}),S.speed=function(t,e,n){var i=t&&"object"==typeof t?S.extend({},t):{complete:n||!n&&e||m(t)&&t,duration:t,easing:n&&e||e&&!m(e)&&e};return S.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in S.fx.speeds?i.duration=S.fx.speeds[i.duration]:i.duration=S.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){m(i.old)&&i.old.call(this),i.queue&&S.dequeue(this,i.queue)},i},S.fn.extend({fadeTo:function(t,e,n,i){return this.filter(lt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=S.isEmptyObject(t),o=S.speed(e,n,i),s=function(){var e=pe(this,S.extend({},t),o);(r||X.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each((function(){var e=!0,r=null!=t&&t+"queueHooks",o=S.timers,s=X.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&le.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||S.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,n=X.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=S.timers,s=i?i.length:0;for(n.finish=!0,S.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish}))}}),S.each(["toggle","show","hide"],(function(t,e){var n=S.fn[e];S.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(de(e,!0),t,i,r)}})),S.each({slideDown:de("show"),slideUp:de("hide"),slideToggle:de("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){S.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}})),S.timers=[],S.fx.tick=function(){var t,e=0,n=S.timers;for(se=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||S.fx.stop(),se=void 0},S.fx.timer=function(t){S.timers.push(t),S.fx.start()},S.fx.interval=13,S.fx.start=function(){ae||(ae=!0,ce())},S.fx.stop=function(){ae=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(t,e){return t=S.fx&&S.fx.speeds[t]||t,e=e||"fx",this.queue(e,(function(e,i){var r=n.setTimeout(e,t);i.stop=function(){n.clearTimeout(r)}}))},function(){var t=w.createElement("input"),e=w.createElement("select").appendChild(w.createElement("option"));t.type="checkbox",v.checkOn=""!==t.value,v.optSelected=e.selected,(t=w.createElement("input")).value="t",t.type="radio",v.radioValue="t"===t.value}();var ge,ve=S.expr.attrHandle;S.fn.extend({attr:function(t,e){return W(this,S.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){S.removeAttr(this,t)}))}}),S.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?S.prop(t,e,n):(1===o&&S.isXMLDoc(t)||(r=S.attrHooks[e.toLowerCase()]||(S.expr.match.bool.test(e)?ge:void 0)),void 0!==n?null===n?void S.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=S.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!v.radioValue&&"radio"===e&&N(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(R);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),ge={set:function(t,e,n){return!1===e?S.removeAttr(t,n):t.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),(function(t,e){var n=ve[e]||S.find.attr;ve[e]=function(t,e,i){var r,o,s=e.toLowerCase();return i||(o=ve[s],ve[s]=r,r=null!=n(t,e,i)?s:null,ve[s]=o),r}}));var me=/^(?:input|select|textarea|button)$/i,_e=/^(?:a|area)$/i;function we(t){return(t.match(R)||[]).join(" ")}function ye(t){return t.getAttribute&&t.getAttribute("class")||""}function be(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(R)||[]}S.fn.extend({prop:function(t,e){return W(this,S.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[S.propFix[t]||t]}))}}),S.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(t)||(e=S.propFix[e]||e,r=S.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=S.find.attr(t,"tabindex");return e?parseInt(e,10):me.test(t.nodeName)||_e.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(S.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){S.propFix[this.toLowerCase()]=this})),S.fn.extend({addClass:function(t){var e,n,i,r,o,s,a,u=0;if(m(t))return this.each((function(e){S(this).addClass(t.call(this,e,ye(this)))}));if((e=be(t)).length)for(;n=this[u++];)if(r=ye(n),i=1===n.nodeType&&" "+we(r)+" "){for(s=0;o=e[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(a=we(i))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,o,s,a,u=0;if(m(t))return this.each((function(e){S(this).removeClass(t.call(this,e,ye(this)))}));if(!arguments.length)return this.attr("class","");if((e=be(t)).length)for(;n=this[u++];)if(r=ye(n),i=1===n.nodeType&&" "+we(r)+" "){for(s=0;o=e[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(a=we(i))&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t,i="string"===n||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):m(t)?this.each((function(n){S(this).toggleClass(t.call(this,n,ye(this),e),e)})):this.each((function(){var e,r,o,s;if(i)for(r=0,o=S(this),s=be(t);e=s[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||((e=ye(this))&&X.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":X.get(this,"__className__")||""))}))},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+we(ye(n))+" ").indexOf(e)>-1)return!0;return!1}});var xe=/\r/g;S.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=m(t),this.each((function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,S(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=S.map(r,(function(t){return null==t?"":t+""}))),(e=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))}))):r?(e=S.valHooks[r.type]||S.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(xe,""):null==n?"":n:void 0}}),S.extend({valHooks:{option:{get:function(t){var e=S.find.attr(t,"value");return null!=e?e:we(S.text(t))}},select:{get:function(t){var e,n,i,r=t.options,o=t.selectedIndex,s="select-one"===t.type,a=s?null:[],u=s?o+1:r.length;for(i=o<0?u:s?o:0;i<u;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!N(n.parentNode,"optgroup"))){if(e=S(n).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,o=S.makeArray(e),s=r.length;s--;)((i=r[s]).selected=S.inArray(S.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],(function(){S.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=S.inArray(S(t).val(),e)>-1}},v.checkOn||(S.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})})),v.focusin="onfocusin"in n;var Ce=/^(?:focusinfocus|focusoutblur)$/,Se=function(t){t.stopPropagation()};S.extend(S.event,{trigger:function(t,e,i,r){var o,s,a,u,l,c,h,d,p=[i||w],g=f.call(t,"type")?t.type:t,v=f.call(t,"namespace")?t.namespace.split("."):[];if(s=d=a=i=i||w,3!==i.nodeType&&8!==i.nodeType&&!Ce.test(g+S.event.triggered)&&(g.indexOf(".")>-1&&(v=g.split("."),g=v.shift(),v.sort()),l=g.indexOf(":")<0&&"on"+g,(t=t[S.expando]?t:new S.Event(g,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:S.makeArray(e,[t]),h=S.event.special[g]||{},r||!h.trigger||!1!==h.trigger.apply(i,e))){if(!r&&!h.noBubble&&!_(i)){for(u=h.delegateType||g,Ce.test(u+g)||(s=s.parentNode);s;s=s.parentNode)p.push(s),a=s;a===(i.ownerDocument||w)&&p.push(a.defaultView||a.parentWindow||n)}for(o=0;(s=p[o++])&&!t.isPropagationStopped();)d=s,t.type=o>1?u:h.bindType||g,(c=(X.get(s,"events")||Object.create(null))[t.type]&&X.get(s,"handle"))&&c.apply(s,e),(c=l&&s[l])&&c.apply&&Q(s)&&(t.result=c.apply(s,e),!1===t.result&&t.preventDefault());return t.type=g,r||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(p.pop(),e)||!Q(i)||l&&m(i[g])&&!_(i)&&((a=i[l])&&(i[l]=null),S.event.triggered=g,t.isPropagationStopped()&&d.addEventListener(g,Se),i[g](),t.isPropagationStopped()&&d.removeEventListener(g,Se),S.event.triggered=void 0,a&&(i[l]=a)),t.result}},simulate:function(t,e,n){var i=S.extend(new S.Event,n,{type:t,isSimulated:!0});S.event.trigger(i,null,e)}}),S.fn.extend({trigger:function(t,e){return this.each((function(){S.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return S.event.trigger(t,e,n,!0)}}),v.focusin||S.each({focus:"focusin",blur:"focusout"},(function(t,e){var n=function(t){S.event.simulate(e,t.target,S.event.fix(t))};S.event.special[e]={setup:function(){var i=this.ownerDocument||this.document||this,r=X.access(i,e);r||i.addEventListener(t,n,!0),X.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,r=X.access(i,e)-1;r?X.access(i,e,r):(i.removeEventListener(t,n,!0),X.remove(i,e))}}}));var ke=n.location,Te={guid:Date.now()},Pe=/\?/;S.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||S.error("Invalid XML: "+t),e};var Ae=/\[\]$/,Ie=/\r?\n/g,Ne=/^(?:submit|button|image|reset|file)$/i,Me=/^(?:input|select|textarea|keygen)/i;function ze(t,e,n,i){var r;if(Array.isArray(e))S.each(e,(function(e,r){n||Ae.test(t)?i(t,r):ze(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)}));else if(n||"object"!==x(e))i(t,e);else for(r in e)ze(t+"["+r+"]",e[r],n,i)}S.param=function(t,e){var n,i=[],r=function(t,e){var n=m(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!S.isPlainObject(t))S.each(t,(function(){r(this.name,this.value)}));else for(n in t)ze(n,t[n],e,r);return i.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=S.prop(this,"elements");return t?S.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!S(this).is(":disabled")&&Me.test(this.nodeName)&&!Ne.test(t)&&(this.checked||!vt.test(t))})).map((function(t,e){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,(function(t){return{name:e.name,value:t.replace(Ie,"\r\n")}})):{name:e.name,value:n.replace(Ie,"\r\n")}})).get()}});var Ee=/%20/g,Oe=/#.*$/,je=/([?&])_=[^&]*/,De=/^(.*?):[ \t]*([^\r\n]*)$/gm,Le=/^(?:GET|HEAD)$/,Re=/^\/\//,qe={},Be={},Fe="*/".concat("*"),Ve=w.createElement("a");function He(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(R)||[];if(m(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function Ue(t,e,n,i){var r={},o=t===Be;function s(a){var u;return r[a]=!0,S.each(t[a]||[],(function(t,a){var l=a(e,n,i);return"string"!=typeof l||o||r[l]?o?!(u=l):void 0:(e.dataTypes.unshift(l),s(l),!1)})),u}return s(e.dataTypes[0])||!r["*"]&&s("*")}function We(t,e){var n,i,r=S.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&S.extend(!0,t,i),t}Ve.href=ke.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ke.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ke.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Fe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?We(We(t,S.ajaxSettings),e):We(S.ajaxSettings,t)},ajaxPrefilter:He(qe),ajaxTransport:He(Be),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,r,o,s,a,u,l,c,h,d,f=S.ajaxSetup({},e),p=f.context||f,g=f.context&&(p.nodeType||p.jquery)?S(p):S.event,v=S.Deferred(),m=S.Callbacks("once memory"),_=f.statusCode||{},y={},b={},x="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(l){if(!s)for(s={};e=De.exec(o);)s[e[1].toLowerCase()+" "]=(s[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=s[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return l?o:null},setRequestHeader:function(t,e){return null==l&&(t=b[t.toLowerCase()]=b[t.toLowerCase()]||t,y[t]=e),this},overrideMimeType:function(t){return null==l&&(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(l)C.always(t[C.status]);else for(e in t)_[e]=[_[e],t[e]];return this},abort:function(t){var e=t||x;return i&&i.abort(e),k(0,e),this}};if(v.promise(C),f.url=((t||f.url||ke.href)+"").replace(Re,ke.protocol+"//"),f.type=e.method||e.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(R)||[""],null==f.crossDomain){u=w.createElement("a");try{u.href=f.url,u.href=u.href,f.crossDomain=Ve.protocol+"//"+Ve.host!=u.protocol+"//"+u.host}catch(t){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=S.param(f.data,f.traditional)),Ue(qe,f,e,C),l)return C;for(h in(c=S.event&&f.global)&&0==S.active++&&S.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Le.test(f.type),r=f.url.replace(Oe,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Ee,"+")):(d=f.url.slice(r.length),f.data&&(f.processData||"string"==typeof f.data)&&(r+=(Pe.test(r)?"&":"?")+f.data,delete f.data),!1===f.cache&&(r=r.replace(je,"$1"),d=(Pe.test(r)?"&":"?")+"_="+Te.guid+++d),f.url=r+d),f.ifModified&&(S.lastModified[r]&&C.setRequestHeader("If-Modified-Since",S.lastModified[r]),S.etag[r]&&C.setRequestHeader("If-None-Match",S.etag[r])),(f.data&&f.hasContent&&!1!==f.contentType||e.contentType)&&C.setRequestHeader("Content-Type",f.contentType),C.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Fe+"; q=0.01":""):f.accepts["*"]),f.headers)C.setRequestHeader(h,f.headers[h]);if(f.beforeSend&&(!1===f.beforeSend.call(p,C,f)||l))return C.abort();if(x="abort",m.add(f.complete),C.done(f.success),C.fail(f.error),i=Ue(Be,f,e,C)){if(C.readyState=1,c&&g.trigger("ajaxSend",[C,f]),l)return C;f.async&&f.timeout>0&&(a=n.setTimeout((function(){C.abort("timeout")}),f.timeout));try{l=!1,i.send(y,k)}catch(t){if(l)throw t;k(-1,t)}}else k(-1,"No Transport");function k(t,e,s,u){var h,d,w,y,b,x=e;l||(l=!0,a&&n.clearTimeout(a),i=void 0,o=u||"",C.readyState=t>0?4:0,h=t>=200&&t<300||304===t,s&&(y=function(t,e,n){for(var i,r,o,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){u.unshift(r);break}if(u[0]in n)o=u[0];else{for(r in n){if(!u[0]||t.converters[r+" "+u[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==u[0]&&u.unshift(o),n[o]}(f,C,s)),!h&&S.inArray("script",f.dataTypes)>-1&&(f.converters["text script"]=function(){}),y=function(t,e,n,i){var r,o,s,a,u,l={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)l[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(s=l[u+" "+o]||l["* "+o]))for(r in l)if((a=r.split(" "))[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){!0===s?s=l[r]:!0!==l[r]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}(f,y,C,h),h?(f.ifModified&&((b=C.getResponseHeader("Last-Modified"))&&(S.lastModified[r]=b),(b=C.getResponseHeader("etag"))&&(S.etag[r]=b)),204===t||"HEAD"===f.type?x="nocontent":304===t?x="notmodified":(x=y.state,d=y.data,h=!(w=y.error))):(w=x,!t&&x||(x="error",t<0&&(t=0))),C.status=t,C.statusText=(e||x)+"",h?v.resolveWith(p,[d,x,C]):v.rejectWith(p,[C,x,w]),C.statusCode(_),_=void 0,c&&g.trigger(h?"ajaxSuccess":"ajaxError",[C,f,h?d:w]),m.fireWith(p,[C,x]),c&&(g.trigger("ajaxComplete",[C,f]),--S.active||S.event.trigger("ajaxStop")))}return C},getJSON:function(t,e,n){return S.get(t,e,n,"json")},getScript:function(t,e){return S.get(t,void 0,e,"script")}}),S.each(["get","post"],(function(t,e){S[e]=function(t,n,i,r){return m(n)&&(r=r||i,i=n,n=void 0),S.ajax(S.extend({url:t,type:e,dataType:r,data:n,success:i},S.isPlainObject(t)&&t))}})),S.ajaxPrefilter((function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")})),S._evalUrl=function(t,e,n){return S.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){S.globalEval(t,e,n)}})},S.fn.extend({wrapAll:function(t){var e;return this[0]&&(m(t)&&(t=t.call(this[0])),e=S(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return m(t)?this.each((function(e){S(this).wrapInner(t.call(this,e))})):this.each((function(){var e=S(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=m(t);return this.each((function(n){S(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){S(this).replaceWith(this.childNodes)})),this}}),S.expr.pseudos.hidden=function(t){return!S.expr.pseudos.visible(t)},S.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var Ge={0:200,1223:204},Ze=S.ajaxSettings.xhr();v.cors=!!Ze&&"withCredentials"in Ze,v.ajax=Ze=!!Ze,S.ajaxTransport((function(t){var e,i;if(v.cors||Ze&&!t.crossDomain)return{send:function(r,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];for(s in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);e=function(t){return function(){e&&(e=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Ge[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),i=a.onerror=a.ontimeout=e("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&n.setTimeout((function(){e&&i()}))},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}})),S.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return S.globalEval(t),t}}}),S.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),S.ajaxTransport("script",(function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(i,r){e=S("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),w.head.appendChild(e[0])},abort:function(){n&&n()}}}));var $e,Je=[],Qe=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Je.pop()||S.expando+"_"+Te.guid++;return this[t]=!0,t}}),S.ajaxPrefilter("json jsonp",(function(t,e,i){var r,o,s,a=!1!==t.jsonp&&(Qe.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Qe.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=m(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Qe,"$1"+r):!1!==t.jsonp&&(t.url+=(Pe.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||S.error(r+" was not called"),s[0]},t.dataTypes[0]="json",o=n[r],n[r]=function(){s=arguments},i.always((function(){void 0===o?S(n).removeProp(r):n[r]=o,t[r]&&(t.jsonpCallback=e.jsonpCallback,Je.push(r)),s&&m(o)&&o(s[0]),s=o=void 0})),"script"})),v.createHTMLDocument=(($e=w.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===$e.childNodes.length),S.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(v.createHTMLDocument?((i=(e=w.implementation.createHTMLDocument("")).createElement("base")).href=w.location.href,e.head.appendChild(i)):e=w),o=!n&&[],(r=M.exec(t))?[e.createElement(r[1])]:(r=Ct([t],e,o),o&&o.length&&S(o).remove(),S.merge([],r.childNodes)));var i,r,o},S.fn.load=function(t,e,n){var i,r,o,s=this,a=t.indexOf(" ");return a>-1&&(i=we(t.slice(a)),t=t.slice(0,a)),m(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&S.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done((function(t){o=arguments,s.html(i?S("<div>").append(S.parseHTML(t)).find(i):t)})).always(n&&function(t,e){s.each((function(){n.apply(this,o||[t.responseText,e,t])}))}),this},S.expr.pseudos.animated=function(t){return S.grep(S.timers,(function(e){return t===e.elem})).length},S.offset={setOffset:function(t,e,n){var i,r,o,s,a,u,l=S.css(t,"position"),c=S(t),h={};"static"===l&&(t.style.position="relative"),a=c.offset(),o=S.css(t,"top"),u=S.css(t,"left"),("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1?(s=(i=c.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(u)||0),m(e)&&(e=e.call(t,n,S.extend({},a))),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+r),"using"in e?e.using.call(t,h):("number"==typeof h.top&&(h.top+="px"),"number"==typeof h.left&&(h.left+="px"),c.css(h))}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){S.offset.setOffset(this,t,e)}));var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===S.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===S.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((r=S(t).offset()).top+=S.css(t,"borderTopWidth",!0),r.left+=S.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-S.css(i,"marginTop",!0),left:e.left-r.left-S.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===S.css(t,"position");)t=t.offsetParent;return t||st}))}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var n="pageYOffset"===e;S.fn[t]=function(i){return W(this,(function(t,i,r){var o;if(_(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r)return o?o[e]:t[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r}),t,i,arguments.length)}})),S.each(["top","left"],(function(t,e){S.cssHooks[e]=Zt(v.pixelPosition,(function(t,n){if(n)return n=Gt(t,e),Vt.test(n)?S(t).position()[e]+"px":n}))})),S.each({Height:"height",Width:"width"},(function(t,e){S.each({padding:"inner"+t,content:e,"":"outer"+t},(function(n,i){S.fn[i]=function(r,o){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===o?"margin":"border");return W(this,(function(e,n,r){var o;return _(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?S.css(e,n,a):S.style(e,n,r,a)}),e,s?r:void 0,s)}}))})),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){S.fn[e]=function(t){return this.on(e,t)}})),S.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){S.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}));var Ke=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;S.proxy=function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),m(t))return i=a.call(arguments,2),r=function(){return t.apply(e||this,i.concat(a.call(arguments)))},r.guid=t.guid=t.guid||S.guid++,r},S.holdReady=function(t){t?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=N,S.isFunction=m,S.isWindow=_,S.camelCase=J,S.type=x,S.now=Date.now,S.isNumeric=function(t){var e=S.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},S.trim=function(t){return null==t?"":(t+"").replace(Ke,"")},void 0===(i=function(){return S}.apply(e,[]))||(t.exports=i);var Xe=n.jQuery,Ye=n.$;return S.noConflict=function(t){return n.$===S&&(n.$=Ye),t&&n.jQuery===S&&(n.jQuery=Xe),S},void 0===r&&(n.jQuery=n.$=S),S}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=function(){function t(){}return t.forceExperiment=function(e){t.forcedExperiment=e},t.startNewGame=function(){delete t.activeExperiments,delete t.surveys,delete t.experimentName,delete t.forceWord,delete t.showSurveryAtRound;var e="";if(t.forcedExperiment&&(t.experimentName="explanationsPilot3",e=t.forcedExperiment,!(window.innerWidth<750))){switch(e){case"noExplanation":t.activeExperiments={conditions:e,hideNeighbors:!0,hideExplanation:!0,hideGallery:!0};break;case"neighborsAndGallery":t.activeExperiments={conditions:e,hideNeighbors:!1,hideExplanation:!1,hideGallery:!1};break;case"neighborsOnly":t.activeExperiments={conditions:e,hideNeighbors:!1,hideExplanation:!1,hideGallery:!0};break;case"galleryOnly":t.activeExperiments={conditions:e,hideNeighbors:!0,hideExplanation:!1,hideGallery:!1};break;default:return}t.showSurveryAtRound=1,t.forceWord={1:["paintbrush","toe","avocado"]},t.experimentName="explanationsPilot3",ga("send","event","Experiment","name",t.experimentName),ga("send","event","Experiment","conditions",t.activeExperiments.conditions),t.surveys=[["understanding","I understand what the system is thinking.","I understand what the system is thinking.",["Strongly disagree<br>1","2","3","Neutral<br>4","5","6","Strongly agree<br>7"]],["attribution","The system seems benevolent (kind and wants to do good).","The system seems benevolent (kind and wants to do good).",["Strongly disagree<br>1","2","3","Neutral<br>4","5","6","Strongly agree<br>7"]],["accuracy","The system seems capable.","The system seems capable.",["Strongly disagree<br>1","2","3","Neutral<br>4","5","6","Strongly agree<br>7"]],["attitude","The system recognized the drawing. In my opinion, this result was:","The system did not recognize the drawing. In my opinion, this result was: ",["Totally due to the recognizability of my drawing<br>1","2","3","About the same<br>4","5","6","Totally due to the system's level of capability<br>7"]]]}},t.endExperiment=function(){delete t.activeExperiments},t}()},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return o}));var i=n(52),r=n(0),o=function(){function e(){var e=this;this.langCode=(t("html").attr("lang")||"en_US").replace("-","_"),this.translations={},t.ajax({url:"/api/locale?code="+this.langCode,method:"GET",complete:function(t){var n;n=(n=t.responseText).replace(")]}',",""),n=JSON.parse(n),e.translations=n}})}return e.getInstance=function(){return this.instance||(e.instance=new e),e.instance},e.prototype.get=function(t){return this.translations[t]?this.translations[t]:"en_US"===this.getLocale()?t:void 0},e.prototype.getLocale=function(){return this.langCode},e.prototype.getPhrase=function(t,e){var n;return n=i.a[this.langCode]&&i.a[this.langCode][t]?i.a[this.langCode][t]:i.a.en_US[t],e&&r.e(e,(function(t){n=n.replace(/%\(.*?\)/,t)})),n},e}()}).call(this,n(4))},function(t,e,n){"use strict";var i=n(0),r=function(){function t(){this.listeners={}}return t.prototype.addListener=function(t,e){i.c.has(this.listeners,t)||(this.listeners[t]=[]),this.listeners[t].push(e)},t.prototype.isFunction=function(t){return"function"==typeof t||!1},t.prototype.removeListener=function(t,e){var n,i=this,r=this.listeners[t];return!!(r&&r.length&&(n=r.reduce((function(t,n,r){return i.isFunction(n)&&n===e?t=r:t}),-1))>-1)&&(r.splice(n,1),this.listeners[t]=r,!0)},t.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=this.listeners[t];return!(!i||!i.length)&&(i.forEach((function(t){t.apply(void 0,e)})),!0)},t}();e.a=r},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},i(t,e)};function r(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}},function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"default",(function(){return m})),n.d(e,"VERSION",(function(){return _})),n.d(e,"iteratee",(function(){return b})),n.d(e,"restArguments",(function(){return C})),n.d(e,"each",(function(){return M})),n.d(e,"forEach",(function(){return M})),n.d(e,"map",(function(){return z})),n.d(e,"collect",(function(){return z})),n.d(e,"reduce",(function(){return O})),n.d(e,"foldl",(function(){return O})),n.d(e,"inject",(function(){return O})),n.d(e,"reduceRight",(function(){return j})),n.d(e,"foldr",(function(){return j})),n.d(e,"find",(function(){return D})),n.d(e,"detect",(function(){return D})),n.d(e,"filter",(function(){return L})),n.d(e,"select",(function(){return L})),n.d(e,"reject",(function(){return R})),n.d(e,"every",(function(){return q})),n.d(e,"all",(function(){return q})),n.d(e,"some",(function(){return B})),n.d(e,"any",(function(){return B})),n.d(e,"contains",(function(){return F})),n.d(e,"includes",(function(){return F})),n.d(e,"include",(function(){return F})),n.d(e,"invoke",(function(){return V})),n.d(e,"pluck",(function(){return H})),n.d(e,"where",(function(){return U})),n.d(e,"findWhere",(function(){return W})),n.d(e,"max",(function(){return G})),n.d(e,"min",(function(){return Z})),n.d(e,"shuffle",(function(){return $})),n.d(e,"sample",(function(){return J})),n.d(e,"sortBy",(function(){return Q})),n.d(e,"groupBy",(function(){return X})),n.d(e,"indexBy",(function(){return Y})),n.d(e,"countBy",(function(){return tt})),n.d(e,"toArray",(function(){return nt})),n.d(e,"size",(function(){return it})),n.d(e,"partition",(function(){return rt})),n.d(e,"first",(function(){return ot})),n.d(e,"head",(function(){return ot})),n.d(e,"take",(function(){return ot})),n.d(e,"initial",(function(){return st})),n.d(e,"last",(function(){return at})),n.d(e,"rest",(function(){return ut})),n.d(e,"tail",(function(){return ut})),n.d(e,"drop",(function(){return ut})),n.d(e,"compact",(function(){return lt})),n.d(e,"flatten",(function(){return ht})),n.d(e,"without",(function(){return dt})),n.d(e,"uniq",(function(){return ft})),n.d(e,"unique",(function(){return ft})),n.d(e,"union",(function(){return pt})),n.d(e,"intersection",(function(){return gt})),n.d(e,"difference",(function(){return vt})),n.d(e,"unzip",(function(){return mt})),n.d(e,"zip",(function(){return _t})),n.d(e,"object",(function(){return wt})),n.d(e,"findIndex",(function(){return bt})),n.d(e,"findLastIndex",(function(){return xt})),n.d(e,"sortedIndex",(function(){return Ct})),n.d(e,"indexOf",(function(){return kt})),n.d(e,"lastIndexOf",(function(){return Tt})),n.d(e,"range",(function(){return Pt})),n.d(e,"chunk",(function(){return At})),n.d(e,"bind",(function(){return Nt})),n.d(e,"partial",(function(){return Mt})),n.d(e,"bindAll",(function(){return zt})),n.d(e,"memoize",(function(){return Et})),n.d(e,"delay",(function(){return Ot})),n.d(e,"defer",(function(){return jt})),n.d(e,"throttle",(function(){return Dt})),n.d(e,"debounce",(function(){return Lt})),n.d(e,"wrap",(function(){return Rt})),n.d(e,"negate",(function(){return qt})),n.d(e,"compose",(function(){return Bt})),n.d(e,"after",(function(){return Ft})),n.d(e,"before",(function(){return Vt})),n.d(e,"once",(function(){return Ht})),n.d(e,"keys",(function(){return Zt})),n.d(e,"allKeys",(function(){return $t})),n.d(e,"values",(function(){return Jt})),n.d(e,"mapObject",(function(){return Qt})),n.d(e,"pairs",(function(){return Kt})),n.d(e,"invert",(function(){return Xt})),n.d(e,"functions",(function(){return Yt})),n.d(e,"methods",(function(){return Yt})),n.d(e,"extend",(function(){return ee})),n.d(e,"extendOwn",(function(){return ne})),n.d(e,"assign",(function(){return ne})),n.d(e,"findKey",(function(){return ie})),n.d(e,"pick",(function(){return oe})),n.d(e,"omit",(function(){return se})),n.d(e,"defaults",(function(){return ae})),n.d(e,"create",(function(){return ue})),n.d(e,"clone",(function(){return le})),n.d(e,"tap",(function(){return ce})),n.d(e,"isMatch",(function(){return he})),n.d(e,"isEqual",(function(){return fe})),n.d(e,"isEmpty",(function(){return pe})),n.d(e,"isElement",(function(){return ge})),n.d(e,"isArray",(function(){return me})),n.d(e,"isObject",(function(){return _e})),n.d(e,"isArguments",(function(){return we})),n.d(e,"isFunction",(function(){return ye})),n.d(e,"isString",(function(){return be})),n.d(e,"isNumber",(function(){return xe})),n.d(e,"isDate",(function(){return Ce})),n.d(e,"isRegExp",(function(){return Se})),n.d(e,"isError",(function(){return ke})),n.d(e,"isSymbol",(function(){return Te})),n.d(e,"isMap",(function(){return Pe})),n.d(e,"isWeakMap",(function(){return Ae})),n.d(e,"isSet",(function(){return Ie})),n.d(e,"isWeakSet",(function(){return Ne})),n.d(e,"isFinite",(function(){return ze})),n.d(e,"isNaN",(function(){return Ee})),n.d(e,"isBoolean",(function(){return Oe})),n.d(e,"isNull",(function(){return je})),n.d(e,"isUndefined",(function(){return De})),n.d(e,"has",(function(){return Le})),n.d(e,"identity",(function(){return Re})),n.d(e,"constant",(function(){return qe})),n.d(e,"noop",(function(){return Be})),n.d(e,"property",(function(){return Fe})),n.d(e,"propertyOf",(function(){return Ve})),n.d(e,"matcher",(function(){return He})),n.d(e,"matches",(function(){return He})),n.d(e,"times",(function(){return Ue})),n.d(e,"random",(function(){return We})),n.d(e,"now",(function(){return Ge})),n.d(e,"escape",(function(){return Qe})),n.d(e,"unescape",(function(){return Ke})),n.d(e,"result",(function(){return Xe})),n.d(e,"uniqueId",(function(){return tn})),n.d(e,"templateSettings",(function(){return en})),n.d(e,"template",(function(){return an})),n.d(e,"chain",(function(){return un})),n.d(e,"mixin",(function(){return cn}));var i="object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t||Function("return this")()||{},r=Array.prototype,o=Object.prototype,s="undefined"!=typeof Symbol?Symbol.prototype:null,a=r.push,u=r.slice,l=o.toString,c=o.hasOwnProperty,h=Array.isArray,d=Object.keys,f=Object.create,p=i.isNaN,g=i.isFinite,v=function(){};function m(t){return t instanceof m?t:this instanceof m?void(this._wrapped=t):new m(t)}var _=m.VERSION="1.10.2";function w(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)}}return function(){return t.apply(e,arguments)}}function y(t,e,n){return null==t?Re:ye(t)?w(t,e,n):_e(t)&&!me(t)?He(t):Fe(t)}function b(t,e){return y(t,e,1/0)}function x(t,e,n){return m.iteratee!==b?m.iteratee(t,e):y(t,e,n)}function C(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),i=Array(n),r=0;r<n;r++)i[r]=arguments[r+e];switch(e){case 0:return t.call(this,i);case 1:return t.call(this,arguments[0],i);case 2:return t.call(this,arguments[0],arguments[1],i)}var o=Array(e+1);for(r=0;r<e;r++)o[r]=arguments[r];return o[e]=i,t.apply(this,o)}}function S(t){if(!_e(t))return{};if(f)return f(t);v.prototype=t;var e=new v;return v.prototype=null,e}function k(t){return function(e){return null==e?void 0:e[t]}}function T(t,e){return null!=t&&c.call(t,e)}function P(t,e){for(var n=e.length,i=0;i<n;i++){if(null==t)return;t=t[e[i]]}return n?t:void 0}m.iteratee=b;var A=Math.pow(2,53)-1,I=k("length");function N(t){var e=I(t);return"number"==typeof e&&e>=0&&e<=A}function M(t,e,n){var i,r;if(e=w(e,n),N(t))for(i=0,r=t.length;i<r;i++)e(t[i],i,t);else{var o=Zt(t);for(i=0,r=o.length;i<r;i++)e(t[o[i]],o[i],t)}return t}function z(t,e,n){e=x(e,n);for(var i=!N(t)&&Zt(t),r=(i||t).length,o=Array(r),s=0;s<r;s++){var a=i?i[s]:s;o[s]=e(t[a],a,t)}return o}function E(t){var e=function(e,n,i,r){var o=!N(e)&&Zt(e),s=(o||e).length,a=t>0?0:s-1;for(r||(i=e[o?o[a]:a],a+=t);a>=0&&a<s;a+=t){var u=o?o[a]:a;i=n(i,e[u],u,e)}return i};return function(t,n,i,r){var o=arguments.length>=3;return e(t,w(n,r,4),i,o)}}var O=E(1),j=E(-1);function D(t,e,n){var i=(N(t)?bt:ie)(t,e,n);if(void 0!==i&&-1!==i)return t[i]}function L(t,e,n){var i=[];return e=x(e,n),M(t,(function(t,n,r){e(t,n,r)&&i.push(t)})),i}function R(t,e,n){return L(t,qt(x(e)),n)}function q(t,e,n){e=x(e,n);for(var i=!N(t)&&Zt(t),r=(i||t).length,o=0;o<r;o++){var s=i?i[o]:o;if(!e(t[s],s,t))return!1}return!0}function B(t,e,n){e=x(e,n);for(var i=!N(t)&&Zt(t),r=(i||t).length,o=0;o<r;o++){var s=i?i[o]:o;if(e(t[s],s,t))return!0}return!1}function F(t,e,n,i){return N(t)||(t=Jt(t)),("number"!=typeof n||i)&&(n=0),kt(t,e,n)>=0}var V=C((function(t,e,n){var i,r;return ye(e)?r=e:me(e)&&(i=e.slice(0,-1),e=e[e.length-1]),z(t,(function(t){var o=r;if(!o){if(i&&i.length&&(t=P(t,i)),null==t)return;o=t[e]}return null==o?o:o.apply(t,n)}))}));function H(t,e){return z(t,Fe(e))}function U(t,e){return L(t,He(e))}function W(t,e){return D(t,He(e))}function G(t,e,n){var i,r,o=-1/0,s=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,u=(t=N(t)?t:Jt(t)).length;a<u;a++)null!=(i=t[a])&&i>o&&(o=i);else e=x(e,n),M(t,(function(t,n,i){((r=e(t,n,i))>s||r===-1/0&&o===-1/0)&&(o=t,s=r)}));return o}function Z(t,e,n){var i,r,o=1/0,s=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,u=(t=N(t)?t:Jt(t)).length;a<u;a++)null!=(i=t[a])&&i<o&&(o=i);else e=x(e,n),M(t,(function(t,n,i){((r=e(t,n,i))<s||r===1/0&&o===1/0)&&(o=t,s=r)}));return o}function $(t){return J(t,1/0)}function J(t,e,n){if(null==e||n)return N(t)||(t=Jt(t)),t[We(t.length-1)];var i=N(t)?le(t):Jt(t),r=I(i);e=Math.max(Math.min(e,r),0);for(var o=r-1,s=0;s<e;s++){var a=We(s,o),u=i[s];i[s]=i[a],i[a]=u}return i.slice(0,e)}function Q(t,e,n){var i=0;return e=x(e,n),H(z(t,(function(t,n,r){return{value:t,index:i++,criteria:e(t,n,r)}})).sort((function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index})),"value")}function K(t,e){return function(n,i,r){var o=e?[[],[]]:{};return i=x(i,r),M(n,(function(e,r){var s=i(e,r,n);t(o,e,s)})),o}}var X=K((function(t,e,n){T(t,n)?t[n].push(e):t[n]=[e]})),Y=K((function(t,e,n){t[n]=e})),tt=K((function(t,e,n){T(t,n)?t[n]++:t[n]=1})),et=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function nt(t){return t?me(t)?u.call(t):be(t)?t.match(et):N(t)?z(t,Re):Jt(t):[]}function it(t){return null==t?0:N(t)?t.length:Zt(t).length}var rt=K((function(t,e,n){t[n?0:1].push(e)}),!0);function ot(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[0]:st(t,t.length-e)}function st(t,e,n){return u.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))}function at(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[t.length-1]:ut(t,Math.max(0,t.length-e))}function ut(t,e,n){return u.call(t,null==e||n?1:e)}function lt(t){return L(t,Boolean)}function ct(t,e,n,i){for(var r=(i=i||[]).length,o=0,s=I(t);o<s;o++){var a=t[o];if(N(a)&&(me(a)||we(a)))if(e)for(var u=0,l=a.length;u<l;)i[r++]=a[u++];else ct(a,e,n,i),r=i.length;else n||(i[r++]=a)}return i}function ht(t,e){return ct(t,e,!1)}var dt=C((function(t,e){return vt(t,e)}));function ft(t,e,n,i){Oe(e)||(i=n,n=e,e=!1),null!=n&&(n=x(n,i));for(var r=[],o=[],s=0,a=I(t);s<a;s++){var u=t[s],l=n?n(u,s,t):u;e&&!n?(s&&o===l||r.push(u),o=l):n?F(o,l)||(o.push(l),r.push(u)):F(r,u)||r.push(u)}return r}var pt=C((function(t){return ft(ct(t,!0,!0))}));function gt(t){for(var e=[],n=arguments.length,i=0,r=I(t);i<r;i++){var o=t[i];if(!F(e,o)){var s;for(s=1;s<n&&F(arguments[s],o);s++);s===n&&e.push(o)}}return e}var vt=C((function(t,e){return e=ct(e,!0,!0),L(t,(function(t){return!F(e,t)}))}));function mt(t){for(var e=t&&G(t,I).length||0,n=Array(e),i=0;i<e;i++)n[i]=H(t,i);return n}var _t=C(mt);function wt(t,e){for(var n={},i=0,r=I(t);i<r;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n}function yt(t){return function(e,n,i){n=x(n,i);for(var r=I(e),o=t>0?0:r-1;o>=0&&o<r;o+=t)if(n(e[o],o,e))return o;return-1}}var bt=yt(1),xt=yt(-1);function Ct(t,e,n,i){for(var r=(n=x(n,i,1))(e),o=0,s=I(t);o<s;){var a=Math.floor((o+s)/2);n(t[a])<r?o=a+1:s=a}return o}function St(t,e,n){return function(i,r,o){var s=0,a=I(i);if("number"==typeof o)t>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return i[o=n(i,r)]===r?o:-1;if(r!=r)return(o=e(u.call(i,s,a),Ee))>=0?o+s:-1;for(o=t>0?s:a-1;o>=0&&o<a;o+=t)if(i[o]===r)return o;return-1}}var kt=St(1,bt,Ct),Tt=St(-1,xt);function Pt(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;o<i;o++,t+=n)r[o]=t;return r}function At(t,e){if(null==e||e<1)return[];for(var n=[],i=0,r=t.length;i<r;)n.push(u.call(t,i,i+=e));return n}function It(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var o=S(t.prototype),s=t.apply(o,r);return _e(s)?s:o}var Nt=C((function(t,e,n){if(!ye(t))throw new TypeError("Bind must be called on a function");var i=C((function(r){return It(t,i,e,this,n.concat(r))}));return i})),Mt=C((function(t,e){var n=Mt.placeholder,i=function(){for(var r=0,o=e.length,s=Array(o),a=0;a<o;a++)s[a]=e[a]===n?arguments[r++]:e[a];for(;r<arguments.length;)s.push(arguments[r++]);return It(t,i,this,this,s)};return i}));Mt.placeholder=m;var zt=C((function(t,e){var n=(e=ct(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var i=e[n];t[i]=Nt(t[i],t)}}));function Et(t,e){var n=function(i){var r=n.cache,o=""+(e?e.apply(this,arguments):i);return T(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return n.cache={},n}var Ot=C((function(t,e,n){return setTimeout((function(){return t.apply(null,n)}),e)})),jt=Mt(Ot,m,1);function Dt(t,e,n){var i,r,o,s,a=0;n||(n={});var u=function(){a=!1===n.leading?0:Ge(),i=null,s=t.apply(r,o),i||(r=o=null)},l=function(){var l=Ge();a||!1!==n.leading||(a=l);var c=e-(l-a);return r=this,o=arguments,c<=0||c>e?(i&&(clearTimeout(i),i=null),a=l,s=t.apply(r,o),i||(r=o=null)):i||!1===n.trailing||(i=setTimeout(u,c)),s};return l.cancel=function(){clearTimeout(i),a=0,i=r=o=null},l}function Lt(t,e,n){var i,r,o=function(e,n){i=null,n&&(r=t.apply(e,n))},s=C((function(s){if(i&&clearTimeout(i),n){var a=!i;i=setTimeout(o,e),a&&(r=t.apply(this,s))}else i=Ot(o,e,this,s);return r}));return s.cancel=function(){clearTimeout(i),i=null},s}function Rt(t,e){return Mt(e,t)}function qt(t){return function(){return!t.apply(this,arguments)}}function Bt(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}}function Ft(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}function Vt(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}var Ht=Mt(Vt,2),Ut=!{toString:null}.propertyIsEnumerable("toString"),Wt=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function Gt(t,e){var n=Wt.length,i=t.constructor,r=ye(i)&&i.prototype||o,s="constructor";for(T(t,s)&&!F(e,s)&&e.push(s);n--;)(s=Wt[n])in t&&t[s]!==r[s]&&!F(e,s)&&e.push(s)}function Zt(t){if(!_e(t))return[];if(d)return d(t);var e=[];for(var n in t)T(t,n)&&e.push(n);return Ut&&Gt(t,e),e}function $t(t){if(!_e(t))return[];var e=[];for(var n in t)e.push(n);return Ut&&Gt(t,e),e}function Jt(t){for(var e=Zt(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=t[e[r]];return i}function Qt(t,e,n){e=x(e,n);for(var i=Zt(t),r=i.length,o={},s=0;s<r;s++){var a=i[s];o[a]=e(t[a],a,t)}return o}function Kt(t){for(var e=Zt(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=[e[r],t[e[r]]];return i}function Xt(t){for(var e={},n=Zt(t),i=0,r=n.length;i<r;i++)e[t[n[i]]]=n[i];return e}function Yt(t){var e=[];for(var n in t)ye(t[n])&&e.push(n);return e.sort()}function te(t,e){return function(n){var i=arguments.length;if(e&&(n=Object(n)),i<2||null==n)return n;for(var r=1;r<i;r++)for(var o=arguments[r],s=t(o),a=s.length,u=0;u<a;u++){var l=s[u];e&&void 0!==n[l]||(n[l]=o[l])}return n}}var ee=te($t),ne=te(Zt);function ie(t,e,n){e=x(e,n);for(var i,r=Zt(t),o=0,s=r.length;o<s;o++)if(e(t[i=r[o]],i,t))return i}function re(t,e,n){return e in n}var oe=C((function(t,e){var n={},i=e[0];if(null==t)return n;ye(i)?(e.length>1&&(i=w(i,e[1])),e=$t(t)):(i=re,e=ct(e,!1,!1),t=Object(t));for(var r=0,o=e.length;r<o;r++){var s=e[r],a=t[s];i(a,s,t)&&(n[s]=a)}return n})),se=C((function(t,e){var n,i=e[0];return ye(i)?(i=qt(i),e.length>1&&(n=e[1])):(e=z(ct(e,!1,!1),String),i=function(t,n){return!F(e,n)}),oe(t,i,n)})),ae=te($t,!0);function ue(t,e){var n=S(t);return e&&ne(n,e),n}function le(t){return _e(t)?me(t)?t.slice():ee({},t):t}function ce(t,e){return e(t),t}function he(t,e){var n=Zt(e),i=n.length;if(null==t)return!i;for(var r=Object(t),o=0;o<i;o++){var s=n[o];if(e[s]!==r[s]||!(s in r))return!1}return!0}function de(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var r=typeof t;return("function"===r||"object"===r||"object"==typeof e)&&function(t,e,n,i){t instanceof m&&(t=t._wrapped);e instanceof m&&(e=e._wrapped);var r=l.call(t);if(r!==l.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return s.valueOf.call(t)===s.valueOf.call(e)}var o="[object Array]"===r;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,u=e.constructor;if(a!==u&&!(ye(a)&&a instanceof a&&ye(u)&&u instanceof u)&&"constructor"in t&&"constructor"in e)return!1}i=i||[];var c=(n=n||[]).length;for(;c--;)if(n[c]===t)return i[c]===e;if(n.push(t),i.push(e),o){if((c=t.length)!==e.length)return!1;for(;c--;)if(!de(t[c],e[c],n,i))return!1}else{var h,d=Zt(t);if(c=d.length,Zt(e).length!==c)return!1;for(;c--;)if(!T(e,h=d[c])||!de(t[h],e[h],n,i))return!1}return n.pop(),i.pop(),!0}(t,e,n,i)}function fe(t,e){return de(t,e)}function pe(t){return null==t||(N(t)&&(me(t)||be(t)||we(t))?0===t.length:0===Zt(t).length)}function ge(t){return!(!t||1!==t.nodeType)}function ve(t){return function(e){return l.call(e)==="[object "+t+"]"}}var me=h||ve("Array");function _e(t){var e=typeof t;return"function"===e||"object"===e&&!!t}var we=ve("Arguments"),ye=ve("Function"),be=ve("String"),xe=ve("Number"),Ce=ve("Date"),Se=ve("RegExp"),ke=ve("Error"),Te=ve("Symbol"),Pe=ve("Map"),Ae=ve("WeakMap"),Ie=ve("Set"),Ne=ve("WeakSet");!function(){we(arguments)||(we=function(t){return T(t,"callee")})}();var Me=i.document&&i.document.childNodes;function ze(t){return!Te(t)&&g(t)&&!p(parseFloat(t))}function Ee(t){return xe(t)&&p(t)}function Oe(t){return!0===t||!1===t||"[object Boolean]"===l.call(t)}function je(t){return null===t}function De(t){return void 0===t}function Le(t,e){if(!me(e))return T(t,e);for(var n=e.length,i=0;i<n;i++){var r=e[i];if(null==t||!c.call(t,r))return!1;t=t[r]}return!!n}function Re(t){return t}function qe(t){return function(){return t}}function Be(){}function Fe(t){return me(t)?function(e){return P(e,t)}:k(t)}function Ve(t){return null==t?function(){}:function(e){return me(e)?P(t,e):t[e]}}function He(t){return t=ne({},t),function(e){return he(e,t)}}function Ue(t,e,n){var i=Array(Math.max(0,t));e=w(e,n,1);for(var r=0;r<t;r++)i[r]=e(r);return i}function We(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}"object"!=typeof Int8Array&&"function"!=typeof Me&&(ye=function(t){return"function"==typeof t||!1});var Ge=Date.now||function(){return(new Date).getTime()},Ze={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},$e=Xt(Ze);function Je(t){var e=function(e){return t[e]},n="(?:"+Zt(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,e):t}}var Qe=Je(Ze),Ke=Je($e);function Xe(t,e,n){me(e)||(e=[e]);var i=e.length;if(!i)return ye(n)?n.call(t):n;for(var r=0;r<i;r++){var o=null==t?void 0:t[e[r]];void 0===o&&(o=n,r=i),t=ye(o)?o.call(t):o}return t}var Ye=0;function tn(t){var e=++Ye+"";return t?t+e:e}var en=m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},nn=/(.)^/,rn={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},on=/\\|'|\r|\n|\u2028|\u2029/g,sn=function(t){return"\\"+rn[t]};function an(t,e,n){!e&&n&&(e=n),e=ae({},e,m.templateSettings);var i,r=RegExp([(e.escape||nn).source,(e.interpolate||nn).source,(e.evaluate||nn).source].join("|")+"|$","g"),o=0,s="__p+='";t.replace(r,(function(e,n,i,r,a){return s+=t.slice(o,a).replace(on,sn),o=a+e.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?s+="'+\n((__t=("+i+"))==null?'':__t)+\n'":r&&(s+="';\n"+r+"\n__p+='"),e})),s+="';\n",e.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{i=new Function(e.variable||"obj","_",s)}catch(t){throw t.source=s,t}var a=function(t){return i.call(this,t,m)},u=e.variable||"obj";return a.source="function("+u+"){\n"+s+"}",a}function un(t){var e=m(t);return e._chain=!0,e}function ln(t,e){return t._chain?m(e).chain():e}function cn(t){return M(Yt(t),(function(e){var n=m[e]=t[e];m.prototype[e]=function(){var t=[this._wrapped];return a.apply(t,arguments),ln(this,n.apply(m,t))}})),m}M(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=r[t];m.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],ln(this,n)}})),M(["concat","join","slice"],(function(t){var e=r[t];m.prototype[t]=function(){return ln(this,e.apply(this._wrapped,arguments))}})),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return String(this._wrapped)}}.call(this,n(54))},function(t,e,n){"use strict";(function(t){var i=n(0),r=function(){function e(){}return e.createSvg=function(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("width",t.toString()),n.setAttribute("height",e.toString()),n},e.createLinePath=function(t,e,n,i,r){if(void 0===e&&(e=[0,0]),void 0===n&&(n=1),void 0===i&&(i=2),void 0===r&&(r="#000000"),0!==t.length&&0!==t[0].length){for(var o=function(t,i){return(t-e[i])*n},s=document.createElementNS("http://www.w3.org/2000/svg","path"),a="M"+o(t[0][0],0)+" "+o(t[1][0],1),u=1;u<t[0].length;u++)a+=" L"+o(t[0][u],0)+" "+o(t[1][u],1);return s.setAttribute("d",a),s.setAttribute("stroke",r),s.setAttribute("stroke-width",i.toString()),s.setAttribute("stroke-linecap","round"),s.setAttribute("fill","none"),s}},e.calculateBoundingBox=function(t){for(var e=-1,n=-1,i=-1,r=-1,o=0;o<t.length;o++)for(var s=0;s<t[o][0].length;s++)(-1===e||e>t[o][0][s])&&(e=t[o][0][s]),(-1===n||n<t[o][0][s])&&(n=t[o][0][s]),(-1===i||i>t[o][1][s])&&(i=t[o][1][s]),(-1===r||r<t[o][1][s])&&(r=t[o][1][s]);return{x:e-5,y:i-5,w:n-e+10,h:r-i+10}},e.createSvgFromSegments=function(n,r,o,s){void 0===s&&(s={});var a=[];if(1===(s=i.c.defaults(s,{padding:0,order:0,color:"#000000"})).order)for(var u=0,l=n;u<l.length;u++){for(var c=[[],[]],h=0,d=l[u];h<d.length;h++){var f=d[h];c[0].push(f[0]),c[1].push(f[1])}a.push(c)}else n&&(a=n);r-=2*s.padding,o-=2*s.padding;var p,g=2*r/140,v=e.createSvg(r,o),m=e.calculateBoundingBox(a),_=r/o,w=[m.x,m.y];m.w/m.h>_?(p=r/m.w,w[1]-=.5*(o/p-m.h)):(p=o/m.h,w[0]-=.5*(r/p-m.w));for(var y=s.color,b=0,x=a;b<x.length;b++){var C=x[b];v.appendChild(e.createLinePath(C,w,p,g,y))}return s.padding&&t(v).addClass("svg-margin-"+s.padding),v},e}();e.a=r}).call(this,n(4))},function(t,e,n){"use strict";(function(t){function i(e,n){t(e).contents().each((function(){var e;if(1===this.nodeType)i(this);else if(3===this.nodeType){var r=null===(e=this.nodeValue)||void 0===e?void 0:e.trim();t(this).replaceWith(t.map(null==r?void 0:r.split(""),n).join(""))}}))}function r(e){e&&"en-US"===t("html").attr("lang")&&i(e,(function(t){var e=Math.ceil(3*Math.random());return"9"===t&&(e=2),'<span class="'+("font-hand-"+e)+'">'+t+"</span>"}))}n.d(e,"a",(function(){return r}))}).call(this,n(4))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return o}));var i=n(2),r=n(0),o=function(){function e(){}return e.processSegments=function(t,n,i){return e.sendRequest(t,{width:n,height:i})},e.getSimilarDrawings=function(t,n,i){return t&&0!==t.length?e.sendRequest(t,{similar_drawings:!0,width:n,height:i}):Promise.reject("No segments")},e.sendRequest=function(e,n){var r=this,o={input_type:0,requests:[{language:n.similar_drawings?"quickdraw-ink":"quickdraw"}]};return n.width&&(o.requests[0].writing_guide={width:n.width,height:n.height}),e&&(o.requests[0].ink=e),n.ink_hash&&(o.requests[0].ink_hash=n.ink_hash),n.feedback&&(o.requests[0].feedback=n.feedback,o.requests[0].select_type="feedback"),new Promise((function(e,s){t.post({url:n.feedback?i.a.handwriting_collector_url:i.a.handwriting_url,data:JSON.stringify(o),contentType:"application/json"}).fail((function(){s("Could not call classifier")})).done((function(t){"SUCCESS"===t[0]?n.feedback?e():e(r.parseResponse(t)):s("Could not process classifier response")}))}))},e.parseResponse=function(t){var e=JSON.parse(t[1][0][3].debug_info.match(/SCORESINKS: (.+) Combiner:/)[1]);return r.i(e,(function(e){return{word:e[0],score:e[1],id:t[1][0][0],neighbor:e[2]}}))},e}()}).call(this,n(4))},function(t,e,n){"use strict";(function(t){n.d(e,"d",(function(){return a})),n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return l})),n.d(e,"c",(function(){return c})),n.d(e,"e",(function(){return h})),n.d(e,"f",(function(){return d}));var i,r=n(6),o=n(2),s=n(15);function a(){return window.document.getElementsByTagName("html")[0].lang.replace("-","_")}function u(e,n,l){n||(n=[]);var c=function(){var t=r.a.getInstance();s.a.showErrorPopup(t.getPhrase("communication_error"),t.getPhrase("try_again")).then((function(){return u(e,n,l)}))};t.ajax({method:"post",url:"/api",data:{method:"newround",bwords:n.join(","),locale:a(),edition:o.a.edition},dataType:"json"}).done((function(t){if(!t.challenge)throw c(),new Error("Challenge missing from server response");i=t.uid,l(t)})).fail((function(t){throw c(),new Error("Could not fetch new round from server")}))}function l(e){return new Promise((function(n,i){t.ajax({method:"post",url:"/api",dataType:"json",data:{method:"gallery",word:e,locale:a(),edition:o.a.edition}}).done((function(t){t.images?n(t.images):i("Could not fetch gallery")}))}))}function c(e){var n=r.a.getInstance();return new Promise((function(i,r){t.ajax({method:"post",url:"/api",dataType:"json",data:{method:"share",rounds:JSON.stringify(e),locale:a(),edition:o.a.edition}}).done((function(t){i(t)})).fail((function(t){s.a.showErrorPopup(n.getPhrase("share_error"),n.getPhrase("try_again")),r(t)}))}))}function h(e,n){var r=1;return e.level>3&&(r=2),new Promise((function(s,l){t.ajax({method:"post",url:"/api",dataType:"json",data:{method:"roundresult",uid:i,round:e.level,image:JSON.stringify(e.drawing),word:e.word,duration:e.getElapsedTime(),level:r,recognized:e.recognized,recognitionId:e.recognitionId,bwords:n.join(","),locale:a(),edition:o.a.edition}}).done((function(t){t.challenge||l(new Error("Challenge missing from server response")),i=t.uid,s(t)})).fail((function(){u(e.level+1,n,s)}))}))}function d(e){return new Promise((function(n,i){e.method="survey",t.ajax({method:"post",url:"/api",dataType:"json",data:e})}))}}).call(this,n(4))},function(t,e,n){"use strict";(function(t){var i=n(2),r=n(13),o=n(15),s=n(6),a=n(0),u=function(){function e(){}return e.siteShareText=function(){return s.a.getInstance().getPhrase("share")},e.siteShareHashtags=function(){return"#aiexperiments #quickdraw"},e.portfolioShareTitle=function(t){var e=a.c.reduce(t,(function(t,e){return t+(e.recognized?1:0)}),0);return s.a.getInstance().getPhrase("share_portfolio",[["none","one","two","three","four","five","all"][e]])},e.portfolioShareDescription=function(){return s.a.getInstance().getPhrase("share_portfolio_desc")},e.siteShareUrl=function(){return i.a.edition?"https://"+i.a.site_url+"/"+i.a.edition:"https://"+i.a.site_url},e.siteShareLanguage=function(){var e=t("html").attr("lang"),n="";return"en-US"!==e&&(n="?locale="+(null==e?void 0:e.replace("-","_"))),n},e.siteShareUrlSlug=function(t){return this.siteShareUrl()+"/shared/"+t+this.siteShareLanguage()},e.openUrl=function(e){var n=t(window);window.open(e,"","height=450, width=550, top="+(n.height()||-275)+", left="+(n.width()||-225)+", toolbar=0, location=0, menubar=0, directories=0, scrollbars=0")},e.getShareUrl=function(t){var e=this;this.shareUrlCache||(this.shareUrlCache={});var n=a.c.pluck(t,"key").join("");if(this.shareUrlCache[n])return Promise.resolve(this.shareUrlCache[n]);var i=s.a.getInstance(),u=o.a.showSharingLoadingPopup(i.getPhrase("preparing"),!0);return Object(r.c)(a.c.pluck(t,"key")).then((function(t){return e.shareUrlCache[n]=t,u().then((function(){return t}))}))},e.ShareSiteTwitter=function(){e.openUrl("https://twitter.com/intent/tweet?text="+encodeURIComponent(e.siteShareText())+"&url="+e.siteShareUrl()),ga("send","event","Sharing","ShareSiteTwitter"),ga("send","social","twitter","share site",e.siteShareUrl())},e.ShareSiteFacebook=function(){var t="https://www.facebook.com/dialog/feed?app_id=1657991857848712";t+="&display=popup&amp;caption=Share your portfolio",t+="&link="+e.siteShareUrl(),t+="&name=Quick, Draw!",t+="&caption=QUICKDRAW.WITHGOOGLE.COM",t+="&description="+e.siteShareText(),t+="&picture="+e.siteShareUrl()+"/static/shareimg.png",e.openUrl(t),ga("send","event","Sharing","ShareSiteFacebook"),ga("send","social","facebook","share site",e.siteShareUrl())},e.ShareSiteG=function(){e.openUrl("https://plus.google.com/share?url="+e.siteShareUrl()),ga("send","event","Sharing","ShareSiteoG"),ga("send","social","g+","share site",e.siteShareUrl())},e.SharePortfolioTwitter=function(t){e.getShareUrl(t).then((function(n){e.openUrl("https://twitter.com/intent/tweet?text="+encodeURIComponent(e.portfolioShareTitle(t))+"&url="+e.siteShareUrlSlug(n.slug)),ga("send","social","twitter","share portfolio",e.siteShareUrlSlug(n.slug))})).catch((function(){})),ga("send","event","Sharing","SharePortfolioTwitter")},e.SharePortfolioFacebook=function(t){e.getShareUrl(t).then((function(n){var i="https://www.facebook.com/dialog/feed?app_id=1657991857848712";i+="&display=popup&amp;caption=Share your portfolio",i+="&link="+e.siteShareUrlSlug(n.slug),i+="&name="+e.portfolioShareTitle(t),i+="&caption=QUICKDRAW.WITHGOOGLE.COM",i+="&description="+e.portfolioShareDescription(),e.openUrl(i),ga("send","social","facebook","share portfolio",e.siteShareUrlSlug(n.slug))})).catch((function(){})),ga("send","event","Sharing","SharePortfolioFacebook")},e.SharePortfolioG=function(t){e.getShareUrl(t).then((function(t){e.openUrl("https://plus.google.com/share?url="+e.siteShareUrlSlug(t.slug)),ga("send","social","g+","share portfolio",e.siteShareUrlSlug(t.slug))})).catch((function(){})),ga("send","event","Sharing","SharePortfolioG")},e.shareUrlCache={},e}();e.a=u}).call(this,n(4))},function(t,e,n){"use strict";(function(t){var i=n(8),r=n(7),o=n(11),s=n(6),a=function(e){function n(){var n=e.call(this)||this;return n.translations=s.a.getInstance(),n.popupQuitView=t("#popup-quit").hide(),n.popupMessageView=t("#popup-message").hide(),n}return Object(i.a)(n,e),n.getInstance=function(){return this.instance||(n.instance=new n),n.instance},n.prototype.showQuitPopup=function(){var t=this;return new Promise((function(e,n){var i,r,o;null===(i=t.popupQuitView)||void 0===i||i.show(),null===(r=t.popupQuitView)||void 0===r||r.find("#popup-quit-cancel").off("click").on("click",(function(){var e;null===(e=t.popupQuitView)||void 0===e||e.hide(),n()})),null===(o=t.popupQuitView)||void 0===o||o.find("#popup-quit-quit").off("click").on("click",(function(){var n;null===(n=t.popupQuitView)||void 0===n||n.hide(),e()}))}))},n.showErrorPopup=function(t,e){var n=this;return void 0===e&&(e="Reload"),new Promise((function(i){var r,s,a;null===(r=n.getInstance().popupMessageView)||void 0===r||r.show();var u=null===(s=n.getInstance().popupMessageView)||void 0===s?void 0:s.find("#popup-message-text");null==u||u.html(t),Object(o.a)(u);var l=null===(a=n.getInstance().popupMessageView)||void 0===a?void 0:a.find("#popup-message-button");null==l||l.show(),null==l||l.find("span").html(e),null==l||l.off("click").on("click",(function(){var t;null===(t=n.getInstance().popupMessageView)||void 0===t||t.hide(),i()}))}))},n.showSharingLoadingPopup=function(t,e){var n,i,r,a=this,u=s.a.getInstance();null===(n=this.getInstance().popupMessageView)||void 0===n||n.show();var l=null===(i=this.getInstance().popupMessageView)||void 0===i?void 0:i.find("#popup-message-text");null==l||l.html(t),Object(o.a)(l);var c=null===(r=this.getInstance().popupMessageView)||void 0===r?void 0:r.find("#popup-message-button");return null==c||c.hide(),function(){return new Promise((function(t,n){var i,r;e?(null==c||c.show(),null==c||c.find("span").html(u.getPhrase("popup_share")),null==l||l.html(u.getPhrase("popup_share_ready")),Object(o.a)(l),null===(i=a.getInstance().popupMessageView)||void 0===i||i.off("click").on("click",(function(){var t;null===(t=a.getInstance().popupMessageView)||void 0===t||t.hide(),n()})),null==c||c.off("click").on("click",(function(){var e;null===(e=a.getInstance().popupMessageView)||void 0===e||e.hide(),t()}))):(null===(r=a.getInstance().popupMessageView)||void 0===r||r.hide(),t())}))}},n}(r.a);e.a=a}).call(this,n(4))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return g}));var i=n(8),r=n(7),o=n(11),s=n(2),a=n(10),u=n(58),l=n(14),c=n(13),h=n(12),d=n(6),f=n(5),p=n(0),g=function(e){function n(){var n=e.call(this)||this;return n.translations=d.a.getInstance(),n.newroundCard=t("#newround-card").hide(),n.timesupCard=t("#timesup-card").hide(),n.aboutCard=t("#about-card").hide(),n.roundDetailCard=t("#round-detail-card").hide(),n.surveyCard=t("#survey-card").hide(),n}return Object(i.a)(n,e),n.prototype.showCard=function(t,e){t.isVisible=!0,t.show({duration:0,complete:function(){t.addClass("visible"),e&&e()}})},n.prototype.hideCard=function(t,e){t.isVisible=!1,t.hasClass("visible")&&(t.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",(function(){t.hide(),t.off("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),e&&e()})),t.removeClass("visible"))},n.prototype.showNewRoundCard=function(e){var n=this;e=p.c.defaults(e||{},{level:1,word:void 0,mode:void 0});var i=p.c.once((function(){e.onCardDismiss&&e.onCardDismiss(),n.hideCard(n.newroundCard)}));this.showCard(this.newroundCard),this.newroundCard.find("#newround-skipped").hide(),this.newroundCard.find("#newround-completed").hide(),this.newroundCard.find("#newround-timesup").hide(),this.newroundCard.find("#newround-default").show(),t("#challengetext-level").html(this.translations.getPhrase("drawing")+" "+e.level+"/"+s.a.num_rounds);var r=t("#challengetext-word");r.text(""+e.word),Object(o.a)(r),setTimeout((function(){n.newroundCard.on("click",(function(){return i()})),n.newroundCard.find("#button-newround-play").focus().off("click").on("click",(function(){return i()}))}),1e3)},n.prototype.showTimesUpCard=function(e,n){var i=this;ga("send","event","ShowEndCard"),n||(n=function(){}),this.hideCard(this.newroundCard);var r=p.c.once(n),u=p.c.filter(e,(function(t){return!0===t.recognized})).length;this.showCard(this.timesupCard);var c=this.timesupCard.find("#timesup-title");0===u?(c.text(this.translations.getPhrase("oops")),this.timesupCard.find("#timesup-subtitle").html(this.translations.getPhrase("something_else"))):(u<s.a.num_rounds?this.timesupCard.find("#timesup-subtitle").html(this.translations.getPhrase("what_it_saw",[u,s.a.num_rounds-u])):this.timesupCard.find("#timesup-subtitle").html(this.translations.getPhrase("how",[u])),c.text(this.translations.getPhrase("well_drawn"))),Object(o.a)(c);var h=this.timesupCard.find("#timesup-drawings-wrapper");h.html("");for(var d=function(e){var n=t("<div>").addClass("timesup-round").addClass("button").addClass("button-drawing"),r=t("<button>").addClass("timesup-drawing"),o=t("<div>").addClass("timesup-drawing-neighbor"),s=t("<div>").addClass("timesup-drawing-status");e.recognized?s.text("✓ "+f.translations.get(e.word)):s.text("✕ "+f.translations.get(e.word)),r.on("click",(function(){return i.showRoundDetails(e)})),r.append(s);var u=a.a.createSvgFromSegments(e.drawing,180,120,{padding:25});r.append(u),n.append(r),n.append(o),h.append(n)},f=this,g=0,v=e;g<v.length;g++){d(v[g])}this.timesupCard.find("#share_portfolio_twitter").off("click").on("click",(function(){l.a.SharePortfolioTwitter(e)})),this.timesupCard.find("#share_portfolio_facebook").off("click").on("click",(function(){l.a.SharePortfolioFacebook(e)})),this.timesupCard.find("#share_portfolio_g").off("click").on("click",(function(){l.a.SharePortfolioG(e)})),this.timesupCard.find(".button-close").off("click").on("click",(function(){n&&r("CLOSE"),i.hideCard(i.timesupCard)})),t("#button-timesup-play").off("click").on("click",(function(){n&&r("NEW_GAME"),i.hideCard(i.timesupCard)})),ga("send","screenview",{screenName:"TimesUpCard"})},n.prototype.showRoundDetails=function(t,e){var n=this;return e=p.c.defaults(e||{},{nextButton:!1}),new Promise((function(i,r){ga("send","event","ShowRoundDetail"),n.roundDetailCard.find("#gallery-wrapper").html(""),n.roundDetailCard.find("#round-gallery").hide(),n.roundDetailCard.find("#round-gallery-line").hide(),n.roundDetailCard.find("#round-neighbors").hide(),n.roundDetailCard.find("#round-neighbors-line").hide();var s=n.roundDetailCard.find("#round-details-word");s.text(n.translations.get(t.word)),Object(o.a)(s),t.recognized?(n.roundDetailCard.find("#round-details-subtitle-not-recognized").hide(),n.roundDetailCard.find("#round-details-subtitle-recognized").show(),n.roundDetailCard.find("#round-details-not-recognized").hide(),n.roundDetailCard.find("#round-details-recognized").show()):(n.roundDetailCard.find("#round-details-subtitle-not-recognized").show(),n.roundDetailCard.find("#round-details-subtitle-recognized").hide(),n.roundDetailCard.find("#round-details-not-recognized").show(),n.roundDetailCard.find("#round-details-recognized").hide());var l=a.a.createSvgFromSegments(t.drawing,270,180,{padding:10,color:"rgba(0,0,0,1.00)"}),c=n.roundDetailCard.find("#round-drawing").find(".round-drawing");c.html(""),c.append(l),f.a.activeExperiments?f.a.activeExperiments.hideNeighbors?f.a.activeExperiments.hideGallery||n.fetchAndShowGallery(t):n.fetchAndShowDrawingNeighbors(t).then((function(){f.a.activeExperiments.hideGallery||n.fetchAndShowGallery(t)})):n.fetchAndShowDrawingNeighbors(t).then((function(){return n.fetchAndShowGallery(t)})),n.roundDetailCard.css({top:0}),n.roundDetailCard.show(),u.a.push("details",(function(){n.roundDetailCard.hide(),i()})),(null==e?void 0:e.nextButton)?(n.roundDetailCard.find("#button-next").show(),n.roundDetailCard.find("#button-back").hide()):(n.roundDetailCard.find("#button-next").hide(),n.roundDetailCard.find("#button-back").show()),n.roundDetailCard.find("#button-back, #button-next").off("click").on("click",(function(){n.roundDetailCard.hide(),u.a.pop("details"),i()}))}))},n.prototype.fetchNeighbors=function(t){var e=this;return h.a.getSimilarDrawings(t.drawing,t.width,t.height).then((function(n){var i=p.c.filter(n,(function(t){return!!t.neighbor}));return i=t.recognized?p.c.sortBy(i,(function(e){return e.word===t.word?0:1})):p.c.filter(i,(function(e){return e.word!==t.word})),i=p.c.filter(i,(function(t){return!!e.translations.get(t.word)})),i=p.c.first(i,3)})).catch((function(){return[]}))},n.prototype.fetchAndShowDrawingNeighbors=function(t){var e=this,n=this.roundDetailCard.find("#round-neighbors").hide(),i=this.roundDetailCard.find("#round-neighbors-line").hide();return this.fetchNeighbors(t).then((function(n){if(0===n.length)throw new Error("No neighbors");for(var i=0;i<3;i++)if(n.length>i){e.roundDetailCard.find("#round-detail-"+(i+1)).show();var r=e.roundDetailCard.find("#round-detail-"+(i+1)),s=r.find(".round-detail-score"),u=r.find(".round-detail-word"),l=r.find(".round-detail-image"),c=r.find(".round-detail-image-neighbor");l.html(""),c.html(""),u.text(e.translations.get(n[i].word)),Object(o.a)(u),0===i&&(t.word===n[i].word?s.text(e.translations.getPhrase("correct_match")):s.text(e.translations.getPhrase("closest_match")));var h=a.a.createSvgFromSegments(t.drawing,270,130,{padding:10,color:"rgba(0,0,0,0.15)"});l.append(h);var d=a.a.createSvgFromSegments(n[i].neighbor,270,130,{padding:10,order:1});c.append(d)}else e.roundDetailCard.find("#round-detail-"+(i+1)).hide()})).then((function(){n.fadeIn(100),i.fadeIn(100)})).catch((function(){}))},n.prototype.fetchAndShowGallery=function(e){var n=this.roundDetailCard.find("#round-gallery").hide(),i=this.roundDetailCard.find("#round-gallery-line").hide(),r=this.translations.get(e.word),o=this.roundDetailCard.find("#gallery-wrapper");o.html("");var s=this.roundDetailCard.find("#gallery-title");e.recognized?s.html(this.translations.getPhrase("learned_by_example",[r])):s.html(this.translations.getPhrase("what_does_it_think",[r]));var u=!1;return c.a(e.word).then((function(e){for(var n=0,i=e;n<i.length;n++){var r=i[n].image,s=t("<div>").addClass("gallery-drawing").addClass("drawing");o.append(s);var l=a.a.createSvgFromSegments(JSON.parse(r),180,120,{padding:10});s.append(l)}e.length>0&&(u=!0)})).then((function(){u&&(n.fadeIn(100),i.fadeIn(100))})).catch((function(){}))},n.prototype.showAbout=function(){var e=this;this.showCard(this.aboutCard),this.aboutCard.find("iframe").attr("src","https://www.youtube.com/embed/X8v1GWzZYJ4"),this.aboutCard.find(".button-close").off("click").on("click",(function(){e.hideCard(e.aboutCard,(function(){var e=t("#about-card iframe"),n=e.attr("src");e.attr("src","").attr("src",n)}))}))},n.prototype.showSurvey=function(e){var n=this;return new Promise((function(i,r){var o=n.surveyCard.find("#survey-content"),s=n.surveyCard.find("#survey-error");s.hide(),o.html("");for(var a=0,u=[],l=!1,c=function(i,r,s,c){var h=t("<div>").addClass("card-text");if(e){var d=t("<span>").text(r).addClass("survey-question");h.append(d)}else{d=t("<span>").text(s).addClass("survey-question");h.append(d)}var f=t("<div>").addClass("survey-group");o.append(h),o.append(f);for(var p=0;p<c.length;p++){var g=t("<div>").addClass("survey-input"),v=t("<label>").attr("for","survey-"+i+"-radio-"+(p+1)).html(c[p]),m=t("<input>").attr("id","survey-"+i+"-radio-"+(p+1)).attr("type","radio").attr("name","survey-"+i).attr("value",p+1);g.append(v),g.append(m),f.append(g),m.on("click",(function(){a-t(".survey-group:not(:has(:radio:checked))").length,0===t(".survey-group:not(:has(:radio:checked))").length&&(n.surveyCard.find("#button-next").css("filter","initial"),l=!0)}))}u.push(i),a++},h=0,d=f.a.surveys;h<d.length;h++){var p=d[h];c.apply(void 0,p)}n.surveyCard.css({top:0}),n.surveyCard.show(),n.surveyCard.find("#survey-skip-button").off("click").on("click",(function(){n.surveyCard.hide(),f.a.endExperiment(),r()})),n.surveyCard.find("#button-next").css("filter","grayscale(100%)"),n.surveyCard.find("#button-next").focus().off("click").on("click",(function(){if(l){for(var t={},e=0;e<a;e++){var r=document.querySelector('input[name="survey-'+u[e]+'"]:checked'),o=void 0;o=r?r.value:-1,t["surveyAnswer"+(e+1)]=o}t.surveyHasPlayedBefore=n.surveyCard.find("#survey-previously-played").is(":checked"),n.surveyCard.hide(),i(t)}else s.show()})),n.surveyCard.get(0).scrollTop=0}))},n}(r.a)}).call(this,n(4))},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var r=(s=i,a=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(u," */")),o=i.sources.map((function(t){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(t," */")}));return[n].concat(o).concat([r]).join("\n")}var s,a,u;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,i){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(i)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(r[s]=!0)}for(var a=0;a<t.length;a++){var u=[].concat(t[a]);i&&r[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),e.push(u))}},e}},function(t,e,n){"use strict";e.a={id:"hero-usage",viewBox:"0 0 615.3 460",url:"static/svg/sprite.svg#hero-usage",toString:function(){return this.url}}},function(t,e,n){"use strict";e.a={id:"hero_dog-usage",viewBox:"0 0 615.3 460",url:"static/svg/sprite.svg#hero_dog-usage",toString:function(){return this.url}}},function(t,e,n){"use strict";e.a={id:"banner-usage",viewBox:"0 0 615.3 460",url:"static/svg/sprite.svg#banner-usage",toString:function(){return this.url}}},function(t,e,n){"use strict";e.a={id:"banner_es-usage",viewBox:"0 0 695.4 440.4",url:"static/svg/sprite.svg#banner_es-usage",toString:function(){return this.url}}},function(t,e,n){"use strict";e.a={id:"banner_de-usage",viewBox:"0 0 656.5 436.4",url:"static/svg/sprite.svg#banner_de-usage",toString:function(){return this.url}}},function(t,e,n){"use strict";e.a={id:"banner_it-usage",viewBox:"0 0 656.5 436.4",url:"static/svg/sprite.svg#banner_it-usage",toString:function(){return this.url}}},function(t,e,n){"use strict";e.a={id:"banner_pt-BR-usage",viewBox:"0 0 656.5 436.4",url:"static/svg/sprite.svg#banner_pt-BR-usage",toString:function(){return this.url}}},function(t,e,n){"use strict";e.a={id:"banner_zh-CN-usage",viewBox:"0 0 623 449.4",url:"static/svg/sprite.svg#banner_zh-CN-usage",toString:function(){return this.url}}},function(t,e,n){"use strict";e.a={id:"banner_zh-TW-usage",viewBox:"0 0 623 449.4",url:"static/svg/sprite.svg#banner_zh-TW-usage",toString:function(){return this.url}}},function(t,e,n){"use strict";e.a={id:"mlx_badge-usage",viewBox:"203 109.2 495.1 121.8",url:"static/svg/sprite.svg#mlx_badge-usage",toString:function(){return this.url}}},function(t,e,n){"use strict";e.a={id:"globe-usage",viewBox:"0 0 24 24",url:"static/svg/sprite.svg#globe-usage",toString:function(){return this.url}}},function(t,e,n){"use strict";e.a={id:"line-usage",viewBox:"-91.7 555.8 905.4 8.4",url:"static/svg/sprite.svg#line-usage",toString:function(){return this.url}}},function(t,e,n){"use strict";e.a={id:"buttons_small-usage",viewBox:"2 0 93 338",url:"static/svg/sprite.svg#buttons_small-usage",toString:function(){return this.url}}},function(t,e,n){"use strict";e.a={id:"buttons_medium-usage",viewBox:"155 98.7 400 142.3",url:"static/svg/sprite.svg#buttons_medium-usage",toString:function(){return this.url}}},function(t,e,n){"use strict";e.a={id:"en_US-toggle-usage",viewBox:"0 0 300 300",url:"static/svg/sprite.svg#en_US-toggle-usage",toString:function(){return this.url}}},function(t,e,n){"use strict";e.a={id:"de-toggle-usage",viewBox:"0 0 300 300",url:"static/svg/sprite.svg#de-toggle-usage",toString:function(){return this.url}}},function(t,e,n){"use strict";e.a={id:"buttons_large-usage",viewBox:"152 105 393 130",url:"static/svg/sprite.svg#buttons_large-usage",toString:function(){return this.url}}},function(t,e,n){"use strict";e.a={id:"buttons_drawing-usage",viewBox:"176 87 442 166",url:"static/svg/sprite.svg#buttons_drawing-usage",toString:function(){return this.url}}},function(t,e,n){"use strict";e.a={id:"icons-usage",viewBox:"48 157 186 26",url:"static/svg/sprite.svg#icons-usage",toString:function(){return this.url}}},function(t,e,n){"use strict";e.a={id:"objects-usage",viewBox:"0 0 17 15.5",url:"static/svg/sprite.svg#objects-usage",toString:function(){return this.url}}},function(t,e,n){"use strict";e.a=n.p+"static/fonts/134445a6ecc8165a3966813b484820d6.otf"},function(t,e,n){"use strict";e.a=n.p+"static/fonts/e6a7eb1eafd273e281552f60736dae96.otf"},function(t,e,n){"use strict";e.a=n.p+"static/fonts/0845a4439d8553cc00471dd9a2069968.otf"},function(t,e,n){"use strict";e.a=n.p+"static/fonts/2f26bf36430e033c38f3534f094b0f8f.woff2"},function(t,e,n){"use strict";e.a=n.p+"static/fonts/a5774167ba99830813dc53daf513cd83.woff"},function(t,e,n){"use strict";e.a=n.p+"static/fonts/b126efe1ddb5a7c02689aa9f580f7358.ttf"},function(t,e,n){"use strict";e.a=n.p+"static/fonts/cd5d1f010ba2a481bb78a026022fd9bf.eot"},function(t,e,n){"use strict";e.a=n.p+"static/fonts/47e29b028cd7e4cd613d908261749258.woff"},function(t,e,n){"use strict";e.a=n.p+"static/fonts/44366527334f1734f4337ec2f546c018.ttf"},function(t,e,n){"use strict";e.a=n.p+"static/fonts/13e7e9634ec7cb8c8bb24f307c3a2244.ttf"},function(t,e,n){"use strict";e.a=n.p+"static/fonts/928f2d284ae2bd48785d77a95ee2f47c.otf"},function(t,e,n){"use strict";e.a=n.p+"static/fonts/12b4aae9e514d81eb0c2bcdb39c145bf.otf"},function(t,e,n){"use strict";e.a=n.p+"static/fonts/87dd76bb66548ec4450343b4e05932d5.otf"},function(t,e,n){"use strict";e.a=n.p+"static/fonts/77fe64f4123dbc7d784354540c0d826c.otf"},function(t,e,n){"use strict";e.a={ar:{i_see:"أرى شكل",or:"أو",oh_i_know:"لقد عرفت، هذا %(word)!",drawing:"الرسم",something_else:"لقد رأت الشبكة العصبية في رسوماتك أشكالًا تختلف عمّا أردت رسمه. اختر إحدى الرسومات لمعرفة ما رأته.",no_clue:"ليس لدي أدنى فكرة عمّا ترسمه!",not_sure:"لست متاكّدة من أنّني أعرف هذا الشكل.",stumped:"أنا حائرة.",sorry:"عذرًا، لم أتمكن من التعرّف على هذا الرسم.",cant_guess:"كيف لي أن أتعرّف على ما ترسمه إذا لم ترسم أي شكل!",start_drawing:"حان الوقت لتبدأ بالرسم.",draw:"ارسم شكل %(word)",what_it_saw:"لقد تعرّفت الشبكة العصبية على %(num_correct) من الأشكال التي رسمتها، <br> لكنها رأت أشكالًا تختلف عمّا أردت رسمه في %(num_wrong) من رسوماتك الأخرى.<br>اختَر إحداها لرؤية ما رأته.",how:"لقد تعرّفت الشبكة العصبية على %(num_correct) من الأشكال التي رسمتها، <br>اختر إحداها لرؤية كيف تم التعرّف عليها.",correct_match:"تطابق صحيح",closest_match:"الشكل الأقرب",learned_by_example:"كيف يمكن للشبكة العصبية التعرّف على شكل %(word)؟ <br> لقد تعلّمت من خلال النظر إلى هذه الأمثلة التي رسمها اللاعبون الآخرون.",what_does_it_think:"كيف يبدو باعتقادها شكل %(word)؟ <br> لقد تعلمت من خلال النظر إلى هذه الأمثلة التي رسمها أشخاص آخرون.",share:'هل بإمكان الشبكة العصبية تعلُّم التعرُّف على الرسوم؟ جّرب لعبة "Quick, Draw" لمعرفة الإجابة.',share_portfolio:"لقد رسمتُ ست رسومات، وتعرّفَتْ الشبكة العصبية على %(num_correct) منها بشكل صحيح.",share_portfolio_desc:"كم رسم من رسوماتك يمكن للشبكة العصبية الاصطناعية التعرُّف عليه؟",preparing:"جارٍ التحضير للمشاركة...",communication_error:"حصل خطأ في التواصل مع خادم اللعبة",try_again:"حاول مرة أخرى",share_error:"حصل خطأ أثناء التحضير للمشاركة",reload:"إعادة تحميل",well_drawn:"أحسنت في الرسم!",oops:"حصل خطأ!",none:"ولا أيّ واحد",one:"واحد",two:"اثنان",three:"ثلاثة",four:"أربعة",five:"خمسة",all:"كلّها",popup_share:"مشاركة",popup_share_ready:"جاهزة للمشاركة"},de:{i_see:"Ich sehe",or:"oder",oh_i_know:'Ah, jetzt weiß ich es: "%(word)"!',drawing:"Zeichnung",something_else:"Unser neuronales Netzwerk erkannte in allen deinen Zeichnungen etwas anderes. Wähl eine aus, um zu erfahren, was das genau war.",no_clue:"Keine Ahnung, was du da zeichnest!",not_sure:"Ich bin mir nicht sicher, was das sein soll.",stumped:"Ich bin ratlos.",sorry:"Das konnte ich leider nicht erraten.",cant_guess:"Wie soll ich raten, wenn du nicht zeichnest!",start_drawing:"Fang schon mit dem Zeichnen an.",draw:"Zeichne: %(word)",what_it_saw:"Unser neuronales Netzwerk hat %(num_correct) deiner Zeichnungen erkannt. <br>In den anderen %(num_wrong) Zeichnungen erkannte es aber etwas anderes. <br>Wähl eine aus, um zu erfahren, was das genau war.",how:"Unser neuronales Netzwerk hat %(num_correct) deiner Zeichnungen erkannt. <br>Wähl eine aus, um zu erfahren, was das genau war.",correct_match:"Korrekte Übereinstimmung",closest_match:"Genaueste Übereinstimmung",learned_by_example:'Woher weiß es, wie "%(word)" aussieht?<br> Es hat das gelernt, indem es die Zeichnungen anderer Spieler analysiert hat.',what_does_it_think:'Wie sieht seiner Meinung nach "%(word)" aus?<br> Es hat das gelernt, indem es die Zeichnungen anderer Spieler analysiert hat.',share:'Kann ein neuronales Netzwerk Zeichnungen erkennen? Spiel "Quick, Draw" und find es heraus.',share_portfolio:"Ich habe diese sechs Zeichnungen angefertigt. Ein neuronales Netzwerk hat %(num_correct) von ihnen erkannt.",share_portfolio_desc:"Wie viele deiner Zeichnungen kann ich erraten?",preparing:"Teilen wird vorbereitet…",communication_error:"Bei der Kommunikation mit dem Spielserver ist ein Fehler aufgetreten.",try_again:"Noch einmal versuchen",share_error:"Beim Vorbereiten auf das Teilen ist ein Fehler aufgetreten.",reload:"Neu laden",well_drawn:"Gut gezeichnet!",oops:"hoppla",none:"keine",one:"eine",two:"zwei",three:"drei",four:"vier",five:"fünf",all:"alle",popup_share:"Teilen",popup_share_ready:"Bereit zum Teilen"},en_US:{i_see:"I see",or:"or",oh_i_know:"Oh I know, it's %(word)!",drawing:"Drawing",something_else:"Our neural net saw something else in all of your doodles. Select one to see what it saw.",no_clue:"I have no clue what you're drawing!",not_sure:"I'm not sure what that is.",stumped:"I'm stumped.",sorry:"Sorry, I couldn't guess it.",cant_guess:"I can't guess what you're drawing if you don't draw!",start_drawing:"It's time for you to start drawing.",draw:"Draw: %(word)",what_it_saw:'Our neural net figured out %(num_correct) of your doodles. <br>But it saw something else in the other %(num_wrong). <br>Select one to see what it saw, and visit the <a href="https://quickdraw.withgoogle.com/data">data</a> to see 50 million drawings made by other real people on the internet.',how:'Our neural net figured out %(num_correct) of your doodles. <br>Select one to see how it figured it out, and visit the <a href="https://quickdraw.withgoogle.com/data">data</a> to see 50 million drawings made by other real people on the internet.',correct_match:"Correct match",closest_match:"Closest match",learned_by_example:"How does it know what %(word) looks like?<br> It learned by looking at these examples drawn by other people.",what_does_it_think:"What does it think %(word) looks like?<br> It learned by looking at these examples drawn by other people.",share:"Can a neural network learn to recognize your doodles? Play Quick, Draw to find out!",share_portfolio:"I made these six doodles. A neural network guessed %(num_correct) of them correctly.",share_portfolio_desc:"How many of yours can it guess?",preparing:"Preparing to share...",communication_error:"Sorry! Something went wrong communicating with the game server!",try_again:"Try Again",share_error:"Sorry! Something went wrong while preparing for sharing",reload:"Reload",popup_share:"Share",popup_share_ready:"Ready to share",well_drawn:"Well drawn!",oops:"oops",none:"none",one:"one",two:"two",three:"three",four:"four",five:"five",all:"all"},es:{i_see:"Parece",or:"o",oh_i_know:"¡Lo sé, es %(word)!",drawing:"Dibujo",something_else:"Nuestra red neuronal ha pensado que tus dibujos eran otra cosa. Selecciona uno de ellos para saber qué ha reconocido.",no_clue:"¡No tengo ni idea de qué estás dibujando!",not_sure:"No sé qué es eso.",stumped:"Me he bloqueado.",sorry:"No he podido adivinarlo.",cant_guess:"Si no dibujas algo, no puedo adivinarlo.",start_drawing:"Ya puedes empezar a dibujar.",draw:"Dibuja: %(word)",what_it_saw:"Nuestra red neuronal ha adivinado %(num_correct) de tus dibujos. <br>Pero ha visto otra cosa en %(num_wrong) de ellos. <br>Selecciona uno para saber qué ha reconocido.",how:"Nuestra red neuronal ha adivinado %(num_correct) de tus dibujos. <br>Selecciona uno de ellos para ver cómo lo ha hecho.",correct_match:"Opción correcta",closest_match:"opción más parecida",learned_by_example:"¿Cómo ha sabido reconocer %(word)?<br> Lo ha aprendido viendo estos dibujos de otros usuarios.",what_does_it_think:"¿Cómo cree que debería ser %(word)?<br> Lo ha aprendido viendo estos dibujos de otros usuarios.",share:"¿Puede una red neuronal reconocer tus dibujos? Juega a Quick, Draw para averiguarlo.",share_portfolio:"He hecho estos seis dibujos y una red neuronal ha adivinado %(num_correct) de ellos.",share_portfolio_desc:"¿Cuántos de los tuyos puede acertar?",preparing:"Preparando para compartir...",communication_error:"Se ha producido un error de comunicación con el servidor del juego.",try_again:"Reintentar",share_error:"Se ha producido un error al preparar el contenido para compartirlo",reload:"Volver a cargar",well_drawn:"¡Muy bien!",oops:"vaya",none:"cero",one:"uno",two:"dos",three:"tres",four:"cuatro",five:"cinco",all:"cada uno",popup_share:"Compartir",popup_share_ready:"Ya puedes compartir la imagen"},es_US:{i_see:"Veo",or:"o",oh_i_know:"¡Ya sé, es %(word)!",drawing:"Dibujo",something_else:"Nuestra red neuronal vio algo más en tus dibujos. Selecciona uno de ellos para descubrir qué vio.",no_clue:"¡No tengo idea de lo que estás dibujando!",not_sure:"No sé bien qué es eso.",stumped:"No tengo idea.",sorry:"Lo siento, pero no pude adivinarlo.",cant_guess:"¡No puedo adivinar si no dibujas nada!",start_drawing:"Comienza a dibujar.",draw:"Dibuja: %(word)",what_it_saw:"Nuestra red neuronal adivinó %(num_correct) de tus dibujos. <br>Sin embargo, vio algo más en otros %(num_wrong). <br>Selecciona uno de ellos para descubrir qué vio.",how:"Nuestra red neuronal adivinó %(num_correct) de tus dibujos. <br>Selecciona uno para descubrir cómo se dio cuenta.",correct_match:"Acierto",closest_match:"coincidencia más cercana",learned_by_example:"¿Cómo sabe reconocer %(word)?<br> Aprendió de estos ejemplos que dibujaron otras personas.",what_does_it_think:"¿Cómo cree que es %(word)?<br> Aprendió de estos ejemplos que dibujaron otras personas.",share:"¿Es posible que una red neuronal aprenda a reconocer tus dibujos? ¡Juega a Quick, Draw para descubrirlo!",share_portfolio:"Hice estos seis dibujos y una red neuronal adivinó %(num_correct)s correctamente.",share_portfolio_desc:"¿Cuántos de los tuyos puede adivinar?",preparing:"Preparando para compartir…",communication_error:"Se produjo un error de comunicación con el servidor del juego",try_again:"Reintentar",share_error:"Se produjo un error al preparar para compartir",reload:"Volver a cargar",well_drawn:"¡Excelentes dibujos!",oops:"uy",none:"ninguno",one:"uno",two:"dos",three:"tres",four:"cuatro",five:"cinco",all:"todos",popup_share:"Compartir",popup_share_ready:"Lista para compartir"},fr:{i_see:"Je vois",or:"ou",oh_i_know:"Oh, je sais, c'est %(word) !",drawing:"Dessin",something_else:"Notre réseau de neurones n'a reconnu aucun de vos dessins. Sélectionnez-en un pour savoir ce qu'il a vu.",no_clue:"Je n'ai aucune idée de ce que vous êtes en train de dessiner !",not_sure:"Je ne suis pas sûr de ce que c'est.",stumped:"Je sèche.",sorry:"Désolé, mais je n'ai pas réussi à deviner ce que c'est.",cant_guess:"Je ne peux pas deviner ce que vous dessinez s'il n'y a rien !",start_drawing:"C'est le moment de dessiner quelque chose.",draw:"Dessinez : %(word)",what_it_saw:"Sur l'ensemble de vos dessins, notre réseau de neurones en a reconnu&nbsp;%(num_correct), mais il en a mal identifié %(num_wrong). <br>Sélectionnez-en un pour savoir ce qu'il a vu.",how:"Notre réseau de neurones a reconnu %(num_correct) de vos dessins. <br>Sélectionnez-en un pour savoir comment il a fait.",correct_match:"Résultat correct",closest_match:"Résultat le plus proche",learned_by_example:"Comment sait-il à quoi ressemble %(word) ?<br> Il l'a appris en regardant ces dessins d'autres personnes.",what_does_it_think:"À quoi pense-t-il que ressemble %(word) ?<br> Il l'a appris en regardant ces dessins d'autres personnes.",share:'Un réseau de neurones peut-il apprendre à reconnaître vos dessins ? Jouez à "Quick, Draw" pour le découvrir !',share_portfolio:"J'ai créé ces six dessins. Un réseau de neurones en a deviné %(num_correct).",share_portfolio_desc:"Combien de dessins pourra-t-il deviner parmi les vôtres ?",preparing:"Préparation du partage…",communication_error:"Désolé, une erreur s'est produite lors de la communication avec le serveur du jeu.",try_again:"Réessayer",share_error:"Désolé, une erreur s'est produite lors de la préparation du partage.",reload:"Actualiser",well_drawn:"Vous êtes un artiste !",oops:"oups",none:"aucun",one:"un",two:"deux",three:"trois",four:"quatre",five:"cinq",all:"tous",popup_share:"Partager",popup_share_ready:"Prête à être partagée"},it:{i_see:"Vedo",or:"oppure",oh_i_know:"Lo so, è %(word)!",drawing:"Disegno",something_else:"La nostra rete neurale ha visto qualcos'altro in tutti i tuoi disegni. Selezionane uno per scoprire cosa ha visto.",no_clue:"Non ho idea di che cosa stai disegnando!",not_sure:"Non sono sicura di cosa sia.",stumped:"Sono confusa.",sorry:"Uffa, non riesco a indovinare.",cant_guess:"Non posso indovinare cosa stai disegnando se non disegni.",start_drawing:"È ora di iniziare a disegnare.",draw:"Disegna: %(word)",what_it_saw:"La nostra rete neurale ha indovinato %(num_correct) dei tuoi disegni. <br>Ma ha visto qualcos'altro in %(num_wrong) altro/i. <br>Selezionane uno per scoprire cosa ha visto.",how:"La nostra rete neurale ha indovinato %(num_correct) dei tuoi disegni. <br>Selezionane uno per scoprire cosa ha visto.",correct_match:"Corrispondenza corretta",closest_match:"corrispondenza migliore",learned_by_example:"Come fa a riconoscere %(word)?<br> Ha imparato esaminando questi esempi disegnati da altre persone.",what_does_it_think:"Come fa a conoscere l'aspetto di %(word)?<br> Ha imparato esaminando questi esempi disegnati da altre persone.",share:"Una rete neurale può imparare a riconoscere i disegni? Gioca a Presto, disegna! per scoprirlo.",share_portfolio:"Ho realizzato questi sei disegni. Una rete neurale ne ha indovinati %(num_correct).",share_portfolio_desc:"Quanti dei tuoi ne riesce a indovinare?",preparing:"Preparazione alla condivisione...",communication_error:"Spiacenti, si è verificato un problema di comunicazione con il server del gioco.",try_again:"Riprova",share_error:"Spiacenti, si è verificato un problema durante la preparazione della condivisione",reload:"Ricarica",well_drawn:"Bei disegni!",oops:"spiacenti",none:"nessuno",one:"uno",two:"due",three:"tre",four:"quattro",five:"cinque",all:"tutti",popup_share:"Condividi",popup_share_ready:"Pronta per la condivisione"},ja:{i_see:"わかりました。",or:"または",oh_i_know:"わかりました。%(word)です！",drawing:"お絵かき",something_else:"1 枚も認識されませんでした。絵を選択すると、それぞれ何の絵と認識されたのかを確認できます。",no_clue:"何が描かれているのかわかりません！",not_sure:"何の絵かわかりません。",stumped:"さっぱりわかりません。",sorry:"すみません。何の絵かわかりませんでした。",cant_guess:"何の絵か当てるので、お絵描きしてみてください。",start_drawing:"お題の絵を描いてみてください。",draw:"%(word)を描いてみてください。",what_it_saw:"%(num_correct) 枚の絵が認識されました。<br>他の %(num_wrong) 枚は認識されませんでした。<br>絵を選択すると、それぞれ何の絵と認識されたのかを確認できます。",how:"%(num_correct) 枚の絵が認識されました。<br>絵を選択すると、それぞれ何の絵と認識されたのかを確認できます。",correct_match:"正解",closest_match:"最も近い絵",learned_by_example:"%(word)の見た目はどのように学んだの？<br> 他の人たちが描いた例を見て学習しました。",what_does_it_think:"なぜ%(word)がどんなものかわかるの？<br> 他の人たちが描いた例を見て学習しました。",share:"ニューラル ネットワークは絵を認識できるようになるでしょうか？Quick, Draw! でチェックしよう。",share_portfolio:"6 枚の絵を描いたところ、ニューラル ネットワークは %(num_correct) 枚正解しました。",share_portfolio_desc:"あなたの絵は何枚当てられるでしょうか？",preparing:"共有の準備をしています...",communication_error:"ゲームサーバーとの通信中にエラーが発生しました。",try_again:"再試行",share_error:"共有の準備中にエラーが発生しました。",reload:"再読み込み",well_drawn:"よくできました！",oops:"残念！",none:"0",one:"1",two:"2",three:"3",four:"4",five:"5",all:"すべて",popup_share:"共有",popup_share_ready:"すぐに共有できます"},ko:{i_see:"뭔지 알 것 같아요.",or:"또는",oh_i_know:"이제 알겠어요. %(word) 맞죠?",drawing:"그림",something_else:"신경망이 낙서를 하나도 알아보지 못했어요. 낙서를 선택하여 신경망이 무엇으로 인식했는지 알아보세요.",no_clue:"무슨 그림인지 전혀 모르겠어요.",not_sure:"무슨 그림인지 잘 모르겠어요.",stumped:"전혀 모르겠네요.",sorry:"무슨 그림인지 모르겠네요.",cant_guess:"그리기 시작하셔야 뭔지 알아맞힐 수 있어요.",start_drawing:"그리기를 시작하세요.",draw:"%(word) 그리기",what_it_saw:"신경망이 낙서 %(num_correct)개를 맞췄습니다. <br>하지만 %(num_wrong)개는 알아보지 못했어요. <br>낙서를 선택하여 신경망이 무엇으로 인식했는지 알아보세요.",how:"신경망이 낙서 %(num_correct)개를 맞췄어요. <br>낙서를 선택하여 신경망이 그림을 어떻게 맞췄는지 알아보세요.",correct_match:"정확하게 일치한 그림",closest_match:"가장 비슷한 그림",learned_by_example:"%(word)의 모양을 신경망이 어떻게 알 수 있었을까요?<br> 신경망은 다른 사람들이 그린 다음과 같은 예를 보고 학습했습니다.",what_does_it_think:"신경망은 %(word)이(가) 어떻게 생겼다고 생각할까요?<br> 신경망은 다른 사람들이 그린 다음과 같은 예를 보고 학습했습니다.",share:"신경망이 학습을 통해 내가 그린 낙서를 인식할 수 있을까요? 알아보려면 Quick, Draw를 플레이해 보세요.",share_portfolio:"저는 다음과 같은 여섯 개의 그림을 그렸고, 신경망이 그중 %(num_correct)개를 맞췄어요.",share_portfolio_desc:"여러분의 그림은 몇 개나 맞출 수 있을까요?",preparing:"공유 준비 중...",communication_error:"게임 서버와 통신하는 중에 문제가 발생했습니다.",try_again:"다시 시도",share_error:"공유를 준비하는 중에 문제가 발생했습니다.",reload:"새로고침",well_drawn:"잘 그리셨어요!",oops:"이런!",none:"없음",one:"1",two:"2",three:"3",four:"4",five:"5",all:"모두",popup_share:"공유",popup_share_ready:"공유 준비 완료"},pt_BR:{i_see:"Eu vejo",or:"ou",oh_i_know:"Já sei! É %(word).",drawing:"Desenho",something_else:"Nossa rede neural viu algo diferente em todos os seus desenhos. Selecione um deles para saber o que ela identificou.",no_clue:"Não faço ideia do que você está desenhando.",not_sure:"Não sei bem o que é isso.",stumped:"Não faço ideia.",sorry:"Desculpe, não consegui adivinhar.",cant_guess:"Não posso adivinhar o que você está desenhando se você não desenhar.",start_drawing:"Comece a desenhar.",draw:"Desenhe: %(word)",what_it_saw:"Nossa rede neural adivinhou %(num_correct) dos seus desenhos. <br>Mas ela viu algo diferente em %(num_wrong) deles. <br>Selecione um para saber o que foi identificado.",how:"Nossa rede neural adivinhou %(num_correct) dos seus desenhos. <br>Selecione um deles para ver como ela fez isso.",correct_match:"Correspondência correta",closest_match:"correspondência mais próxima",learned_by_example:"Como ela sabe com o que %(word) se parece?<br> Ela aprendeu olhando estes exemplos desenhados por outras pessoas.",what_does_it_think:"Com o que ela acha que %(word) se parece?<br> Ela aprendeu olhando estes exemplos desenhados por outras pessoas.",share:'Será que uma rede neural pode aprender a reconhecer seus desenhos? Jogue "Rápido, desenhe!" para descobrir.',share_portfolio:"Fiz estes seis desenhos. Uma rede neural adivinhou %(num_correct) deles corretamente.",share_portfolio_desc:"Quantos dos seus desenhos ela consegue adivinhar?",preparing:"Preparando para compartilhar…",communication_error:"Algo deu errado na comunicação com o servidor do jogo.",try_again:"Tente novamente",share_error:"Algo deu errado na hora de compartilhar",reload:"Atualizar",well_drawn:"Bom trabalho!",oops:"ops",none:"nenhum",one:"um",two:"dois",three:"três",four:"quatro",five:"cinco",all:"todos",popup_share:"Compartilhar",popup_share_ready:"Tudo pronto para compartilhar"},pt_PT:{i_see:"Estou a ver",or:"ou",oh_i_know:"Já sei, é %(word)!",drawing:"Desenho",something_else:"A nossa rede neural viu algo diferente em todos os seus rabiscos. Selecione um para ver o quê.",no_clue:"Não faço ideia do que está a desenhar!",not_sure:"Não sei bem o que é.",stumped:"Estou confuso.",sorry:"Não consegui adivinhar.",cant_guess:"Não consigo adivinhar o que está a desenhar se não desenhar!",start_drawing:"Está na hora de começar a desenhar.",draw:"Desenhe: %(word)",what_it_saw:"A nossa rede neural reconheceu %(num_correct) dos seus rabiscos. <br>Contudo, viu algo diferente no(s) outro(s) %(num_wrong). <br>Selecione um para ver o quê.",how:"A nossa rede neural reconheceu %(num_correct) dos seus rabiscos. <br>Selecione um para ver como o fez.",correct_match:"Correspondência certa",closest_match:"correspondência mais próxima",learned_by_example:"Como sabe qual é o aspeto de %(word)?<br> Aprendeu ao olhar para estes exemplos desenhados por outras pessoas.",what_does_it_think:"Com o que acha que %(word) se parece?<br> Aprendeu ao olhar para estes exemplos desenhados por outras pessoas.",share:"Uma rede neural consegue aprender a reconhecer os seus rabiscos? Jogue Quick, Draw para descobrir!",share_portfolio:"Criei estes seis rabiscos. Uma rede neural adivinhou %(num_correct) deles corretamente.",share_portfolio_desc:"Quantos dos seus consegue adivinhar?",preparing:"A preparar para partilhar...",communication_error:"Lamentamos, mas ocorreu um erro ao comunicar com o servidor do jogo.",try_again:"Tentar novamente",share_error:"Lamentamos, mas ocorreu um erro ao preparar para partilhar.",reload:"Atualizar",well_drawn:"Bem desenhado!",oops:"ups!",none:"nenhum",one:"um",two:"dois",three:"três",four:"quatro",five:"cinco",all:"todos",popup_share:"Partilhar",popup_share_ready:"Pronta a partilhar"},ru:{i_see:"Может, это",or:"или",oh_i_know:"Это же %(word)!",drawing:"Рисунок",something_else:"Ни на одном из ваших рисунков нейронная сеть не распознала то, что вы хотели изобразить. Нажмите на любой из них и посмотрите, что она увидела.",no_clue:"Даже не догадываюсь, что вы рисуете.",not_sure:"Ума не приложу, что это.",stumped:"Я в замешательстве.",sorry:"Увы, у меня нет никаких идей.",cant_guess:"Я не смогу угадать, если вы не будете рисовать.",start_drawing:"Попробуйте что-нибудь нарисовать.",draw:"Нарисуйте этот предмет: %(word)",what_it_saw:"Нейронная сеть верно угадала, что изображено на %(num_correct) из ваших рисунков.<br>Но на остальных рисунках (%(num_wrong)) она распознала другие предметы.<br>Нажмите на любой из них и посмотрите, что она увидела.",how:"Нейронная сеть верно угадала, что изображено на %(num_correct) из ваших рисунков.<br>Выберите любой из них, чтобы узнать, как ей это удалось.",correct_match:"Правильная догадка",closest_match:"наиболее точная догадка",learned_by_example:"Нейронная сеть научилась выбирать картинки, на которых есть %(word),<br>изучая рисунки, созданные другими пользователями.",what_does_it_think:"Нейронная сеть узнала, на каких картинках может быть %(word),<br>изучая рисунки, созданные другими пользователями.",share:"Научите нейронную сеть распознавать рисунки. Просто играйте в Quick, Draw!",share_portfolio:"Нейронной сети удалось верно угадать, что изображено на %(num_correct) из шести моих рисунков.",share_portfolio_desc:"Сколько ваших рисунков она сможет распознать?",preparing:"Подготовка к отправке…",communication_error:"Не удалось связаться с сервером",try_again:"Повторить попытку",share_error:"Ошибка при подготовке к отправке",reload:"Обновить",well_drawn:"Отличный рисунок!",oops:"Ошибка",none:"нет",one:"один",two:"два",three:"три",four:"четыре",five:"пять",all:"все",popup_share:"Опубликовать",popup_share_ready:"Готово к публикации"},zh_CN:{i_see:"这是：",or:"也可能是",oh_i_know:"我知道了，这是%(word)！",drawing:"涂鸦",something_else:"我们的神经网络试图辨识你画的涂鸦内容，但全都猜错了。你可以选择其中一幅涂鸦，看看神经网络究竟辨识出什么。",no_clue:"我看不出来你画了什么！",not_sure:"我不确定你画了什么。",stumped:"我被考倒了。",sorry:"很抱歉，我猜不出这是什么。",cant_guess:"如果你不画，我就没办法猜了！",start_drawing:"开始画吧。",draw:"请画出：%(word)",what_it_saw:"我们的神经网络正确猜出了你画的 %(num_correct) 幅涂鸦内容，<br>但无法辨识另外 %(num_wrong) 幅涂鸦。<br>你可以选择其中一幅涂鸦，看看神经网络究竟辨识出什么。",how:"我们的神经网络正确猜出了你画的 %(num_correct) 幅涂鸦内容。<br>你可以选择其中一幅涂鸦，看看神经网络究竟辨识出什么。",correct_match:"猜中",closest_match:"最接近的结果",learned_by_example:"为什么神经网络知道%(word)长什么样子？<br>因为它会观察其他用户画的这些涂鸦示例，并从中进行学习。",what_does_it_think:"神经网络认为%(word)长什么样子？<br>它会观察其他用户画的这些涂鸦示例，并从中进行学习。",share:"神经网络能学会辨识你的涂鸦吗？快来玩“快速涂鸦”找出答案吧！",share_portfolio:"我画了这 6 幅涂鸦，而神经网络正确猜出了其中 %(num_correct) 幅。",share_portfolio_desc:"你有多少幅涂鸦能被猜对呢？",preparing:"正在准备分享…",communication_error:"抱歉！与游戏服务器通信时出错！",try_again:"重试",share_error:"抱歉！准备分享时出错",reload:"重新加载",well_drawn:"画得很棒！",oops:"糟糕",none:"无",one:"一",two:"二",three:"三",four:"四",five:"五",all:"全部",popup_share:"分享",popup_share_ready:"可供分享"},zh_HK:{i_see:"我看到",or:"或者",oh_i_know:"哦，我知道了，這是%(word)！",drawing:"繪圖",something_else:"我們的神經網絡在您所有塗鴉中都看到其他東西。請選取其中一幅，瞭解它看到什麼。",no_clue:"我完全猜不到您在畫什麼！",not_sure:"我不肯定這是什麼。",stumped:"我被考起了。",sorry:"抱歉，我猜不到。",cant_guess:"如果您什麼都不畫，我便無法猜中！",start_drawing:"開始繪畫吧。",draw:"請繪畫：%(word)",what_it_saw:"我們的神經網絡猜中了 %(num_correct) 幅塗鴉，<br>但在其餘 %(num_wrong) 幅中看到其他東西。<br>請選取其中一幅，瞭解它看到什麼。",how:"我們的神經網絡猜中了 %(num_correct) 幅塗鴉。<br>請選取其中一幅，瞭解它如何猜中。",correct_match:"正確的比對結果",closest_match:"最接近的比對結果",learned_by_example:"神經網絡如何知道%(word)的樣子是什麼？<br>它觀察別人繪畫的例子，並從中學習。",what_does_it_think:"神經網絡認為%(word)的樣子是什麼？<br>它觀察別人繪畫的例子，並從中學習。",share:"神經網絡能否學會辨識您的塗鴉？立即暢玩 Quick Draw 找出答案！",share_portfolio:"我畫了這六幅塗鴉，而神經網絡猜中了 %(num_correct) 幅。",share_portfolio_desc:"它能猜中您多少幅繪圖？",preparing:"正在準備分享…",communication_error:"抱歉！與遊戲伺服器通訊時發生錯誤！",try_again:"再試一次",share_error:"抱歉！準備分享時發生錯誤",reload:"重新載入",well_drawn:"畫得很好！",oops:"抱歉",none:"無",one:"一",two:"二",three:"三",four:"四",five:"五",all:"全部",popup_share:"分享",popup_share_ready:"已準備好分享"},zh_TW:{i_see:"這是",or:"或",oh_i_know:"我知道了，這是%(word)！",drawing:"塗鴉",something_else:"我們的類神經網路嘗試辨識你畫了什麼，但全都猜錯了。點選下面的塗鴉即可查看類神經網路的答案。",no_clue:"我看不出來你畫了什麼！",not_sure:"我不確定你畫了什麼。",stumped:"我被考倒了。",sorry:"很抱歉，我猜不出這是什麼。",cant_guess:"如果你不畫，我就沒辦法猜了！",start_drawing:"開始畫吧。",draw:"請畫出：%(word)",what_it_saw:"我們的類神經網路能辨識出你畫的 %(num_correct)塗鴉內容。<br>不過，它沒猜中另外 %(num_wrong)畫的是什麼。<br>選取任一塗鴉即可查看類神經網路的答案。",how:"我們的類神經網路能辨識出你畫的 %(num_correct)塗鴉內容。<br>選取任一塗鴉即可查看類神經網路的辨識過程。",correct_match:"正確的比對結果",closest_match:"最接近的比對結果",learned_by_example:"類神經網路是如何掌握%(word)的外觀模樣？<br>它會參考其他人畫的所有範例，並從中學習。",what_does_it_think:"類神經網路如何判斷%(word)的外觀模樣？<br>它會參考其他人畫的所有範例，並從中學習。",share:"類神經網路能學會辨識你的塗鴉嗎？快來玩 Quick, Draw 找出答案吧！",share_portfolio:"我畫了這 6 幅塗鴉，而類神經網路猜對了 %(num_correct)塗鴉的內容。",share_portfolio_desc:"如果是你的塗鴉，類神經網路能猜對幾幅呢？",preparing:"正在準備分享...",communication_error:"很抱歉，與遊戲伺服器連線時出了點狀況！",try_again:"再試一次",share_error:"很抱歉，準備分享時出了點狀況",reload:"重新載入",well_drawn:"畫得好！",oops:"糟糕",none:"0 幅",one:"1 幅",two:"2 幅",three:"3 幅",four:"4 幅",five:"5 幅",all:"全部",popup_share:"分享",popup_share_ready:"現在可與他人分享"}}},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return a}));var i=n(63),r=n(6),o=n(5),s=n(0),a=function(){function e(){var e=this;this.guessesQueue=[],this.mentionedWords={},this.talkingGuesses=!1,this.recentMentionedWords=[],this.talking=!1,this.translations=r.a.getInstance(),this.speech=new i.a,this.elmA=t("#machine-speechbubble-primary"),this.elmB=t("#machine-speechbubble-secondary"),this.resetTextAfterDelay=s.c.debounce((function(){e.setText("...")}),2e3),this.reset()}return e.getInstance=function(){return this.instance||(e.instance=new e),e.instance},e.prototype.reset=function(){this.setText("..."),this.guessesQueue=[],this.mentionedWords={},this.talkingGuesses=!1,this.recentMentionedWords=[]},e.prototype.setText=function(t,e){void 0===e&&(e=""),this.elmA.text(t),this.elmB.text(e),"..."!==t&&this.resetTextAfterDelay()},e.prototype.speak=function(t,e){var n=this;this.talking=!0,this.speech.speak(t,(function(){n.talking=!1,e&&e()}))},e.prototype.speakAndWrite=function(t,e){this.setText(t),this.speak(t,e)},e.prototype.readNextGuess=function(t){var e=this;if(this.talkingGuesses=!0,0!==this.guessesQueue.length){t&&(this.recentMentionedWords=[]);var n,i,r=this.guessesQueue.shift(),o=this.translations.get(r)||"",s=this.translations.getPhrase("or")+" "+o;t&&(s=this.translations.getPhrase("i_see")+" "+o),n=o,i=this.translations.getPhrase("i_see");var a=",";"ja"===this.translations.getLocale()&&(a="、");var u=i+" "+this.recentMentionedWords.join(a+" ");this.recentMentionedWords.length>0&&(u+=a+" "),this.setText(n,u),this.speak(s,(function(){var t=u.length>30;e.readNextGuess(t)})),this.recentMentionedWords.push(o),this.mentionedWords[r]=1}else this.talkingGuesses=!1},e.prototype.setResultWord=function(t){var e=this;t=this.translations.get(t)||t,this.guessesQueue=[],this.speakAndWrite(this.translations.getPhrase("oh_i_know",[t])),setTimeout((function(){0===e.guessesQueue.length&&e.setText("...")}),3e3)},e.prototype.setGuesses=function(t){var e=this;if(!o.a.activeExperiments){this.guessesQueue=s.c.filter(t,(function(t){return!s.c.has(e.mentionedWords,t)}));var n=this.guessesQueue.length;return!this.talkingGuesses&&this.guessesQueue.length>0&&this.readNextGuess(!0),n}},e}()}).call(this,n(4))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var i=n(56),r=n(57);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var o={insert:"head",singleton:!1};i(r,o);t.exports=r.locals||{}},function(t,e,n){"use strict";var i,r=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},o=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),s=[];function a(t){for(var e=-1,n=0;n<s.length;n++)if(s[n].identifier===t){e=n;break}return e}function u(t,e){for(var n={},i=[],r=0;r<t.length;r++){var o=t[r],u=e.base?o[0]+e.base:o[0],l=n[u]||0,c="".concat(u," ").concat(l);n[u]=l+1;var h=a(c),d={css:o[1],media:o[2],sourceMap:o[3]};-1!==h?(s[h].references++,s[h].updater(d)):s.push({identifier:c,updater:v(d,e),references:1}),i.push(c)}return i}function l(t){var e=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var r=n.nc;r&&(i.nonce=r)}if(Object.keys(i).forEach((function(t){e.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(e);else{var s=o(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(e)}return e}var c,h=(c=[],function(t,e){return c[t]=e,c.filter(Boolean).join("\n")});function d(t,e,n,i){var r=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=h(e,r);else{var o=document.createTextNode(r),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function f(t,e,n){var i=n.css,r=n.media,o=n.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var p=null,g=0;function v(t,e){var n,i,r;if(e.singleton){var o=g++;n=p||(p=l(e)),i=d.bind(null,n,o,!1),r=d.bind(null,n,o,!0)}else n=l(e),i=f.bind(null,n,e),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=r());var n=u(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<n.length;i++){var r=a(n[i]);s[r].references--}for(var o=u(t,e),l=0;l<n.length;l++){var c=a(n[l]);0===s[c].references&&(s[c].updater(),s.splice(c,1))}n=o}}}},function(t,e,n){"use strict";n.r(e);var i=n(17),r=n.n(i),o=n(1),s=n.n(o),a=n(18),u=n(19),l=n(20),c=n(21),h=n(22),d=n(23),f=n(24),p=n(25),g=n(26),v=n(27),m=n(28),_=n(29),w=n(30),y=n(31),b=n(32),x=n(33),C=n(34),S=n(35),k=n(36),T=n(37),P=n(38),A=n(39),I=n(40),N=n(41),M=n(42),z=n(43),E=n(44),O=n(45),j=n(46),D=n(47),L=n(48),R=n(49),q=n(50),B=n(51),F=r()(!1),V=s()(a.a),H=s()(u.a),U=s()(l.a),W=s()(c.a),G=s()(h.a),Z=s()(d.a),$=s()(f.a),J=s()(p.a),Q=s()(g.a),K=s()(v.a),X=s()(m.a),Y=s()(_.a),tt=s()(w.a),et=s()(y.a),nt=s()(b.a),it=s()(x.a),rt=s()(C.a),ot=s()(S.a),st=s()(k.a),at=s()(T.a),ut=s()(P.a),lt=s()(A.a),ct=s()(I.a),ht=s()(N.a),dt=s()(M.a),ft=s()(z.a),pt=s()(E.a),gt=s()(O.a),vt=s()(j.a),mt=s()(D.a),_t=s()(L.a),wt=s()(R.a),yt=s()(q.a),bt=s()(B.a);F.push([t.i,"html,body{background:#fff;display:initial}.ui{position:absolute}.ui.tl{left:32px;top:22px}.ui.tr{right:32px;top:22px}.ui.bl{left:32px;bottom:22px;max-width:calc(45% - 32px)}.ui.br{right:32px;bottom:22px;max-width:calc(45% - 32px)}.ui.tc{position:absolute;left:0;right:0;text-align:center;top:22px}#splashview{width:100%;height:100%;text-align:center;position:absolute;display:flex;flex-direction:column;align-items:center;justify-content:space-around}[lang=ar] #splashview{direction:rtl}#splashview #splashview-hero{width:90%;max-width:1000px;max-height:800px;min-height:70px;margin-top:70px;margin-left:10px;margin-right:10px;flex-grow:20;background-position:center;background-size:contain;background-image:url("+V+");background-repeat:no-repeat;position:relative}[edition=woof] #splashview #splashview-hero{background-image:url("+H+")}@media screen and (max-height: 500px),screen and (max-width: 500px){[edition=woof] #splashview #splashview-hero{background-image:none}}@media screen and (max-height: 550px){[edition=woof] #splashview #splashview-hero{background-image:none}}@media screen and (max-height: 500px)and (min-width: 500px){#splashview #splashview-hero{margin-top:70px}}@media screen and (max-height: 550px){#splashview #splashview-hero{background-image:none;flex-grow:3}}@media screen and (max-height: 500px),screen and (max-width: 500px){#splashview #splashview-hero{background-image:none;flex-grow:3}}@media screen and (max-height: 350px),screen and (max-width: 350px){#splashview #splashview-hero{min-height:40px}}@media screen and (max-height: 350px)and (min-width: 350px){#splashview #splashview-hero{margin-top:20px}}#splashview #splashview-hero-banner{width:100%;height:100%;position:absolute;background-position:center;background-size:contain;background-image:url("+V+");background-repeat:no-repeat;background-image:url("+U+")}[lang=es] #splashview #splashview-hero-banner{background-image:url("+W+")}[lang=de] #splashview #splashview-hero-banner{background-image:url("+G+")}[lang=it] #splashview #splashview-hero-banner{background-image:url("+Z+")}[lang=pt-BR] #splashview #splashview-hero-banner{background-image:url("+$+")}[lang=zh-CN] #splashview #splashview-hero-banner{background-image:url("+J+")}[lang=zh-TW] #splashview #splashview-hero-banner{background-image:url("+Q+')}@media screen and (max-height: 500px),screen and (max-width: 500px){#splashview #splashview-hero-banner{padding-bottom:160px}}@media screen and (max-height: 550px){#splashview #splashview-hero-banner{padding-bottom:90px}}#splashview #splashview-tagline{max-width:calc(100% - 64px);padding:40px 40px;font-size:27px;flex-grow:2;position:relative;z-index:1}@media screen and (max-height: 700px),screen and (max-width: 700px){#splashview #splashview-tagline{font-size:22px;padding:15px 32px}}@media screen and (max-height: 500px),screen and (max-width: 500px){#splashview #splashview-tagline{font-size:18px;padding:15px 32px}}@media screen and (max-height: 350px),screen and (max-width: 350px){#splashview #splashview-tagline{font-size:12px}}@media screen and (max-height: 500px)and (min-width: 500px){#splashview #splashview-tagline{max-width:500px}}#splashview #splashview-tagline #splashview-tagline-main{display:block;margin-bottom:14px}html:not([lang=en-US]) #splashview #splashview-tagline #splashview-tagline-main{line-height:1.2}#splashview #splashview-tagline #splashview-tagline-small{margin:0 auto;display:block;font-size:.75em;max-width:700px;line-height:1.4em}#splashview #splashview-tagline #splashview-tagline-small a{color:#ffd139}#splashview .splashscreen-button{padding:40px 20px;padding-bottom:110px;padding-top:10px;flex-grow:0}@media screen and (max-height: 500px),screen and (max-width: 500px){#splashview .splashscreen-button{padding:0 20px 110px 20px}}@media screen and (max-height: 350px)and (min-width: 350px){#splashview .splashscreen-button{padding-bottom:61px}}#splashview #privacy-link{color:#dedede;text-align:right;font-family:"Karla",sans-serif;font-size:15px}#splashview #privacy-link a{color:#dedede;text-decoration:none}#splashview #privacy-link a:hover{color:#ccc}@media screen and (max-height: 500px),screen and (max-width: 500px){#splashview #privacy-link{font-size:13px;width:120px}#splashview #privacy-link .privacy-link-group{clear:both;float:right;line-height:1.4;font-size:10px}}.corp-logo{width:290px;height:70px;background:url('+K+");background-repeat:no-repeat;background-size:contain}@media screen and (max-height: 700px),screen and (max-width: 700px){.corp-logo{height:50px;width:203px}}@media screen and (max-height: 500px),screen and (max-width: 500px){.corp-logo{height:30px;width:122px}}#select-locale{height:26px;width:170px;padding:0;opacity:0}.offscreen{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}#select-locale-label{position:absolute;background:#fff;width:140px;overflow:hidden;padding:3px 3px 3px 30px;border:1px solid #ccc;pointer-events:none;right:0;text-align:left;height:18px;z-index:1}@media screen and (max-width: 750px){#select-locale-label{display:block;margin-right:0}}#select-locale-label::before{background-repeat:no-repeat;background-size:100%;background:url("+X+');content:"";height:12px;left:10px;position:absolute;top:50%;transform:translateY(-50%);width:12px;z-index:200}#select-locale-label::after{top:50%;border:solid transparent;border-width:.25em .25em 0;border-top-color:#ccc;margin:-0.125em .5em 0 0;content:"";display:block;position:absolute;right:0}.dk-selected{border-radius:0;padding-left:2em;padding-right:2em;z-index:101;border-top:1px solid #ccc}.dk-option{padding:0 2em}.dk-select-open-up .dk-select-options{border-radius:0;margin-bottom:-1px;padding-top:0;padding-bottom:0}.dk-select-options{direction:ltr !important;max-height:22em}.covercard{position:absolute;z-index:100;width:100vw;height:100vh;background-color:#ffd139;left:0;top:-100%;transition:top .8s ease-in-out,left .8s linear,width .8s linear,transform .8s linear;font-size:14px;text-align:center;overflow:scroll;-webkit-overflow-scrolling:touch}.covercard a{color:#fff}.covercard .cards-cover{position:absolute;width:100%;height:100%;top:-100%;background-color:#ffd139;display:none}.covercard.visible{top:0}.covercard.visible .cards-cover{display:inherit}.covercard .card-container{display:-webkit-flex;display:flex;flex-direction:column;justify-content:space-between;align-items:center;width:100%;max-width:910px;margin:0 auto}.covercard .card-container.fill{height:100%}.covercard .card-headline,.covercard .card-row,.covercard .card-footer{padding-left:40px;padding-right:40px;padding-top:5px;padding-bottom:5px}@media screen and (max-height: 500px),screen and (max-width: 500px){.covercard .card-headline,.covercard .card-row,.covercard .card-footer{padding-left:20px;padding-right:20px}}.covercard .card-headline{padding-top:40px;padding-bottom:20px;font-size:38px}@media screen and (max-height: 500px),screen and (max-width: 500px){.covercard .card-headline{font-size:22.8px;padding-top:28px;padding-right:90px;padding-left:90px}}.covercard .card-headline.dynamic-headline-position{margin-bottom:15px}@media screen and (max-width: 1000px){.covercard .card-headline.dynamic-headline-position{padding:40px 150px 20px 150px}}@media screen and (max-width: 700px){.covercard .card-headline.dynamic-headline-position{padding:90px 10px 15px 10px}}.covercard .card-text{font-size:1.3em}@media screen and (max-height: 500px),screen and (max-width: 500px){.covercard .card-text{font-size:.75em}}.covercard .card-text a{color:#000}.covercard .card-row{max-width:calc(100% - 40px)}.covercard .card-footer{height:20px}.svg-margin-25{margin:25px}.svg-margin-10{margin:10px}#about-card{background-color:#ff7bac;color:#fff;font-size:1.2em}#about-card a{color:#fff}[lang=ar] #about-card{direction:rtl}#about-card #about-card-text{text-align:center;letter-spacing:1px}#about-card #button-learn-more{margin-top:30px}#about-card .card-text{font-size:.8em}@media screen and (max-height: 500px),screen and (max-width: 500px){#about-card .card-text{font-size:.6em}}#about-card #about-video{width:100%;height:0;padding-bottom:56.25%;position:relative;margin-top:50px;margin-bottom:50px}#about-card #about-video iframe{position:absolute;top:0;left:0;width:100%;height:100%}[lang=ar] #newround-card{direction:rtl}#newround-card .card-headline{color:rgba(0,0,0,.4)}#newround-card #challengetext-level{font-size:18px}#newround-card .card-text{font-size:1.5em}[lang=en-US] #newround-card .card-text{font-size:2em}#newround-card .card-text #challengetext-word{font-size:2em}#newround-card .card-text #time-text{margin-bottom:40px}@media screen and (max-height: 500px),screen and (max-width: 500px){#newround-card .card-text{font-size:1.5em !important}#newround-card .card-text #time-text{margin-bottom:20px}}[lang=ar] #timesup-card{direction:rtl}#timesup-card #timesup-drawings-wrapper .timesup-round{position:relative;display:inline-block;vertical-align:top;margin:10px}@media screen and (min-height: 500px)and (max-width: 500px){#timesup-card #timesup-drawings-wrapper .timesup-round{margin:5px}}#timesup-card #timesup-drawings-wrapper .timesup-drawing{z-index:100;position:relative}#timesup-card #timesup-drawings-wrapper .timesup-drawing .timesup-drawing-status{font-size:13px;color:#ccc;top:97px;width:100%;left:0;text-align:center;position:absolute}#timesup-card #portfolio-text{margin-bottom:24px}#timesup-card #button-timesup-play{margin-top:24px}[lang=de] #timesup-card #button-timesup-play{font-size:15px}#round-detail-card .round-details-text{margin:4px 0}#round-detail-card #round-details-subtitle-not-recognized,#round-detail-card #round-details-subtitle-recognized{position:relative;top:-31px}#round-detail-card #round-drawing{margin:auto;width:265px}#round-detail-card #round-detail-wrapper>div{position:relative;display:inline-block;width:265px;margin:6px 0}#round-detail-card #round-detail-wrapper>div .round-detail-score{margin-bottom:10px;position:absolute;width:100%;font-size:13px;top:17px}#round-detail-card #round-detail-wrapper>div .round-detail-word{font-size:15px;position:absolute;width:100%;top:34px}[lang=en-US] #round-detail-card #round-detail-wrapper>div .round-detail-word{font-size:22px;top:33px}#round-detail-card #round-detail-wrapper>div .round-detail-image,#round-detail-card #round-detail-wrapper>div .round-detail-image-neighbor{margin-top:10px;padding-top:50px}#round-detail-card #round-detail-wrapper>div .round-detail-image-neighbor{position:absolute;z-index:100}#round-detail-card #gallery-title{padding-top:20px}#round-detail-card .gallery-drawing{margin:10px;display:inline-block}#round-detail-card .drawing{background-color:#fff;-webkit-box-shadow:1px 1px 3px 2px #f0c535;-moz-box-shadow:1px 1px 3px 2px #f0c535;box-shadow:1px 1px 3px 2px #f0c535;width:265px}#round-detail-card .gallery-line{height:40px;width:80%;background-image:url('+Y+');background-repeat:no-repeat;background-position-y:center}[lang=de] #round-detail-card #button-back,[lang=es] #round-detail-card #button-back,[lang=fr] #round-detail-card #button-back,[lang=pt-BR] #round-detail-card #button-back{font-size:16px}[lang=it] #round-detail-card #button-back,[lang=pt-PT] #round-detail-card #button-back{font-size:12px;line-height:21px}@media screen and (max-height: 500px),screen and (max-width: 500px){#round-detail-card{font-size:.6em}}#survey-card div{flex-grow:1;flex-basis:0;text-align:left}#survey-card div #survey-content label{display:block;font-weight:100}#survey-card div #survey-content label br{font-size:1.5em}#survey-card #button-next{margin-top:30px}#survey-card .survey-group{margin-top:40px;margin-bottom:70px;position:relative;display:flex;flex-direction:row;justify-content:space-around;align-items:flex-end}#survey-card .survey-group div{text-align:center}#survey-card .survey-input{margin:0px 10px}#survey-card #survey-explanation{margin-bottom:40px}#survey-card #survey-skip-button{text-align:center;margin-left:13px;left:-12px;position:relative;margin-top:10px;margin-bottom:20px;cursor:pointer}#survey-card #survey-policy{margin-bottom:30px;font-size:.8em}#survey-card #survey-policy a{color:#000}#survey-card #survey-error{color:red;color:red;margin-bottom:-16px;margin-left:-15px;margin-top:8px}button{background:none;border:0}button:focus{outline:none}.button{display:inline-block;box-sizing:border-box;height:50px;width:47px;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding-top:0;padding-left:6px;padding-right:3px;padding-bottom:18px;background-repeat:no-repeat;background-size:94px 339px;background-position:0 0;font-family:"Roboto Mono",sans-serif;font-weight:normal;font-size:18px;text-align:center;color:#fff;cursor:pointer;overflow:hidden;-webkit-tap-highlight-color:rgba(255,255,255,0);-webkit-tap-highlight-color:transparent}.button.button-close,.button.button-pink,.button.button-gray,.button.button-facebook,.button.button-twitter,.button.button-g{background-image:url('+tt+")}.button.button-close{background-position:0 -56px}.button.button-close:active{background-position:-53px -56px}.button.button-pink{background-position:0 0}.button.button-pink:active{background-position:-53px 0}.button.button-gray{background-position:0 -280px}.button.button-gray:active{background-position:-53px -280px}.button.button-facebook{background-position:0 -168px}.button.button-facebook:active{background-position:-53px -168px}.button.button-twitter{background-position:0 -112px}.button.button-twitter:active{background-position:-53px -112px}.button.button-g{background-position:0 -224px}.button.button-g:active{background-position:-53px -224px}.button.button-medium{background-image:url("+et+")}.button.button-medium.button-gray{background-position:0 0}.button.button-medium.button-gray:active{background-position:-200px 0}.button.en_US-toggle{background-image:url("+nt+");background-position:center;background-size:100%}.button.en-US-toggle{background-image:url("+nt+");background-position:center;background-size:100%}.button.de-toggle{background-image:url("+it+");background-position:center;background-size:100%}.button.button-toggle{height:58px;width:200px;background-size:100%;padding-top:0;padding-left:9px;padding-right:8px}.button.button-yellow,.button.button-green,.button.button-medium-gray{background-image:url("+rt+")}.button.button-green{background-position:0 0}.button.button-green:active{background-position:-200px 0}.button.button-yellow{background-position:0 -71px}.button.button-yellow:active{background-position:-200px -71px}.button:active{padding-left:3px;padding-right:9px}.button:active span{position:relative;top:9px}.button.button-medium{height:58px;width:118px;background-size:400px 142px;padding-top:0;padding-left:9px;padding-right:8px}.button.button-medium:active{padding-right:12px}.button.button-medium:active span{position:relative;top:8px}.button.button-medium.button-yellow.current-lang{background-position:-200px -71px;padding-left:3px;padding-right:9px}.button.button-medium.button-yellow.current-lang span{position:relative;top:9px}.button.button-large{height:58px;width:200px;background-size:400px 142px;padding-top:0;padding-left:9px;padding-right:8px}.button.button-large:active{padding-left:3px}.button.button-large:active span{position:relative;top:8px}.button.button-drawing{background-image:url("+ot+");height:140px;width:198px;background-position:0 0;background-size:400px 142px;padding-top:0px;padding-left:14px;padding-right:8px}.button.button-drawing:active{background-position:-200px 0;padding-right:12px;padding-left:10px;padding-top:8px}.button .icon{display:inline-block;background-repeat:no-repeat;background-size:170px 26px;width:31px;height:26px;margin-left:1px;margin-top:-3px;margin-right:5px;background-image:url("+st+")}.button .icon.icon-undo{background-position:2px 0}.button .icon.icon-clear{background-position:-54px 0}.button .icon.icon-skip{background-position:-26px 0}.button .icon.icon-back{background-position:-86px 1px}.button.button-medium span,.button.button-large span{float:left}.button.button-medium span.center,.button.button-large span.center{float:none}.button .tooltip{position:absolute;color:#000;text-align:left;font-size:35px}.button#button-undo .tooltip{top:-56px;left:-90px}.button#button-undo .tooltip .arrow-2{left:47px;top:15px}.button#button-clear .tooltip{top:-87px;left:-36px}.button#button-clear .tooltip .arrow-3{left:31px;top:25px}.button#button-skip .tooltip{top:-93px;left:42px}.button#button-skip .tooltip .arrow-4{left:10px;top:35px}.button.button-close .tooltip{top:85px;left:-26px}.button.button-close .tooltip .arrow-1{left:5px;top:-40px}#speechbubble-wrapper{position:absolute;bottom:22px;text-align:center;width:100%;pointer-events:none}#machine-speechbubble{background-color:#f2f2f2;min-width:50px;border-radius:5px;display:inline-block;font-size:17px;letter-spacing:1px;padding:10px 16px}[lang=ar] #machine-speechbubble{direction:rtl}#machine-speechbubble div{display:inline}#machine-speechbubble #machine-speechbubble-secondary{color:#aaa}@media screen and (max-height: 500px),screen and (max-width: 500px){#machine-speechbubble{font-size:14px}}#machine-speechbubble-tip{background-image:url("+at+');background-repeat:no-repeat;background-size:35px 30px;background-position:0px 0px;width:35px;height:30px;bottom:-12px;margin:0 auto;margin-top:-13px}#loginbody{background:#f2f2f2;text-align:center;margin:0}#login form{-webkit-transform:translate(-50%, -50%);-moz-transform:translate(-50%, -50%);transform:translate(-50%, -50%);position:absolute;left:50%;top:40%}#login input{border-radius:3px;line-height:14px;font-size:14px;outline:none;display:block;padding:5px;margin:10px auto;border:1px solid #ccc;width:220px}#login input[type=submit]{background:#3498db;padding:10px;border:none;width:200px;color:#fff}.popup-wrapper{position:fixed;width:100%;height:100%;background-color:rgba(0,0,0,.9);color:#fff;display:flex;align-items:center;justify-content:center;text-align:center;top:0;z-index:1000}[lang=ar] .popup-wrapper{direction:rtl}.popup-wrapper .popup-box .popup-text{font-size:40px;margin-bottom:40px;text-align:center;padding:0 30px}.popup-wrapper .popup-box .popup-buttons{padding:0 30px}#gameview{display:none;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#gameview .topbar{background-color:#ffd139;box-shadow:0px 5px 0px 1px rgba(0,0,0,.15);width:100%;padding:22px 50px 22px 22px}#gameview .topbar #topbar-text{color:rgba(0,0,0,.4);display:inline-block}[lang=ar] #gameview .topbar #topbar-text{direction:rtl}#gameview .topbar #clock{position:absolute;top:18px;margin:auto auto;left:0;right:0;font-family:"Roboto Mono",monospace;text-align:center}#gameview .topbar #clock #clock-time{display:inline-block;background-color:#fff;padding:4px 14px;box-shadow:inset 1px 1px 0 1px rgba(0,0,0,.15)}#gameview .topbar #clock.text-blink{color:#ff5000}#gameview .topbar #topbar-buttons{right:15px;top:12px;position:absolute}#gameview .topbar #topbar-buttons .button{vertical-align:top}@media screen and (max-height: 500px),screen and (max-width: 500px){#gameview .topbar{padding:0 0 0 0;padding-top:66px;padding-bottom:15px;text-align:center}#gameview .topbar #topbar-buttons{width:100%;left:0;right:0;text-align:left;padding-left:16px}#gameview .topbar #topbar-buttons .button-close{position:absolute;right:32px}}@media screen and (max-height: 350px),screen and (max-width: 350px){#gameview .topbar #clock{text-align:left;margin-left:20px}#gameview .topbar #topbar-buttons{right:15px;top:12px;position:absolute;width:initial;text-align:right}#gameview .topbar #topbar-buttons .button-close{position:initial;right:initial}}@font-face{font-family:Handwrite1;src:url('+ut+') format("opentype")}@font-face{font-family:Handwrite2;src:url('+lt+') format("opentype")}@font-face{font-family:Handwrite3;src:url('+ct+') format("opentype")}@font-face{font-family:"mf-be-yourself";src:url('+ht+') format("woff2"),url('+dt+') format("woff")}@font-face{font-family:"naguri";src:url('+ft+') format("truetype")}@font-face{font-family:"UhBeeDoolDool";src:url('+pt+"),url("+gt+') format("woff")}@font-face{font-family:"bryndan_write";src:url('+vt+') format("truetype")}@font-face{font-family:"NotoKufiArabic";src:url('+mt+') format("truetype")}@font-face{font-family:"NotoSansCJKjp";src:url('+_t+') format("opentype")}@font-face{font-family:"NotoSansCJKkr";src:url('+wt+') format("opentype")}@font-face{font-family:"NotoSansCJKsc";src:url('+yt+') format("opentype")}@font-face{font-family:"NotoSansCJKtc";src:url('+bt+') format("opentype")}.handwritten{display:none}.font-hand-1{font-family:Handwrite1;font-size:1.4em}.font-hand-2{font-family:Handwrite2;font-size:1.4em}.font-hand-3{font-family:Handwrite3;font-size:1.4em}html[lang=ar] .font-hand-1,html[lang=ar] .font-hand-2,html[lang=ar] .font-hand-3{font-family:"Mirza",cursive}html[lang=ar] body{font-family:"NotoKufiArabic"}html[lang=de] .font-hand-1,html[lang=de] .font-hand-2,html[lang=de] .font-hand-3,html[lang=es] .font-hand-1,html[lang=es] .font-hand-2,html[lang=es] .font-hand-3,html[lang=es-US] .font-hand-1,html[lang=es-US] .font-hand-2,html[lang=es-US] .font-hand-3,html[lang=fr] .font-hand-1,html[lang=fr] .font-hand-2,html[lang=fr] .font-hand-3,html[lang=it] .font-hand-1,html[lang=it] .font-hand-2,html[lang=it] .font-hand-3,html[lang=pt-BR] html[lang=pt-PT] .font-hand-1,html[lang=pt-BR] html[lang=pt-PT] .font-hand-2,html[lang=pt-BR] html[lang=pt-PT] .font-hand-3{font-family:"mf-be-yourself"}html[lang=zh-CN] body{font-family:"NotoSansCJKsc"}html[lang=zh-HK] body,html[lang=zh-TW] body{font-family:"NotoSansCJKtc"}html[lang=ja] .font-hand-1,html[lang=ja] .font-hand-2,html[lang=ja] .font-hand-3{font-family:"naguri"}html[lang=ja] body{font-family:"NotoSansCJKjp"}html[lang=ko] .font-hand-1,html[lang=ko] .font-hand-2,html[lang=ko] .font-hand-3{font-family:"UhBeeDoolDool"}html[lang=ko] body{font-family:"NotoSansCJKkr"}html[lang=ru] .font-hand-1,html[lang=ru] .font-hand-2,html[lang=ru] .font-hand-3{font-family:"bryndan_write"}sup{font-size:.6em}body{margin:0;padding:0;overflow:hidden;font-family:"Roboto Mono",sans-serif}#content-wrapper{position:absolute;min-width:300px;min-height:300px;width:100%;height:100%;overflow:hidden}.notransition{-webkit-transition:none !important;-moz-transition:none !important;-o-transition:none !important;-ms-transition:none !important;transition:none !important}#page404{font-size:30px;background:#ffd139;text-align:center;height:100%;padding-top:40px}.hidden-on-startup{display:none}#beep{display:none}',""]),e.default=F},function(t,e,n){"use strict";var i=n(0),r=function(){function t(){var e=this;this.queue=[],this.queue=[],window.onhashchange=function(){var n,r,o=location.hash.replace("#","");if((0===(null===(n=e.queue)||void 0===n?void 0:n.length)||o!==i.c.last(e.queue).name)&&(e.queue.length>1&&o===e.queue[e.queue.length-2].name||0===o.length&&1===e.queue.length)){var s=null===(r=i.c.last(e.queue))||void 0===r?void 0:r.callback;s&&s(),t.pop(i.c.last(e.queue).name)}},location.hash=""}return t.getInstance=function(){return this.instance||(t.instance=new t),t.instance},t.push=function(t,e){i.c.last(this.getInstance().queue)&&i.c.last(this.getInstance().queue).name===t||(this.getInstance().queue.push({name:t,callback:e}),location.hash=t)},t.pop=function(t){i.c.last(this.getInstance().queue)&&i.c.last(this.getInstance().queue).name===t&&(this.getInstance().queue.pop(),this.getInstance().queue.length>0?location.hash=i.c.last(this.getInstance().queue).name:location.hash="")},t}();e.a=r},function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return c}));var i=n(8),r=n(12),o=n(2),s=n(53),a=n(7),u=n(0),l={NEW_RECOGNITIONS:"NEW_RECOGNITIONS"},c=function(t){function e(){var e=t.call(this)||this;return e.isRecognizing=!1,e.machineView=s.a.getInstance(),e.processDrawingThrottle=u.c.throttle((function(t){return e.processDrawing(t)}),1e3*o.a.max_api_rate,{leading:!1}),e.isRecognizing=!1,e.reset(),e}return Object(i.a)(e,t),e.prototype.reset=function(){},e.prototype.start=function(){this.reset(),this.isRecognizing=!0},e.prototype.stop=function(){this.isRecognizing=!1},e.prototype.processDrawing=function(t){var e=this,n=t.getSegments();u.c.reduce(n,(function(t,e){return t+e[0].length}),0)>10&&r.a.processSegments(n,t.width,t.height).then((function(t){return e.processRecognitionResponse(t)}))},e.prototype.processRecognitionResponse=function(t){if(this.isRecognizing){var e=this.filterGuesses(t);this.emit(l.NEW_RECOGNITIONS,e)}},e.prototype.filterGuesses=function(t){return u.c.filter(t,(function(t){return t.score<o.a.handwriting_threshold}))},e.prototype.onDrawingUpdated=function(t){this.isRecognizing&&this.processDrawingThrottle(t)},e}(a.a)},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return a}));var i=n(8),r=n(7),o=n(16),s=n(14),a=function(e){function n(){var n,i,r=this,o=t("#select-locale");return(r=e.call(this)||this).elm=t("#splashview").hide(),t("#share_twitter").on("click",(function(){s.a.ShareSiteTwitter()})),t("#share_facebook").on("click",(function(){s.a.ShareSiteFacebook()})),t("#share_g").on("click",(function(){s.a.ShareSiteG()})),i=null===(n=t("html").attr("lang"))||void 0===n?void 0:n.replace("-","_"),o.val(i),o.css({visibility:"visible",marginBottom:15}),t("#select-locale-value").text(o[0].options[o[0].selectedIndex].text),o.on("change",(function(){var e;e=t(this).val(),t("#select-locale-value").text(o[0].options[o[0].selectedIndex].text),ga("send","event","Language","pick",e),window.location.assign(window.location.origin+window.location.pathname+"?locale="+e)})),r}return Object(i.a)(n,e),n.prototype.enableButtons=function(){var e=this;t("#button-play").on("click",(function(){e.emit("START_GAME"),e.disableButtons(),document.getElementById("beep").load()})),t("#button-play-freeplay").on("click",(function(){e.emit("START_GAME_FREEPLAY"),e.disableButtons()})),t("#button-about").on("click",(function(){(new o.a).showAbout()}))},n.prototype.disableButtons=function(){t("#button-play").off("click"),t("#button-play-freeplay").off("click"),t("#button-about").off("click")},n.prototype.showView=function(){this.enableButtons(),this.elm.show()},n.prototype.hideView=function(){this.disableButtons(),this.elm.hide()},n}(r.a)}).call(this,n(4))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return m}));var i=n(8),r=n(7),o=n(62),s=n(59),a=n(13),u=n(64),l=n(65),c=n(16),h=n(53),d=n(66),f=n(2),p=n(6),g=n(5),v=n(0),m=function(e){function n(){var n=e.call(this)||this;return n.level=0,n.preparedChallenge=null,n.completedLevels=0,n.presentedWords=[],n.previousRounds=[],n.pastRound=null,n.currentRound=null,n.translations=p.a.getInstance(),n.recognitionController=new s.a,n.clock=d.a.getInstance(),n.drawingCanvas=new u.a,n.gameView=new l.a,n.cardsView=new c.a,n.machineView=h.a.getInstance(),n.drawingUntouched=!0,n.drawingCanvas.addListener("DRAWING_UPDATED",(function(t){n.onDrawingUpdated(t)})),n.gameView.addListener("UNDO",(function(){return n.drawingCanvas.undo()})),n.gameView.addListener("CLEAR",(function(){return n.drawingCanvas.clear()})),n.gameView.addListener("SKIP",(function(){return n.skipRound()})),n.gameView.addListener("EXIT_GAME",(function(){return n.exitGame()})),n.clock.addListener("TIMES_UP",(function(){return n.roundTimesUp()})),n.recognitionController.addListener(s.b.NEW_RECOGNITIONS,(function(t){return n.onNewRecognitions(t)})),n.elm=t("#gameview").hide(),n.resetGameRounds(),n.newGuessesCounter=0,n}return Object(i.a)(n,e),n.prototype.prepareNewGame=function(t){var e=this;if(this.preparedChallenge){if(t){var n=v.a(this.preparedChallenge);this.preparedChallenge=null,t(n)}}else a.b(1,[],(function(n){t?t(n):e.preparedChallenge=n}))},n.prototype.startNewGameWithChallenge=function(t,e){var n=this;e=v.d(e||{},{onCardDismiss:void 0}),g.a.startNewGame(),this.resetGameRounds(),this.level=1,this.completedLevels=0,this.clock.reset(),this.clock.startClock(),this.setStatus(0,f.a.num_rounds),this.startNewRoundWithChallenge(t,{onCardDismiss:null==e?void 0:e.onCardDismiss}),this.gameView.showTooltips(),this.gameView.addListener("CLEAR",(function(){return n.machineView.reset()}))},n.prototype.setStatus=function(e,n){t("#game-status").text(this.translations.getPhrase("drawing")+" "+e+" / "+n)},n.prototype.resetGameRounds=function(){this.presentedWords=[],this.previousRounds=[]},n.prototype.startFreeplayGame=function(){var t=this;this.resetGameRounds(),this.recognitionController.start(),this.gameView.addListener("CLEAR",(function(){return t.recognitionController.reset()}))},n.prototype.startNewRoundWithChallenge=function(e,n){var i=this;if(n=v.d(n||{},{showCard:!0,skipped:!1,timesUp:!1,onCardDismiss:function(){}}),this.pauseGame(),g.a.forceWord&&g.a.forceWord[String(this.level)]){var r=v.k(g.a.forceWord[String(this.level)]);e.challenge=r,e.en_challenge=r}this.setStatus(this.level,f.a.num_rounds),this.pastRound=this.currentRound,this.currentRound=new o.a(e,this.level),this.currentRound.width=this.drawingCanvas.width,this.currentRound.height=this.drawingCanvas.height,this.drawingUntouched=!0,this.presentedWords.push(this.currentRound.word);var s=function(){var e,n;ga("send","event","Round","start",i.level),t("#topbar-text").text(i.translations.getPhrase("draw",[i.translations.get(null===(e=i.currentRound)||void 0===e?void 0:e.word)])),i.drawingCanvas.clear(),i.machineView.reset(),i.recognitionController.start(),i.clock.reset(),i.clock.startClock(),null===(n=i.currentRound)||void 0===n||n.resetTime()};if(null==n?void 0:n.showCard){var u="complete";if(n.skipped&&(u="skip"),n.timesUp&&(u="timesup"),1===this.level&&(u="first"),g.a.showSurveryAtRound===this.level-1&&!n.skipped){var l,c=new Date,h=0;this.cardsView.showRoundDetails(this.previousRounds[this.previousRounds.length-1],{nextButton:!0}).then((function(){h=((new Date).getTime()-c.getTime())/1e3})).then((function(){var t;return i.cardsView.showSurvey(null===(t=i.pastRound)||void 0===t?void 0:t.recognized)})).then((function(t){var e,n,r,o,s;return t.word=null===(e=i.pastRound)||void 0===e?void 0:e.word,t.experiment=g.a.experimentName,t.durationDrawing=Math.round(null===(n=i.pastRound)||void 0===n?void 0:n.duration),t.durationOnExplanationPage=Math.round(h),t.drawing=JSON.stringify(null===(r=i.pastRound)||void 0===r?void 0:r.drawing),t.recognized=null===(o=i.pastRound)||void 0===o?void 0:o.recognized,t.recognitionId=null===(s=i.pastRound)||void 0===s?void 0:s.recognitionId,t.condition=g.a.activeExperiments.conditions,t.locale=a.d(),l=t,i.cardsView.fetchNeighbors(i.pastRound)})).then((function(t){return l.neighbors=JSON.stringify(t),a.f(l)})).then((function(){return g.a.endExperiment()}))}this.cardsView.showNewRoundCard({level:this.level,word:this.currentRound.localizedWord,mode:u,onCardDismiss:function(){(null==n?void 0:n.onCardDismiss)&&n.onCardDismiss(),s()}})}else s();this.level===f.a.num_rounds?this.gameView.hideSkip():this.gameView.showSkip()},n.prototype.pauseGame=function(){this.clock.pauseClock(),clearTimeout(this.userNotDrawingTimeout)},n.prototype.resumeGame=function(){this.clock.startClock()},n.prototype.skipRound=function(){var t=this;ga("send","event","Round","skip",this.level),this.recognitionController.stop(),this.submitRoundResult({recognition:!1},(function(e){t.previousRounds.push(t.currentRound),t.machineView.reset(),t.level<f.a.num_rounds?(t.level++,t.startNewRoundWithChallenge(e,{skipped:!0})):t.endGame()}))},n.prototype.roundRecognized=function(t){var e,n=this;ga("send","event","Round","recognized"),this.recognitionController.stop(),this.pauseGame(),this.machineView.setResultWord(null===(e=this.currentRound)||void 0===e?void 0:e.word),setTimeout((function(){n.submitRoundResult({recognition:t},(function(t){n.previousRounds.push(n.currentRound),n.completedLevels++,n.level++,n.level-1===f.a.num_rounds?n.endGame():n.startNewRoundWithChallenge(t)}))}),1500)},n.prototype.roundTimesUp=function(){var t=this;ga("send","event","Round","times_up",this.level),this.recognitionController.stop(),setTimeout((function(){t.machineView.speakAndWrite(t.translations.getPhrase(v.k(f.a.timesUpSentences)))}),500),this.submitRoundResult({recognition:!1},(function(e){t.previousRounds.push(t.currentRound),t.level<f.a.num_rounds?(t.machineView.reset(),t.level++,t.startNewRoundWithChallenge(e,{skipped:!1,timesUp:!0})):t.endGame()}))},n.prototype.endGame=function(){var t=this;ga("send","event","Game","end",this.level),this.recognitionController.stop(),this.clock.pauseClock(),this.machineView.reset(),v.h(this.previousRounds)!==this.currentRound&&this.previousRounds.push(this.currentRound),this.cardsView.showTimesUpCard(this.previousRounds,(function(e){"CLOSE"===e?t.exitGame():(ga("send","event","Game","end_restart"),t.prepareNewGame((function(e){t.startNewGameWithChallenge(e)})))}))},n.prototype.exitGame=function(){ga("send","event","Game","exit",this.level),this.pauseGame(),this.recognitionController.stop(),this.machineView.setGuesses([]),this.currentRound=null,this.clock.pauseClock(),this.emit("GAME_END")},n.prototype.showView=function(){this.elm.show(),ga("send","screenview",{screenName:"Gameview"})},n.prototype.hideView=function(){this.elm.hide()},n.prototype.submitRoundResult=function(t,e){var n=this;this.currentRound&&(this.currentRound.drawing=this.drawingCanvas.getSegments(),this.currentRound.recognized=!!t.recognition,this.currentRound.recognitionId=t.recognition?t.recognition.id:0,this.currentRound.duration=this.currentRound.getElapsedTime(),a.e(this.currentRound,this.presentedWords).then((function(t){t.lastroundid&&n.currentRound&&(n.currentRound.key=t.lastroundid),e&&e(t)})).catch((function(){e&&e()})))},n.prototype.onNewRecognitions=function(t){var e=this;if(this.currentRound&&(this.currentRound.recognitions=t),this.recognitionController.isRecognizing){var n=v.g(t,(function(t){var n,i;return(t.word===(null===(n=e.currentRound)||void 0===n?void 0:n.word)||v.b((null===(i=e.currentRound)||void 0===i?void 0:i.synonyms)||[],t.word))&&t.score<f.a.handwriting_recognition_threshold}));if(this.currentRound&&n)this.roundRecognized(n);else if(this.currentRound){if(t=v.f(t,(function(t){var n,i,r;return i=t.word!==(null===(n=e.currentRound)||void 0===n?void 0:n.word),r="en_US"===e.translations.getLocale()||!!e.translations.get(t.word),i&&r})),0===this.machineView.setGuesses(v.j(t,"word"))?this.newGuessesCounter++:this.newGuessesCounter=0,this.newGuessesCounter>2){this.newGuessesCounter=0;var i=this.translations.getPhrase(v.k(f.a.noNewGuessesSentences));this.machineView.speakAndWrite(i)}}}},n.prototype.onDrawingUpdated=function(t){this.userNotDrawingTimeout&&clearTimeout(this.userNotDrawingTimeout),this.recognitionController.onDrawingUpdated(t),this.drawingUntouched&&(ga("send","event","Game","start_drawing","",Math.round(10*this.clock.currentTime())/10),this.drawingUntouched=!1,this.machineView.setText("..."))},n}(r.a)}).call(this,n(4))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=function(){function t(t,e){this.key="",this.synonyms=[],this.word=t.en_challenge,this.localizedWord=t.challenge,this.startTime=new Date,this.recognized=!1,this.level=e,this.recognitions=[],this.width=0,this.height=0,this.duration=0}return t.prototype.resetTime=function(){this.startTime=new Date},t.prototype.getElapsedTime=function(){return((new Date).getTime()-this.startTime.getTime())/1e3},t}()},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return r}));var i=n(0),r=function(){function e(){this.langMap={"en-US":"en-US","es-US":"es-MX",ar:"ar-SA",de:"de-DE",es:"es-ES",fr:"fr-FR",it:"it-IT",ja:"ja-JP",ko:"ko-KR","pt-BR":"pt-BR","pt-PT":"pt-PT",ru:"ru-RU","zh-CN":"zh-CN","zh-HK":"zh-HK","zh-TW":"zh-TW"},this.supported=!1,this.lang=t("html").attr("lang"),this.voiceLang=this.langMap[this.lang],this.supported=!1,this.synth=window.speechSynthesis,this.synth&&(this.supported=!0,this.synth.getVoices())}return e.prototype.speak=function(t,e){var n=this;if(this.supported){t=t.replace(/'/gi,"’");var r=i.c.once((function(){e&&e()})),o=new SpeechSynthesisUtterance(t);o.addEventListener("end",(function(){r()}));var s=function(){n.synth.speaking?setTimeout((function(){s()}),200):r()};setTimeout((function(){s()}),500),o.rate=1.1,this.voice&&(o.voice=this.voice),o.lang=this.voiceLang,this.synth.speak(o)}},e}()}).call(this,n(4))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return u}));var i=n(8),r=n(7),o=n(0),s=n(3),a=n.n(s),u=function(e){function n(){var n=e.call(this)||this;n.fgColor="black",n.bgColor="#68747a",n.paperpaths=[],n.paths=[],a.a.install(window),n.canvas=document.getElementById("drawingCanvas"),a.a.setup(n.canvas);var i,r=new a.a.Tool;return n.startTime=void 0,r.onMouseDown=function(t){i&&(i.selected=!1),i=new a.a.Path({segments:[t.point],strokeColor:n.fgColor,strokeCap:"round",strokeWidth:7}),n.paperpaths.push(i),0===n.paths.length&&(n.startTime=new Date),n.paths.push([[t.point.x],[t.point.y],[n.currentTimeMs()]]),a.a.view.draw()},r.onMouseDrag=function(t){i.add(t.point);var e=o.c.last(n.paths);(0===e[0].length||Math.abs(o.c.last(e[0])-t.point.x)>4||Math.abs(o.c.last(e[1])-t.point.y)>4)&&(e[0].push(t.point.x),e[1].push(t.point.y),e[2].push(n.currentTimeMs())),i.smooth(),a.a.view.draw(),n.emit("DRAWING_UPDATED",n)},r.onMouseUp=function(t){i.smooth(),a.a.view.draw(),n.emit("DRAWING_UPDATED",n),o.c.last(n.paths)[0].push(t.point.x),o.c.last(n.paths)[1].push(t.point.y),o.c.last(n.paths)[2].push(n.currentTimeMs())},t(window).resize((function(){n.resizeCanvas()})),t(window).on("orientationchange",(function(){n.resizeCanvas()})),n.resizeCanvas(),n}return Object(i.a)(n,e),Object.defineProperty(n.prototype,"width",{get:function(){return this.canvas?this.canvas.width:0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.canvas?this.canvas.height:0},enumerable:!1,configurable:!0}),n.prototype.currentTimeMs=function(){return this.startTime?(new Date).getTime()-this.startTime.getTime():0},n.prototype.undo=function(){this.paperpaths.length>0&&(this.paperpaths[this.paths.length-1].remove(),this.paperpaths.splice(this.paperpaths.length-1,1),a.a.view.draw())},n.prototype.clear=function(){a.a.project.activeLayer.removeChildren(),this.paperpaths=[],this.resizeCanvas(),delete this.startTime,this.paths=[]},n.prototype.getSegments=function(){return this.paths},n.prototype.getJpg=function(){if(this.canvas){var t=document.createElement("canvas");t.width=640,t.height=this.canvas.height*(640/this.canvas.width);var e=t.getContext("2d");return null==e||e.beginPath(),null==e||e.rect(0,0,t.width,t.height),e&&(e.fillStyle=this.bgColor),null==e||e.fill(),null==e||e.drawImage(this.canvas,0,0,t.width,t.height),t.toDataURL("image/jpeg").replace("data:image/jpeg;base64,","")}},n.prototype.resizeCanvas=function(){if(this.canvas){var t=a.a.view.center;if(this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.canvas.style.width=window.innerWidth+"px",this.canvas.style.height=window.innerHeight+"px",a.a.view.viewSize=new a.a.Size(this.canvas.width,this.canvas.height),this.paperpaths.length>0)for(var e=0,n=this.paperpaths;e<n.length;e++){var i=n[e],r=a.a.view.center.x-t.x,o=a.a.view.center.y-t.y;i.position.x+=r,i.position.y+=o}a.a.view.draw()}},n.prototype.drawBg=function(){if(this.canvas){var t=new a.a.Rectangle(new a.a.Point(0,0),new a.a.Point(this.canvas.width,this.canvas.height)),e=new a.a.Path.Rectangle(t);e.fillColor=new a.a.Color(this.bgColor),e.sendToBack()}},n.prototype.drawAnchorPoint=function(){var t=new a.a.Path.Circle(a.a.view.center,10);t.fillColor=new a.a.Color("red"),t.sendToBack()},n}(r.a)}).call(this,n(4))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return a}));var i=n(8),r=n(7),o=n(15),s=n(0),a=function(e){function n(){var n=e.call(this)||this;n.elm=t("#gameview"),n.popup=o.a.getInstance(),t("#button-undo").on("click",(function(){n.emit("UNDO")})),t("#button-clear").on("click",(function(){n.emit("CLEAR")}));var i=s.c.throttle((function(){return n.emit("SKIP")}),1e3,{trailing:!1});return t("#button-skip").on("click",(function(){i()})),n.elm.find(".button-close").on("click",(function(){n.popup.showQuitPopup().then((function(){n.emit("EXIT_GAME")})).catch((function(){}))})),n}return Object(i.a)(n,e),n.prototype.showTooltips=function(){var e=this.elm.find(".tooltip");e.fadeIn({duration:0}),e.each((function(){var e=this;setTimeout((function(){t(e).fadeOut({duration:800})}),s.c.random(3e3,3400))}))},n.prototype.hideSkip=function(){t("#button-skip").hide()},n.prototype.showSkip=function(){t("#button-skip").show()},n}(r.a)}).call(this,n(4))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return s}));var i=n(8),r=n(7),o=n(2),s=function(e){function n(){var n=e.call(this)||this;return n.alertFlip=!1,n.started=!1,n.totalTime=0,n.timeleft=0,n.elm=t("#clock"),n.timeElm=t("#clock-time"),n.reset(),n.beepSound=document.getElementById("beep"),n.beepSound.setAttribute("src","static/audio/click.mp3"),n.alertFlip=!1,n.started=!1,n}return Object(i.a)(n,e),n.getInstance=function(){return this.instance||(n.instance=new n),n.instance},n.prototype.reset=function(){this.totalTime=o.a.round_length,this.timeleft=o.a.round_length,this.started=!1,this.updateElm()},n.prototype.startClock=function(){var t=this;this.started=!0,this.interval&&clearInterval(this.interval);var e=new Date;this.interval=setInterval((function(){var n=new Date;t.timeleft-=(n.getTime()-e.getTime())/1e3,e=new Date,t.updateElm(),t.timeleft<=0&&(t.timeleft=0,t.pauseClock(),t.emit("TIMES_UP"))}),100)},n.prototype.pauseClock=function(){this.started=!1,clearInterval(this.interval),this.interval=void 0},n.prototype.currentTime=function(){return this.totalTime-this.timeleft},n.prototype.updateElm=function(){var t,e,n,i,r,o=Math.round(this.timeleft),s=Math.floor(o/60),a=o%60;this.started&&(o<5?Math.round(10*this.timeleft)%2==0?this.alertFlip||(this.alertFlip=!this.alertFlip,null===(t=this.beepSound)||void 0===t||t.play().catch((function(){})),null===(e=this.elm)||void 0===e||e.addClass("text-blink")):this.alertFlip&&(this.alertFlip=!this.alertFlip,null===(n=this.elm)||void 0===n||n.removeClass("text-blink")):null===(i=this.elm)||void 0===i||i.removeClass("text-blink"));var u=("00"+s).slice(-2),l=("00"+a).slice(-2);null===(r=this.timeElm)||void 0===r||r.text(u+":"+l)},n}(r.a)}).call(this,n(4))},function(t,e,n){"use strict";n.r(e),function(t){var e=n(11),i=n(16),r=n(60),o=n(61),s=n(6),a=n(2),u=n(5),l=(n(55),function(){function n(){var n=this;a.a.edition=document.head.querySelector("[property=edition]").content,document.ontouchmove=function(t){t.touches&&t.touches.length>1&&t.preventDefault()},Object(e.a)(t(".handwritten")),t(".handwritten").removeClass("handwritten");var s=this.getUrlParameterByName("experiment");s&&u.a.forceExperiment(s),this.gameController=new o.a,this.gameController.prepareNewGame(),this.gameController.addListener("GAME_END",(function(){return n.showSplashscreen()})),this.cardsView=new i.a,this.splashView=new r.a,this.splashView.showView(),this.splashView.addListener("START_GAME",(function(){return n.startGame()})),this.splashView.addListener("START_GAME_FREEPLAY",(function(){return n.startGameFreeplay()})),t(".hidden-on-startup").removeClass("hidden-on-startup"),("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)&&t("html").addClass("touch")}return n.prototype.showSplashscreen=function(){this.gameController.hideView(),this.splashView.showView(),this.cardsView.hideCard(this.cardsView.newroundCard),ga("send","screenview",{screenName:"Splashscreen"})},n.prototype.startGame=function(){var t=this;this.gameController.prepareNewGame((function(e){t.gameController.startNewGameWithChallenge(e,{onCardDismiss:function(){t.splashView.hideView(),t.gameController.showView()}})}))},n.prototype.startGameFreeplay=function(){this.splashView.hideView(),this.gameController.showView(),this.gameController.startFreeplayGame()},n.prototype.getUrlParameterByName=function(t){var e=window.location.href;t=t.replace(/[[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},n.prototype.redirectToSplash=function(){t("#newround-card").hide(),t("#timesup-card").hide(),t("#about-card").hide(),t("#round-detail-card").hide(),t("#survey-card").hide(),t("#popup-quit").hide(),t("#popup-message").hide(),this.showSplashscreen()},n}());t(document).ready((function(){new l})),ga("create","UA-85918250-1","auto"),ga("send","pageview"),ga("send","event","Language","load",s.a.getInstance().getLocale(),{nonInteraction:1})}.call(this,n(4))},function(t,e){},function(t,e){}]);